"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[1741],{8123(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"concepts/extensions","title":"Extensions","description":"Overview","source":"@site/docs/concepts/extensions.md","sourceDirName":"concepts","slug":"/concepts/extensions","permalink":"/competition-factory/docs/concepts/extensions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Extensions"},"sidebar":"docs","previous":{"title":"Time Items","permalink":"/competition-factory/docs/concepts/timeItems"},"next":{"title":"Migration 1.x to 2.x","permalink":"/competition-factory/docs/migration"}}');var i=s(6070),r=s(8439);const a={title:"Extensions"},c=void 0,o={},d=[{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:3},{value:"Extension Structure",id:"extension-structure",level:3},{value:"Location in TODS",id:"location-in-tods",level:3},{value:"Factory-Recognized Extensions",id:"factory-recognized-extensions",level:2},{value:"Configuration &amp; Policy Extensions",id:"configuration--policy-extensions",level:3},{value:"Draw Generation &amp; Structure Extensions",id:"draw-generation--structure-extensions",level:3},{value:"Team Event Extensions",id:"team-event-extensions",level:3},{value:"Scoring &amp; Results Extensions",id:"scoring--results-extensions",level:3},{value:"Scheduling &amp; Venue Extensions",id:"scheduling--venue-extensions",level:3},{value:"Participant &amp; Registration Extensions",id:"participant--registration-extensions",level:3},{value:"Auditing &amp; System Extensions",id:"auditing--system-extensions",level:3},{value:"Display &amp; UI Extensions",id:"display--ui-extensions",level:3},{value:"Custom Extensions",id:"custom-extensions",level:2},{value:"Naming Conventions",id:"naming-conventions",level:3},{value:"Custom Extension Examples",id:"custom-extension-examples",level:3},{value:"Working with Extensions",id:"working-with-extensions",level:2},{value:"Adding Extensions",id:"adding-extensions",level:3},{value:"Retrieving Extensions",id:"retrieving-extensions",level:3},{value:"Updating Extensions",id:"updating-extensions",level:3},{value:"Extension Hydration",id:"extension-hydration",level:3},{value:"Extensions vs Time Items",id:"extensions-vs-time-items",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Uniqueness",id:"uniqueness",level:3},{value:"Value Types",id:"value-types",level:3},{value:"Factory Constant Names",id:"factory-constant-names",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function l(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extensions"}),' capture configuration parameters, calculated results, and custom data that are not part of the core TODS specification. They further extend the tournament "time capsule" - ensuring what happened during a tournament can be accurately reconstructed.']}),"\n",(0,i.jsx)(n.h3,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Non-Temporal Data"}),": Unlike ",(0,i.jsx)(n.a,{href:"./timeItems",children:"Time Items"}),", extensions don't track changes over time",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Name-Value Pairs"}),": Each extension has ",(0,i.jsx)(n.code,{children:"{ name, value }"})," structure",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Uniqueness"}),": Only one extension with a given name per ",(0,i.jsx)(n.code,{children:".extensions"})," array",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Hierarchical Scope"}),": Extensions can exist on any TODS document element",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Factory Constants"}),": Pre-defined extension names recognized by the factory",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Custom Extensions"}),": User-defined extensions for application-specific data"]}),"\n",(0,i.jsx)(n.h3,{id:"extension-structure",children:"Extension Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"type Extension = {\n  name: string;    // Unique identifier within the extensions array\n  value: any;      // Any JSON-serializable data\n};\n\n// On any TODS element\n{\n  extensions: Extension[];\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"location-in-tods",children:"Location in TODS"}),"\n",(0,i.jsx)(n.p,{children:"Extensions can be attached to any element in a tournament record:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Tournament Record (top level)"}),"\n",(0,i.jsx)(n.li,{children:"Events"}),"\n",(0,i.jsx)(n.li,{children:"Draw Definitions"}),"\n",(0,i.jsx)(n.li,{children:"Structures"}),"\n",(0,i.jsx)(n.li,{children:"MatchUps"}),"\n",(0,i.jsx)(n.li,{children:"Participants"}),"\n",(0,i.jsx)(n.li,{children:"Venues/Courts"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"factory-recognized-extensions",children:"Factory-Recognized Extensions"}),"\n",(0,i.jsx)(n.p,{children:"The factory internally uses and recognizes the following extension names (constants):"}),"\n",(0,i.jsx)(n.h3,{id:"configuration--policy-extensions",children:"Configuration & Policy Extensions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"appliedPolicies"})})," - Policies applied to tournament element"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"tournamentRecords"}),", ",(0,i.jsx)(n.code,{children:"events"}),", ",(0,i.jsx)(n.code,{children:"drawDefinitions"}),", ",(0,i.jsx)(n.code,{children:"structures"})]}),"\n",(0,i.jsx)(n.p,{children:'Purpose: Captures which policies are "in scope" within the object hierarchy. Policies can be attached programmatically or automatically during draw generation.'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'appliedPolicies',\n  value: {\n    seeding: { seedingProfile: 'WTN', ... },\n    avoidance: { roundsToSeparate: 3, ... }\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"schedulingProfile"})})," - Auto scheduler configuration"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"tournamentRecords"}),", ",(0,i.jsx)(n.code,{children:"events"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Stores iteratively-edited scheduling profile before running the auto scheduler."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'schedulingProfile',\n  value: [\n    {\n      scheduleDate: '2024-06-15',\n      venues: [{ venueId: 'venue-1', rounds: [...] }]\n    }\n  ]\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"scheduleLimits"})})," - Match daily limits override"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"matchUps"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Overrides policy-defined daily limits for specific matchUps."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'scheduleLimits',\n  value: {\n    SINGLES: 2,\n    DOUBLES: 1,\n    TOTAL: 2\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"scheduleTiming"})})," - Match format timing override"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"matchUps"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Overrides policy-defined timing for specific matchUp formats."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'scheduleTiming',\n  value: {\n    'SET3-S:6/TB7': {\n      averageMinutes: 90,\n      recoveryMinutes: 30\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"draw-generation--structure-extensions",children:"Draw Generation & Structure Extensions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"entryProfile"})})," - Entry limitations"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"events"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Stores limitations on accepted entries including qualifiers, wildcards, and maximum draw size."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'entryProfile',\n  value: {\n    maxDrawSize: 32,\n    qualifiers: 4,\n    wildcards: 4\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"flightProfile"})})," - Flight names and entries"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"events"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Captures flight configuration when event entries are split into multiple flights before draw generation."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'flightProfile',\n  value: {\n    flights: [\n      { flightNumber: 1, drawEntries: [...] },\n      { flightNumber: 2, drawEntries: [...] }\n    ]\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"drawProfile"})})," - Draw-specific configuration"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"drawDefinitions"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Stores draw generation parameters and configuration."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'drawProfile',\n  value: {\n    automated: true,\n    seedsCount: 8,\n    drawType: 'ELIMINATION'\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"eventProfile"})})," - Event-specific configuration"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"events"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Stores event-level configuration and parameters."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'eventProfile',\n  value: {\n    category: 'U18',\n    gender: 'FEMALE',\n    surfaceType: 'HARD'\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"disableLinks"})})," - Link disabling for position swaps"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"structures"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: When positioning policies allow draw position swaps in non-MAIN structures, normal progression logic breaks and links must be disabled to avoid data corruption."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'disableLinks',\n  value: true\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"roundTarget"})})," - Qualifying feed-in rounds"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"structures"}),", ",(0,i.jsx)(n.code,{children:"event.entries"})]}),"\n",(0,i.jsx)(n.p,{children:'Purpose: Supports qualifying structures feeding into different rounds of MAIN structures; also annotates entries for "staggered entry" structures.'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'roundTarget',\n  value: {\n    roundNumber: 2,  // Feed into round 2 of main draw\n    structureId: 'main-structure-id'\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"team-event-extensions",children:"Team Event Extensions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"groupingAttribute"})})," - Team generation attribute"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"participants"})," (TEAM type)"]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Stores the person/participant attribute used to generate TEAM participants."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'groupingAttribute',\n  value: 'club'  // Teams generated by club affiliation\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"lineUps"})})," - Team lineup defaults"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"structures"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Stores most recent lineup for each TEAM progressing through structure. Enables default assignments in hydrated SINGLES/DOUBLES tie matchUps before actual lineups are saved."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'lineUps',\n  value: {\n    'team-1': [\n      { participantId: 'player-1', collectionPosition: 1 },\n      { participantId: 'player-2', collectionPosition: 2 }\n    ]\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"disableAutoCalc"})})," - Manual TEAM scoring"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"matchUps"})," (TEAM type)"]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: When manual scoring is enabled for TEAM matchUps, disables automatic calculation of team results."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'disableAutoCalc',\n  value: true\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"scoring--results-extensions",children:"Scoring & Results Extensions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"delegatedOutcome"})})," - Unofficial results"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"matchUps"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Captures matchUp outcomes sourced from third-party applications for display purposes prior to official result entry."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'delegatedOutcome',\n  value: {\n    score: {\n      sets: [\n        { side1Score: 6, side2Score: 4, winningSide: 1 },\n        { side1Score: 6, side2Score: 2, winningSide: 1 }\n      ]\n    },\n    winningSide: 1,\n    source: 'external-app'\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"tally"})})," - Round robin results"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"positionAssignments"})," (within structures)"]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Stores calculated participant results for structure positions. Used to determine group order in round robin structures."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'tally',\n  value: {\n    matchUpsWon: 4,\n    matchUpsLost: 1,\n    setsWon: 9,\n    setsLost: 3,\n    gamesWon: 54,\n    gamesLost: 38\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"subOrder"})})," - Tie-breaking order"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"positionAssignments"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: When ties occur in round robin group order calculation, captures manual determination of order for tied positions."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'subOrder',\n  value: 2  // Second place among tied participants\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"rankingPoints"})})," - Points awarded"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"tournamentRecords"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Enables capturing points generated by event outcomes for real-time display as participants advance through structures."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'rankingPoints',\n  value: {\n    'player-1': { singles: 250, doubles: 100 },\n    'player-2': { singles: 150 }\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"scheduling--venue-extensions",children:"Scheduling & Venue Extensions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"disabled"})})," - Resource disabling"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"courts"}),", ",(0,i.jsx)(n.code,{children:"venues"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Indicates resource has been disabled and scheduling methods cannot use it."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'disabled',\n  value: true\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"linkedTournamentsIds"})})," - Multi-tournament scheduling"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"tournamentRecords"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: When multiple tournaments share venues, captures the association so client applications know to load all tournament records for scheduling."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'linkedTournamentsIds',\n  value: ['tournament-1', 'tournament-2', 'tournament-3']\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"personRequests"})})," - Scheduling requests"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"participants"}),", ",(0,i.jsx)(n.code,{children:"events"}),", ",(0,i.jsx)(n.code,{children:"tournamentRecords"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Captures scheduling requests from participants. Consumed by scheduler to accommodate requests or simply display them."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'personRequests',\n  value: [\n    {\n      personId: 'person-1',\n      requestType: 'DO_NOT_SCHEDULE',\n      date: '2024-06-15',\n      startTime: '09:00',\n      endTime: '11:00'\n    }\n  ]\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"participant--registration-extensions",children:"Participant & Registration Extensions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"registration"})})," - Registration data"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"participants"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Captures registration-related information and metadata."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'registration',\n  value: {\n    registrationDate: '2024-05-01',\n    registrationId: 'REG-12345',\n    paymentStatus: 'PAID'\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"participantRepresentatives"})})," - Draw witnesses"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"drawDefinitions"})]}),"\n",(0,i.jsx)(n.p,{children:'Purpose: Records participant representatives present as witnesses during manual draw creation (traditional "hat draw").'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'participantRepresentatives',\n  value: [\n    { participantId: 'player-1', representativeName: 'John Coach' },\n    { participantId: 'player-2', representativeName: 'Jane Manager' }\n  ]\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"statusDetail"})})," - Entry status annotation"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"event.entries"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Third-party extension (not used by factory) for annotating entry status of participants."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'statusDetail',\n  value: {\n    status: 'CONFIRMED',\n    notes: 'Paid in full, medical clearance received'\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"eventWithdrawalRequests"})})," - Withdrawal tracking"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"events"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Tracks participant withdrawal requests from events."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'eventWithdrawalRequests',\n  value: [\n    {\n      participantId: 'player-1',\n      requestDate: '2024-06-10',\n      reason: 'Injury'\n    }\n  ]\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"activeSuspension"})})," - Participant suspension"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"participants"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Indicates participant has active suspension affecting eligibility."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'activeSuspension',\n  value: {\n    startDate: '2024-05-01',\n    endDate: '2024-08-31',\n    reason: 'Code violation'\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"auditing--system-extensions",children:"Auditing & System Extensions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"factory"})})," - Factory version tracking"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"tournamentRecords"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Captures version of factory (and other TODS processors) that created/mutated the tournament record."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'factory',\n  value: {\n    version: '2.2.49',\n    lastModified: '2024-06-15T10:30:00Z'\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"drawDeletions"})})," - Deleted draw audit"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"tournamentRecords"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: When no external auditing service is available, stores deleted draw definitions for audit purposes."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'drawDeletions',\n  value: [\n    {\n      drawId: 'draw-123',\n      drawName: 'Main Draw',\n      deletedAt: '2024-06-14T15:00:00Z',\n      deletedBy: 'user-456'\n    }\n  ]\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"positionActions"})})," - Position action telemetry"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"tournamentRecords"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: When no external auditing service is available, stores position action telemetry."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'positionActions',\n  value: [\n    {\n      action: 'ASSIGN_PARTICIPANT',\n      drawPosition: 1,\n      participantId: 'player-1',\n      timestamp: '2024-06-14T14:00:00Z'\n    }\n  ]\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"tieFormatModifications"})})," - Tie format audit"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"tournamentRecords"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: When no external auditing service is available, captures modifications to tie formats during the course of an event."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'tieFormatModifications',\n  value: [\n    {\n      tieFormatId: 'format-1',\n      modifiedAt: '2024-06-15T09:00:00Z',\n      changes: { collectionDefinitions: [...] }\n    }\n  ]\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"context"})})," - Creation context"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"venues"}),", ",(0,i.jsx)(n.code,{children:"courts"}),", and other elements"]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Captures context in which a resource was added (metadata about creation)."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'context',\n  value: {\n    createdBy: 'user-123',\n    createdAt: '2024-06-01T10:00:00Z',\n    source: 'mobile-app'\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"display--ui-extensions",children:"Display & UI Extensions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"display"})})," - Display preferences"]}),"\n",(0,i.jsxs)(n.p,{children:["Attached to: ",(0,i.jsx)(n.code,{children:"events"}),", ",(0,i.jsx)(n.code,{children:"drawDefinitions"}),", ",(0,i.jsx)(n.code,{children:"structures"})]}),"\n",(0,i.jsx)(n.p,{children:"Purpose: Client application-specific storage for display preferences."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  name: 'display',\n  value: {\n    viewMode: 'bracket',\n    showSeeds: true,\n    highlightedParticipants: ['player-1', 'player-2']\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"custom-extensions",children:"Custom Extensions"}),"\n",(0,i.jsx)(n.p,{children:"Applications can define custom extensions for application-specific data not covered by factory constants."}),"\n",(0,i.jsx)(n.h3,{id:"naming-conventions",children:"Naming Conventions"}),"\n",(0,i.jsx)(n.p,{children:"Use descriptive, unique names that won't conflict with factory extensions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// \u2713 GOOD - Clear, specific names\n{ name: 'broadcastSchedule', value: { ... } }\n{ name: 'sponsorData', value: { ... } }\n{ name: 'mediaRequirements', value: { ... } }\n{ name: 'facilityAccess', value: { ... } }\n\n// \u2717 AVOID - Generic or conflicting names\n{ name: 'data', value: { ... } }\n{ name: 'info', value: { ... } }\n{ name: 'config', value: { ... } }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-extension-examples",children:"Custom Extension Examples"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Broadcast Information"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"tournamentEngine.addMatchUpExtension({\n  matchUpId: 'match-123',\n  drawId: 'draw-456',\n  extension: {\n    name: 'broadcastSchedule',\n    value: {\n      channel: 'ESPN',\n      broadcastTime: '14:00',\n      commentators: ['John Smith', 'Jane Doe'],\n    },\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Facility Requirements"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"tournamentEngine.addEventExtension({\n  eventId: 'singles-main',\n  extension: {\n    name: 'facilityRequirements',\n    value: {\n      courtSurface: 'HARD',\n      lighting: 'REQUIRED',\n      spectatorCapacity: 500,\n    },\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Sponsor Data"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"tournamentEngine.addTournamentExtension({\n  extension: {\n    name: 'sponsorData',\n    value: {\n      titleSponsor: 'Acme Corp',\n      courtSponsors: {\n        'court-1': 'Beta LLC',\n        'court-2': 'Gamma Inc',\n      },\n    },\n  },\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"working-with-extensions",children:"Working with Extensions"}),"\n",(0,i.jsx)(n.h3,{id:"adding-extensions",children:"Adding Extensions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// Add to tournament\ntournamentEngine.addTournamentExtension({\n  extension: {\n    name: 'customData',\n    value: { ... }\n  }\n});\n\n// Add to event\ntournamentEngine.addEventExtension({\n  eventId: 'singles-main',\n  extension: {\n    name: 'eventCustomData',\n    value: { ... }\n  }\n});\n\n// Add to draw\ntournamentEngine.addDrawDefinitionExtension({\n  drawId: 'draw-123',\n  extension: {\n    name: 'drawCustomData',\n    value: { ... }\n  }\n});\n\n// Add to matchUp\ntournamentEngine.addMatchUpExtension({\n  matchUpId: 'match-456',\n  drawId: 'draw-123',\n  extension: {\n    name: 'matchUpCustomData',\n    value: { ... }\n  }\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"retrieving-extensions",children:"Retrieving Extensions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// From tournament record\nconst tournament = tournamentEngine.getTournament();\nconst customExt = tournament.extensions?.find((e) => e.name === 'customData');\n\n// From event\nconst { event } = tournamentEngine.getEvent({ eventId: 'singles-main' });\nconst eventExt = event.extensions?.find((e) => e.name === 'eventCustomData');\n\n// From draw\nconst { drawDefinition } = tournamentEngine.getDrawDefinition({ drawId: 'draw-123' });\nconst drawExt = drawDefinition.extensions?.find((e) => e.name === 'drawCustomData');\n\n// From matchUp (with context)\nconst { matchUp } = tournamentEngine.findMatchUp({\n  matchUpId: 'match-456',\n  inContext: true,\n});\nconst matchUpExt = matchUp.extensions?.find((e) => e.name === 'matchUpCustomData');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updating-extensions",children:"Updating Extensions"}),"\n",(0,i.jsx)(n.p,{children:"Extensions are updated by removing the old one and adding the new one (or using update methods):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// Remove extension\ntournamentEngine.removeTournamentExtension({\n  name: 'customData',\n});\n\n// Add updated version\ntournamentEngine.addTournamentExtension({\n  extension: {\n    name: 'customData',\n    value: updatedValue,\n  },\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"extension-hydration",children:"Extension Hydration"}),"\n",(0,i.jsxs)(n.p,{children:["When retrieving data with ",(0,i.jsx)(n.code,{children:"inContext: true"}),", extensions are automatically converted to underscore-prefixed attributes:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// MatchUp has extension\n{\n  extensions: [\n    {\n      name: 'broadcastSchedule',\n      value: { channel: 'ESPN' },\n    },\n  ];\n}\n\n// When hydrated\nconst { matchUps } = tournamentEngine.allTournamentMatchUps({\n  inContext: true,\n});\n\nconsole.log(matchUps[0]._broadcastSchedule); // { channel: 'ESPN' }\nconsole.log(matchUps[0].extensions); // Original array still present\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./matchup-context#extensions-handling",children:"MatchUp Context"})," for details on extension hydration."]}),"\n",(0,i.jsx)(n.h2,{id:"extensions-vs-time-items",children:"Extensions vs Time Items"}),"\n",(0,i.jsx)(n.p,{children:"Choose the appropriate mechanism for your data:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"Extensions"}),(0,i.jsx)(n.th,{children:"Time Items"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Purpose"})}),(0,i.jsx)(n.td,{children:"Configuration, calculated results, custom data"}),(0,i.jsx)(n.td,{children:"Temporal data with effective dates"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"History"})}),(0,i.jsx)(n.td,{children:"Single value (current state)"}),(0,i.jsx)(n.td,{children:"Multiple values over time"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Timestamps"})}),(0,i.jsx)(n.td,{children:"No timestamps"}),(0,i.jsx)(n.td,{children:"itemDate and createdAt"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Use Cases"})}),(0,i.jsx)(n.td,{children:"Policies, profiles, preferences, metadata"}),(0,i.jsx)(n.td,{children:"Rankings, ratings, schedule changes, status transitions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Hydration"})}),(0,i.jsx)(n.td,{children:"Underscore-prefixed attributes"}),(0,i.jsxs)(n.td,{children:["Extracted to ",(0,i.jsx)(n.code,{children:".schedule"})," for matchUps"]})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example Decision"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Extension"}),": Store broadcast channel assignment (doesn't change over time)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Time Item"}),": Track court assignments (may change, need history)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"uniqueness",children:"Uniqueness"}),"\n",(0,i.jsx)(n.p,{children:"Only one extension with a given name per element:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// \u2713 CORRECT - One extension per name\n{\n  extensions: [{ name: 'customData', value: { field1: 'value1', field2: 'value2' } }];\n}\n\n// \u2717 WRONG - Duplicate names\n{\n  extensions: [\n    { name: 'customData', value: { field1: 'value1' } },\n    { name: 'customData', value: { field2: 'value2' } }, // Duplicate!\n  ];\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"value-types",children:"Value Types"}),"\n",(0,i.jsx)(n.p,{children:"Use appropriate JSON-serializable types:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// \u2713 GOOD - JSON-serializable\n{ name: 'config', value: { enabled: true, count: 5, items: ['a', 'b'] } }\n{ name: 'timestamp', value: '2024-06-15T10:00:00Z' }\n\n// \u2717 AVOID - Non-serializable\n{ name: 'config', value: new Date() }  // Date object\n{ name: 'callback', value: function() {} }  // Function\n"})}),"\n",(0,i.jsx)(n.h3,{id:"factory-constant-names",children:"Factory Constant Names"}),"\n",(0,i.jsx)(n.p,{children:"Avoid using factory-recognized extension names for custom extensions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// \u2717 AVOID - Conflicts with factory constants\n{ name: 'appliedPolicies', value: myCustomValue }\n{ name: 'schedulingProfile', value: myCustomValue }\n\n// \u2713 GOOD - Unique custom names\n{ name: 'myApp_policies', value: myCustomValue }\n{ name: 'myApp_schedule', value: myCustomValue }\n"})}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"./timeItems",children:"Time Items"})})," - Temporal data with effective dates"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"./matchup-context#extensions-handling",children:"MatchUp Context"})})," - Extension hydration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"./participant-context",children:"Participant Context"})})," - Participant extensions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/policies/avoidance",children:"Policies Overview"})})," - Applied policies extension"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8439(e,n,s){s.d(n,{R:()=>a,x:()=>c});var t=s(758);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);