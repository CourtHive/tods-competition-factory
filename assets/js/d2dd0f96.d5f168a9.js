"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[1146],{3805:(n,i,e)=>{e.d(i,{xA:()=>p,yg:()=>u});var t=e(758);function o(n,i,e){return i in n?Object.defineProperty(n,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[i]=e,n}function a(n,i){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),e.push.apply(e,t)}return e}function l(n){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?a(Object(e),!0).forEach((function(i){o(n,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))}))}return n}function r(n,i){if(null==n)return{};var e,t,o=function(n,i){if(null==n)return{};var e,t,o={},a=Object.keys(n);for(t=0;t<a.length;t++)e=a[t],i.indexOf(e)>=0||(o[e]=n[e]);return o}(n,i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(t=0;t<a.length;t++)e=a[t],i.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}var s=t.createContext({}),c=function(n){var i=t.useContext(s),e=i;return n&&(e="function"==typeof n?n(i):l(l({},i),n)),e},p=function(n){var i=c(n.components);return t.createElement(s.Provider,{value:i},n.children)},d="mdxType",g={inlineCode:"code",wrapper:function(n){var i=n.children;return t.createElement(t.Fragment,{},i)}},y=t.forwardRef((function(n,i){var e=n.components,o=n.mdxType,a=n.originalType,s=n.parentName,p=r(n,["components","mdxType","originalType","parentName"]),d=c(e),y=o,u=d["".concat(s,".").concat(y)]||d[y]||g[y]||a;return e?t.createElement(u,l(l({ref:i},p),{},{components:e})):t.createElement(u,l({ref:i},p))}));function u(n,i){var e=arguments,o=i&&i.mdxType;if("string"==typeof n||o){var a=e.length,l=new Array(a);l[0]=y;var r={};for(var s in i)hasOwnProperty.call(i,s)&&(r[s]=i[s]);r.originalType=n,r[d]="string"==typeof n?n:o,l[1]=r;for(var c=2;c<a;c++)l[c]=e[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,e)}y.displayName="MDXCreateElement"},4811:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>s,contentTitle:()=>l,default:()=>g,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var t=e(2232),o=(e(758),e(3805));const a={title:"Voluntary Consolation Policy"},l=void 0,r={unversionedId:"policies/consolationPolicy",id:"policies/consolationPolicy",title:"Voluntary Consolation Policy",description:"The Voluntary Consolation Policy (POLICYTYPEVOLUNTARY_CONSOLATION) controls eligibility for voluntary consolation draws based on participant performance in the main draw. This allows tournament directors to set criteria for which players can opt into consolation events.",source:"@site/docs/policies/consolationPolicy.md",sourceDirName:"policies",slug:"/policies/consolationPolicy",permalink:"/tods-competition-factory/docs/policies/consolationPolicy",draft:!1,tags:[],version:"current",frontMatter:{title:"Voluntary Consolation Policy"},sidebar:"docs",previous:{title:"Progression Policy",permalink:"/tods-competition-factory/docs/policies/progressionPolicy"},next:{title:"Competitive Bands Policy",permalink:"/tods-competition-factory/docs/policies/competitiveBands"}},s={},c=[{value:"Policy Structure",id:"policy-structure",level:2},{value:"Basic Examples",id:"basic-examples",level:2},{value:"Limit to First-Round Losers",id:"limit-to-first-round-losers",level:3},{value:"Limit to Early-Round Losers",id:"limit-to-early-round-losers",level:3},{value:"No Winners Allowed",id:"no-winners-allowed",level:3},{value:"Retrieving Eligible Participants",id:"retrieving-eligible-participants",level:2},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"32-Draw With 16-Player Consolation",id:"32-draw-with-16-player-consolation",level:3},{value:"Progressive Consolation Eligibility",id:"progressive-consolation-eligibility",level:3},{value:"Policy Application",id:"policy-application",level:2},{value:"Drawing From Eligible Pool",id:"drawing-from-eligible-pool",level:3},{value:"Notes",id:"notes",level:2},{value:"Related Methods",id:"related-methods",level:2}],p={toc:c},d="wrapper";function g({components:n,...i}){return(0,o.yg)(d,(0,t.A)({},p,i,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"The ",(0,o.yg)("strong",{parentName:"p"},"Voluntary Consolation Policy")," (",(0,o.yg)("inlineCode",{parentName:"p"},"POLICY_TYPE_VOLUNTARY_CONSOLATION"),") controls eligibility for voluntary consolation draws based on participant performance in the main draw. This allows tournament directors to set criteria for which players can opt into consolation events."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Policy Type:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"voluntaryConsolation")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"When to Use:")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Limiting consolation entry to early-round losers"),(0,o.yg)("li",{parentName:"ul"},"Preventing strong players from dominating consolation"),(0,o.yg)("li",{parentName:"ul"},"Setting maximum wins before consolation ineligibility  "),(0,o.yg)("li",{parentName:"ul"},"Defining finishing round limits for consolation entry"),(0,o.yg)("li",{parentName:"ul"},"Ensuring competitive balance in consolation draws")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"policy-structure"},"Policy Structure"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  voluntaryConsolation: {\n    policyName?: string;             // Optional policy identifier\n    winsLimit?: number;              // Max wins in main draw before ineligible\n    finishingRoundLimit?: number;    // Min finishing round for eligibility\n  }\n}\n")),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Attributes:")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"winsLimit"),": Maximum number of wins a participant can have in the main draw and still be eligible for consolation. Default: no limit."),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"finishingRoundLimit"),": Minimum ",(0,o.yg)("inlineCode",{parentName:"li"},"finishingRound")," value required for eligibility. Participants who advance beyond this round are ineligible. Default: no limit.")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"basic-examples"},"Basic Examples"),(0,o.yg)("h3",{id:"limit-to-first-round-losers"},"Limit to First-Round Losers"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"import { POLICY_TYPE_VOLUNTARY_CONSOLATION } from 'tods-competition-factory';\n\n// Only first-round losers can enter consolation\nconst firstRoundOnlyPolicy = {\n  [POLICY_TYPE_VOLUNTARY_CONSOLATION]: {\n    policyName: 'First Round Losers Only',\n    winsLimit: 0,              // No wins allowed\n    finishingRoundLimit: 1      // Must lose in round 1\n  }\n};\n\ntournamentEngine.attachPolicies({\n  policyDefinitions: firstRoundOnlyPolicy,\n  drawId: 'main-draw-id'\n});\n")),(0,o.yg)("h3",{id:"limit-to-early-round-losers"},"Limit to Early-Round Losers"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"// Players who win 1 or fewer matches can enter\nconst earlyLosersPolicy = {\n  [POLICY_TYPE_VOLUNTARY_CONSOLATION]: {\n    policyName: 'Early Round Losers',\n    winsLimit: 1,               // Maximum 1 win\n    finishingRoundLimit: 2      // Lost in round 1 or 2\n  }\n};\n")),(0,o.yg)("h3",{id:"no-winners-allowed"},"No Winners Allowed"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"// Only players with zero wins\nconst noWinnersPolicy = {\n  [POLICY_TYPE_VOLUNTARY_CONSOLATION]: {\n    policyName: 'No Winners',\n    winsLimit: 0\n    // finishingRoundLimit not specified - any round OK as long as no wins\n  }\n};\n")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"retrieving-eligible-participants"},"Retrieving Eligible Participants"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"// Get list of participants eligible for voluntary consolation\nconst { eligibleParticipants } = tournamentEngine.getEligibleVoluntaryConsolationParticipants({\n  drawId: 'main-draw-id'\n});\n\nconsole.log(eligibleParticipants.length); // e.g., 16\neligibleParticipants.forEach(participant => {\n  console.log(`${participant.participantName}: ${participant.matchUpsWon} wins`);\n});\n\n// With custom policy parameters (override attached policy)\nconst { eligibleParticipants } = tournamentEngine.getEligibleVoluntaryConsolationParticipants({\n  drawId: 'main-draw-id',\n  winsLimit: 1,\n  finishingRoundLimit: 2\n});\n")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"real-world-examples"},"Real-World Examples"),(0,o.yg)("h3",{id:"32-draw-with-16-player-consolation"},"32-Draw With 16-Player Consolation"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"// Generate main draw\nconst { drawDefinition } = tournamentEngine.generateDrawDefinition({\n  drawSize: 32,\n  drawType: SINGLE_ELIMINATION,\n  eventId: 'event-1'\n});\n\n// Attach voluntary consolation policy\ntournamentEngine.attachPolicies({\n  policyDefinitions: {\n    [POLICY_TYPE_VOLUNTARY_CONSOLATION]: {\n      winsLimit: 0,           // First-round losers only\n      finishingRoundLimit: 1\n    }\n  },\n  drawId: drawDefinition.drawId\n});\n\n// After first round completes, get eligible participants\nconst { eligibleParticipants } = \n  tournamentEngine.getEligibleVoluntaryConsolationParticipants({\n    drawId: drawDefinition.drawId\n  });\n\n// Should return 16 first-round losers\nconsole.log(eligibleParticipants.length); // 16\n")),(0,o.yg)("h3",{id:"progressive-consolation-eligibility"},"Progressive Consolation Eligibility"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"// Different consolation stages for different losers\nconst policies = {\n  // Feed consolation: first-round losers\n  feedConsolation: {\n    [POLICY_TYPE_VOLUNTARY_CONSOLATION]: {\n      policyName: 'Feed Consolation',\n      winsLimit: 0,\n      finishingRoundLimit: 1\n    }\n  },\n  \n  // Playoff consolation: second-round losers\n  playoffConsolation: {\n    [POLICY_TYPE_VOLUNTARY_CONSOLATION]: {\n      policyName: 'Playoff Consolation',\n      winsLimit: 1,\n      finishingRoundLimit: 2\n    }\n  }\n};\n\n// Attach to different consolation structures\ntournamentEngine.attachPolicies({\n  policyDefinitions: policies.feedConsolation,\n  drawId: 'feed-consolation-draw-id'\n});\n\ntournamentEngine.attachPolicies({\n  policyDefinitions: policies.playoffConsolation,\n  drawId: 'playoff-consolation-draw-id'\n});\n")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"policy-application"},"Policy Application"),(0,o.yg)("h3",{id:"drawing-from-eligible-pool"},"Drawing From Eligible Pool"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"// Get eligible participants\nconst { eligibleParticipants } = \n  tournamentEngine.getEligibleVoluntaryConsolationParticipants({\n    drawId: 'main-draw-id'\n  });\n\n// Generate consolation draw with eligible participants\nconst participantIds = eligibleParticipants.map(p => p.participantId);\n\nconst { drawDefinition: consolationDraw } = \n  tournamentEngine.generateDrawDefinition({\n    drawSize: participantIds.length,\n    drawType: SINGLE_ELIMINATION,\n    eventId: 'consolation-event-id',\n    seedingProfile: WATERFALL,\n    automated: true,\n    participants: eligibleParticipants\n  });\n")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"notes"},"Notes"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Policy is checked when calling ",(0,o.yg)("inlineCode",{parentName:"li"},"getEligibleVoluntaryConsolationParticipants")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"winsLimit"),": Counts only completed wins in main draw  "),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("strong",{parentName:"li"},"finishingRoundLimit"),": Based on ",(0,o.yg)("inlineCode",{parentName:"li"},"finishingRound")," attribute of matchUps"),(0,o.yg)("li",{parentName:"ul"},"Participants not yet eliminated are excluded (still active in main draw)"),(0,o.yg)("li",{parentName:"ul"},"Participants already in consolation draw are excluded"),(0,o.yg)("li",{parentName:"ul"},"Walkover matches count as wins for the winner"),(0,o.yg)("li",{parentName:"ul"},"Retired matches count as wins for the winner"),(0,o.yg)("li",{parentName:"ul"},"Both parameters are optional - omit for no restriction"),(0,o.yg)("li",{parentName:"ul"},"Policy can be overridden by passing parameters directly to eligibility method"),(0,o.yg)("li",{parentName:"ul"},"Typically attached at draw level (main draw)"),(0,o.yg)("li",{parentName:"ul"},"Used during consolation draw generation to determine eligible pool")),(0,o.yg)("hr",null),(0,o.yg)("h2",{id:"related-methods"},"Related Methods"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"getEligibleVoluntaryConsolationParticipants")," - Query eligible participants"),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("inlineCode",{parentName:"li"},"generateDrawDefinition")," - Create consolation draws with eligibility filters"),(0,o.yg)("li",{parentName:"ul"},"See ",(0,o.yg)("a",{parentName:"li",href:"/docs/concepts/draw-types#consolation"},"Consolation Structures")," for draw generation")))}g.isMDXComponent=!0}}]);