"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9094],{3805:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>u});var n=a(758);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),m=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=m(e.components);return n.createElement(l.Provider,{value:t},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),g=m(a),d=r,u=g["".concat(l,".").concat(d)]||g[d]||c[d]||o;return a?n.createElement(u,i(i({ref:t},p),{},{components:a})):n.createElement(u,i({ref:t},p))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[g]="string"==typeof e?e:r,i[1]=s;for(var m=2;m<o;m++)i[m]=a[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},9374:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>m});var n=a(2232),r=(a(758),a(3805));const o={title:"matchUpFormat Governor"},i=void 0,s={unversionedId:"governors/matchup-format-governor",id:"governors/matchup-format-governor",title:"matchUpFormat Governor",description:"The matchUpFormatGovernor provides utilities for parsing, validating, and generating matchUp format codes. These format codes define scoring rules for matches (sets, games, tiebreaks, timed sets, etc.).",source:"@site/docs/governors/matchup-format-governor.md",sourceDirName:"governors",slug:"/governors/matchup-format-governor",permalink:"/tods-competition-factory/docs/governors/matchup-format-governor",draft:!1,tags:[],version:"current",frontMatter:{title:"matchUpFormat Governor"},sidebar:"docs",previous:{title:"matchUp Governor",permalink:"/tods-competition-factory/docs/governors/matchup-governor"},next:{title:"Mocks Governor",permalink:"/tods-competition-factory/docs/governors/mocks-governor"}},l={},m=[{value:"parse",id:"parse",level:2},{value:"stringify",id:"stringify",level:2},{value:"isValid / isValidMatchUpFormat",id:"isvalid--isvalidmatchupformat",level:2}],p={toc:m},g="wrapper";function c(e){let{components:t,...a}=e;return(0,r.yg)(g,(0,n.A)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import { matchUpFormatGovernor } from 'tods-competition-factory';\n")),(0,r.yg)("p",null,"The ",(0,r.yg)("strong",{parentName:"p"},"matchUpFormatGovernor")," provides utilities for parsing, validating, and generating matchUp format codes. These format codes define scoring rules for matches (sets, games, tiebreaks, timed sets, etc.)."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Format Code Examples:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"SET3-S:6/TB7")," - Best of 3 sets, first to 6 games, tiebreak to 7 at 6-6"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"SET5-S:6/TB7-F:6/TB10")," - Best of 5 sets, final set tiebreak to 10"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"SET1-S:4/TB7@3")," - Single set to 4 games, tiebreak to 7 at 3-3"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"T20")," - 20-minute timed set (games-based)"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"T10P")," - 10-minute timed set (points-based)")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"parse"},"parse"),(0,r.yg)("p",null,"Parses a matchUp format code string into a structured object representation."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Convert a compact format code string into a detailed object that describes all scoring rules. This enables programmatic access to scoring parameters."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Validating match format codes"),(0,r.yg)("li",{parentName:"ul"},"Extracting scoring rules from format strings"),(0,r.yg)("li",{parentName:"ul"},"Building scoring interfaces that need to understand format details"),(0,r.yg)("li",{parentName:"ul"},"Converting between format representations"),(0,r.yg)("li",{parentName:"ul"},"Analyzing tournament format requirements")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},'matchUpFormatCode: string  // TODS format code (e.g., "SET3-S:6/TB7")\n')),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  bestOf?: number;           // Best of N sets (e.g., 3 for best of 3)\n  exactly?: number;          // Exactly N sets (for formats like SET3X)\n  setFormat?: {\n    setTo: number;           // Games to win set (e.g., 6)\n    tiebreakAt?: number;     // When tiebreak starts (e.g., 6 for 6-6)\n    tiebreakFormat?: {\n      tiebreakTo: number;    // Points to win tiebreak (e.g., 7)\n      NoAD?: boolean;        // No-advantage tiebreak\n      modifier?: string;     // Custom tiebreak modifier\n    };\n    noTiebreak?: boolean;    // Set has no tiebreak\n    NoAD?: boolean;          // No-advantage games (no deuce)\n    timed?: boolean;         // Is this a timed set?\n    minutes?: number;        // Minutes for timed set\n    based?: string;          // Scoring basis: 'G' (games), 'P' (points), 'A' (aggregate)\n  };\n  finalSetFormat?: {         // Same structure as setFormat, for final set\n    // ... (all setFormat properties)\n  };\n  simplified?: boolean;      // True for single-set formats like \"T20\"\n} | undefined                // undefined if parsing fails\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Parse standard format\nconst parsed = matchUpFormatGovernor.parse('SET3-S:6/TB7');\nconsole.log(parsed);\n// {\n//   bestOf: 3,\n//   setFormat: {\n//     setTo: 6,\n//     tiebreakAt: 6,\n//     tiebreakFormat: { tiebreakTo: 7 }\n//   }\n// }\n\n// Parse with final set variation\nconst parsed = matchUpFormatGovernor.parse('SET5-S:6/TB7-F:6/TB10');\nconsole.log(parsed);\n// {\n//   bestOf: 5,\n//   setFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 7 } },\n//   finalSetFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 10 } }\n// }\n\n// Parse timed set\nconst parsed = matchUpFormatGovernor.parse('T20');\nconsole.log(parsed);\n// {\n//   bestOf: 1,\n//   simplified: true,\n//   setFormat: { timed: true, minutes: 20 }\n// }\n\n// Parse short set with early tiebreak\nconst parsed = matchUpFormatGovernor.parse('SET1-S:4/TB7@3');\nconsole.log(parsed);\n// {\n//   bestOf: 1,\n//   setFormat: { setTo: 4, tiebreakAt: 3, tiebreakFormat: { tiebreakTo: 7 } }\n// }\n\n// Invalid format returns undefined\nconst parsed = matchUpFormatGovernor.parse('INVALID');\nconsole.log(parsed); // undefined\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Returns ",(0,r.yg)("inlineCode",{parentName:"li"},"undefined")," for invalid format codes"),(0,r.yg)("li",{parentName:"ul"},"Supports standard sets, timed sets, and tiebreak sets"),(0,r.yg)("li",{parentName:"ul"},"Handles special cases like no-advantage (NoAD) games and tiebreaks"),(0,r.yg)("li",{parentName:"ul"},"Timed sets can be games-based (G), points-based (P), or aggregate-based (A)"),(0,r.yg)("li",{parentName:"ul"},"Format: ",(0,r.yg)("inlineCode",{parentName:"li"},"SET{n}[X]-S:{games}/TB{points}[@{at}][-F:{games}/TB{points}[@{at}]]")),(0,r.yg)("li",{parentName:"ul"},"Timed format: ",(0,r.yg)("inlineCode",{parentName:"li"},"T{minutes}[G|P|A][/TB{points}]")),(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("a",{parentName:"li",href:"/docs/codes/matchup-format"},"Match Formats")," for complete format specification")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"stringify"},"stringify"),(0,r.yg)("p",null,"Converts a parsed matchUp format object back into a compact format code string."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Generate a standard TODS format code from a structured format object. This is the inverse operation of ",(0,r.yg)("inlineCode",{parentName:"p"},"parse()")," and is useful for creating format codes programmatically."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Creating format codes from UI inputs"),(0,r.yg)("li",{parentName:"ul"},"Normalizing format representations"),(0,r.yg)("li",{parentName:"ul"},"Generating format codes for storage or transmission"),(0,r.yg)("li",{parentName:"ul"},"Validating format consistency (parse \u2192 modify \u2192 stringify)"),(0,r.yg)("li",{parentName:"ul"},"Converting between format representations")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"matchUpFormatObject: {       // Parsed format object\n  bestOf?: number;\n  exactly?: number;\n  setFormat?: object;\n  finalSetFormat?: object;\n  simplified?: boolean;\n};\npreserveRedundant?: boolean; // Keep redundant tiebreakAt values (default: false)\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"string | undefined           // Format code string, or undefined if invalid\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},'// Stringify standard format\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 3,\n  setFormat: {\n    setTo: 6,\n    tiebreakAt: 6,\n    tiebreakFormat: { tiebreakTo: 7 }\n  }\n});\nconsole.log(formatString); // "SET3-S:6/TB7"\n\n// Stringify with final set variation\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 5,\n  setFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 7 } },\n  finalSetFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 10 } }\n});\nconsole.log(formatString); // "SET5-S:6/TB7-F:6/TB10"\n\n// Stringify timed set\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 1,\n  simplified: true,\n  setFormat: { timed: true, minutes: 20 }\n});\nconsole.log(formatString); // "T20"\n\n// Stringify with early tiebreak (redundant tiebreakAt omitted by default)\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 1,\n  setFormat: { setTo: 4, tiebreakAt: 3, tiebreakFormat: { tiebreakTo: 7 } }\n});\nconsole.log(formatString); // "SET1-S:4/TB7@3"\n\n// Preserve redundant tiebreakAt (when tiebreakAt equals setTo)\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 1,\n  setFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 7 } }\n}, true);\nconsole.log(formatString); // "SET1-S:6/TB7@6" (with preserveRedundant: true)\n\n// Without preserveRedundant, @6 is omitted\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 1,\n  setFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 7 } }\n});\nconsole.log(formatString); // "SET1-S:6/TB7" (default behavior)\n')),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Returns ",(0,r.yg)("inlineCode",{parentName:"li"},"undefined")," for invalid format objects"),(0,r.yg)("li",{parentName:"ul"},"By default, omits ",(0,r.yg)("inlineCode",{parentName:"li"},"@{at}")," when ",(0,r.yg)("inlineCode",{parentName:"li"},"tiebreakAt")," equals ",(0,r.yg)("inlineCode",{parentName:"li"},"setTo")," (standard case)"),(0,r.yg)("li",{parentName:"ul"},"Set ",(0,r.yg)("inlineCode",{parentName:"li"},"preserveRedundant: true")," to include ",(0,r.yg)("inlineCode",{parentName:"li"},"@{at}")," even when it matches ",(0,r.yg)("inlineCode",{parentName:"li"},"setTo")),(0,r.yg)("li",{parentName:"ul"},"Automatically omits final set format if identical to standard set format"),(0,r.yg)("li",{parentName:"ul"},"Single-set timed formats (T20, T10P) use simplified representation"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"bestOf: 1")," and ",(0,r.yg)("inlineCode",{parentName:"li"},"exactly: 1")," both stringify to ",(0,r.yg)("inlineCode",{parentName:"li"},"SET1")," (no X suffix)"),(0,r.yg)("li",{parentName:"ul"},"Games-based timed sets omit the 'G' suffix (it's the default)")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"isvalid--isvalidmatchupformat"},"isValid / isValidMatchUpFormat"),(0,r.yg)("p",null,"Validates whether a format code string is properly formed and can be successfully parsed and round-tripped."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Verify that a format code string conforms to TODS specification. This ensures the format can be used reliably throughout the system."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Validating user input for match formats"),(0,r.yg)("li",{parentName:"ul"},"Checking format codes before storing"),(0,r.yg)("li",{parentName:"ul"},"Verifying format codes from external sources"),(0,r.yg)("li",{parentName:"ul"},"Form validation in tournament setup"),(0,r.yg)("li",{parentName:"ul"},"Catching malformed format strings early")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  matchUpFormat: string      // Format code to validate\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"boolean                      // true if valid, false if invalid\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Validation Logic:"),"\nThe format is considered valid if:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"It can be successfully parsed"),(0,r.yg)("li",{parentName:"ol"},"When stringified again, it matches the original (round-trip test)"),(0,r.yg)("li",{parentName:"ol"},"The 'G' suffix (games-based timed sets) is treated as equivalent to no suffix")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Valid standard formats\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET3-S:6/TB7' \n})); // true\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET5-S:6/TB7-F:6/TB10' \n})); // true\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET1-S:4/TB7@3' \n})); // true\n\n// Valid timed formats\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'T20' \n})); // true\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'T10P' \n})); // true (points-based)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'T20G' \n})); // true (games-based, G is optional)\n\n// Invalid formats\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'INVALID' \n})); // false\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET0-S:6/TB7' \n})); // false (invalid set count)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET3-S:6/TB' \n})); // false (incomplete tiebreak)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: '' \n})); // false (empty string)\n\n// Edge cases\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET1-S:6NOAD/TB7' \n})); // true (No-advantage games)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET3X-S:T10' \n})); // true (exactly 3 timed sets)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET4X-S:T20P' \n})); // true (exactly 4 timed sets, points-based)\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Performs round-trip validation (parse \u2192 stringify \u2192 compare)"),(0,r.yg)("li",{parentName:"ul"},"Empty strings return ",(0,r.yg)("inlineCode",{parentName:"li"},"false")),(0,r.yg)("li",{parentName:"ul"},"Non-string values return ",(0,r.yg)("inlineCode",{parentName:"li"},"false")),(0,r.yg)("li",{parentName:"ul"},"The 'G' suffix on timed sets is stripped during validation (games-based is default)"),(0,r.yg)("li",{parentName:"ul"},"NoAD (no-advantage) is supported for both games and tiebreaks"),(0,r.yg)("li",{parentName:"ul"},"Format must follow TODS specification exactly"),(0,r.yg)("li",{parentName:"ul"},"Both ",(0,r.yg)("inlineCode",{parentName:"li"},"isValid")," and ",(0,r.yg)("inlineCode",{parentName:"li"},"isValidMatchUpFormat")," are available (same function, different export names)")),(0,r.yg)("hr",null))}c.isMDXComponent=!0}}]);