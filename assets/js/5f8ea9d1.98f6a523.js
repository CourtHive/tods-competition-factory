"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[8300],{3805:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>d});var i=t(758);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=i.createContext({}),p=function(e){var n=i.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=p(e.components);return i.createElement(l.Provider,{value:n},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},m=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),g=p(t),m=a,d=g["".concat(l,".").concat(m)]||g[m]||u[m]||r;return t?i.createElement(d,o(o({ref:n},c),{},{components:t})):i.createElement(d,o({ref:n},c))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[g]="string"==typeof e?e:a,o[1]=s;for(var p=2;p<r;p++)o[p]=t[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}m.displayName="MDXCreateElement"},2646:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var i=t(2232),a=(t(758),t(3805));const r={title:"Actions"},o=void 0,s={unversionedId:"concepts/actions",id:"concepts/actions",title:"Actions",description:"Overview",source:"@site/docs/concepts/actions.mdx",sourceDirName:"concepts",slug:"/concepts/actions",permalink:"/tods-competition-factory/docs/concepts/actions",draft:!1,tags:[],version:"current",frontMatter:{title:"Actions"},sidebar:"docs",previous:{title:"Draw Types",permalink:"/tods-competition-factory/docs/concepts/draw-types"},next:{title:"Overview",permalink:"/tods-competition-factory/docs/concepts/scheduling-overview"}},l={},p=[{value:"Overview",id:"overview",level:2},{value:"Action Validation",id:"action-validation",level:3},{value:"positionActions",id:"positionactions",level:2},{value:"Supported Actions",id:"supported-actions",level:3},{value:"Usage",id:"usage",level:3},{value:"Policy Configuration",id:"policy-configuration",level:3},{value:"API Reference",id:"api-reference",level:3},{value:"matchUpActions",id:"matchupactions",level:2},{value:"Supported Actions",id:"supported-actions-1",level:3},{value:"Usage",id:"usage-1",level:3},{value:"Policy Configuration",id:"policy-configuration-1",level:3},{value:"Match Status Actions",id:"match-status-actions",level:3},{value:"API Reference",id:"api-reference-1",level:3}],c={toc:p},g="wrapper";function u({components:e,...n}){return(0,a.yg)(g,(0,i.A)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"overview"},"Overview"),(0,a.yg)("p",null,"The engines of the Competition Factory preserve the integrity of tournament records,\nwhich means that errors are thrown when ",(0,a.yg)("strong",{parentName:"p"},"invalid")," actions are attempted, such as removing an outcome for a matchUp\nwhen participants have already progressed and completed subsequent matchUps in an elimination structure."),(0,a.yg)("p",null,"In developing a User Interface for interaction with draw structures it is useful to know in advance which actions are ",(0,a.yg)("strong",{parentName:"p"},"valid"),".\nThe Competition Factory exports two methods which return not only ",(0,a.yg)("inlineCode",{parentName:"p"},"validActions")," but also the ",(0,a.yg)("inlineCode",{parentName:"p"},"methods")," to perform each action,\nalong with both pre-populated parameters and valid values for parameters which are yet to be defined."),(0,a.yg)("h3",{id:"action-validation"},"Action Validation"),(0,a.yg)("p",null,"Actions are validated based on:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Draw structure integrity"),": Can't remove participants if dependent matches have been played"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Tournament state"),": Some actions only available before/after draw publication"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Participant status"),": Can't withdraw already withdrawn participants"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Policy constraints"),": Position Actions and MatchUp Actions policies can restrict available actions")),(0,a.yg)("admonition",{title:"Policy Configuration",type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"Available actions can be customized using policies:"),(0,a.yg)("ul",{parentName:"admonition"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"/docs/policies/positionActions"},"Position Actions Policy"))," - Configure which position actions are allowed"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"/docs/policies/matchUpActions"},"MatchUp Actions Policy"))," - Configure which matchUp actions are allowed"))),(0,a.yg)("h2",{id:"positionactions"},"positionActions"),(0,a.yg)("p",null,"Actions which are relevant to assigned positions within a draw structure. These actions manage participant placement, seeding, and draw position assignments."),(0,a.yg)("h3",{id:"supported-actions"},"Supported Actions"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Participant Assignment:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Assign Participant")," - Assign accepted/selected participants to specified draw position"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Assign Alternate")," - Assign participant from the list of alternates to specified draw position"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Assign Qualifier")," - Assign qualifier from Qualifying structure to specified draw position"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Assign Lucky Loser")," - Assign loser from Qualifying structure to specified draw position"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Remove Assignment")," - Clear specified draw position"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Withdraw Participant")," - Clear specified draw position and withdraw participant from event")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Draw Position Management:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Assign Bye")," - Assign a BYE to specified draw position"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Swap Participants")," - Swap participant at specified draw position with any other positioned participant"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Modify Pair Assignment")," - Modify individual participant within a positioned doubles pair participant")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Seeding:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Set Seed Value")," - Assign custom seed value to participant at draw position"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Remove Seed Value")," - Remove seed assignment from participant at draw position")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Display:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Set Nickname")," - Set a nickname for assigned participant (useful when players have excessively long names or multiple players have the same name)")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Administrative:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Add Penalty")," - Record a penalty for participant at specified draw position")),(0,a.yg)("h3",{id:"usage"},"Usage"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"const { validActions, isByePosition } = tournamentEngine.positionActions({\n  drawId: 'draw-123',\n  structureId: 'structure-456',\n  drawPosition: 1\n});\n\n// validActions is an array of available action objects\nvalidActions.forEach(action => {\n  console.log(`${action.type}: ${action.method}`);\n  // Each action includes:\n  // - type: action name\n  // - method: engine method to call\n  // - payload: pre-populated parameters\n  // - availableOptions: valid values for user selection\n});\n")),(0,a.yg)("h3",{id:"policy-configuration"},"Policy Configuration"),(0,a.yg)("p",null,"Position actions can be restricted using the Position Actions Policy:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"tournamentEngine.attachPolicies({\n  policyDefinitions: {\n    positionActions: {\n      policyName: 'Restricted',\n      // Disable specific actions\n      disableAssignQualifier: true,\n      disableAssignLuckyLoser: true,\n      // Only allow actions before draw publication\n      requireUnpublished: true\n    }\n  }\n});\n")),(0,a.yg)("h3",{id:"api-reference"},"API Reference"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/governors/query-governor#positionactions"},"askEngine.positionActions()")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"See Also:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"/docs/policies/positionActions"},"Position Actions Policy"))," - Complete policy configuration guide"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"./draws-overview"},"Draw Generation"))," - Creating draws with participant assignments")),(0,a.yg)("h2",{id:"matchupactions"},"matchUpActions"),(0,a.yg)("p",null,"Actions which are relevant to a specific ",(0,a.yg)("inlineCode",{parentName:"p"},"matchUp")," within a draw structure. These actions manage match outcomes, scheduling, officials, and team lineups."),(0,a.yg)("h3",{id:"supported-actions-1"},"Supported Actions"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Match Outcomes:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Set Score")," - Submit either complete or partial score for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Set Status")," - Submit ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUpStatus")," for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp")," (e.g., WALKOVER, DEFAULTED, RETIRED)")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Scheduling:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Set Schedule")," - Submit scheduling details for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp")," (date, time, court, venue)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Set Start Time")," - Set start time for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Set End Time")," - Set end time for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp"))),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Officials:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Assign Referee")," - Set Referee Participant for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Add Officials")," - Assign additional officials (line judges, supervisors)")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Administrative:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Add Penalty")," - Record a penalty for participant within specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp"))),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Team Events (TEAM matchUpType):")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Assign Lineup Position")," - Assign participant to lineup position for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Remove Lineup Position")," - Remove participant from lineup position for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Replace Lineup Position")," - Replace participant assigned to lineup position for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Substitute Position Participant")," - Nominate substitute participant for lineup position for specified ",(0,a.yg)("inlineCode",{parentName:"li"},"matchUp"))),(0,a.yg)("h3",{id:"usage-1"},"Usage"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"const { validActions, isByeMatchUp } = tournamentEngine.matchUpActions({\n  matchUpId: 'matchup-789',\n  drawId: 'draw-123'\n});\n\n// validActions is an array of available action objects\nvalidActions.forEach(action => {\n  console.log(`${action.type}: ${action.method}`);\n  // Each action includes:\n  // - type: action name\n  // - method: engine method to call\n  // - payload: pre-populated parameters\n  // - options: valid values for user selection\n});\n\n// Example: Set score action\nconst scoreAction = validActions.find(a => a.type === 'SCORE');\nif (scoreAction) {\n  // scoreAction.payload includes matchUpId, drawId\n  // scoreAction.options includes valid matchUpStatus values\n  tournamentEngine[scoreAction.method]({\n    ...scoreAction.payload,\n    score: { sets: [{ side1Score: 6, side2Score: 4 }] },\n    winningSide: 1\n  });\n}\n")),(0,a.yg)("h3",{id:"policy-configuration-1"},"Policy Configuration"),(0,a.yg)("p",null,"MatchUp actions can be restricted using the MatchUp Actions Policy:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"tournamentEngine.attachPolicies({\n  policyDefinitions: {\n    matchUpActions: {\n      policyName: 'TournamentDirector',\n      // Disable certain actions for published draws\n      disableScoreEntry: false,\n      requireRefereeAssignment: true,  // Require referee before scoring\n      // Control substitution rules\n      substitutionLimits: {\n        maxPerTeam: 2,\n        maxPerPosition: 1\n      },\n      // Restrict scheduling actions\n      enableScheduleModification: true,\n      requireScheduleApproval: false\n    }\n  }\n});\n")),(0,a.yg)("h3",{id:"match-status-actions"},"Match Status Actions"),(0,a.yg)("p",null,"Different matchUpStatus values trigger different actions:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"TO_BE_PLAYED")," \u2192 Can set schedule, assign officials, enter lineups"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"IN_PROGRESS")," \u2192 Can set start time, update score"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"COMPLETED")," \u2192 Can set end time, penalties; score modification restricted"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"WALKOVER/DEFAULTED")," \u2192 Can modify status, add penalties"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"SUSPENDED")," \u2192 Can add notes, set resume time")),(0,a.yg)("h3",{id:"api-reference-1"},"API Reference"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/docs/governors/query-governor#matchupactions"},"askEngine.matchUpActions()")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"See Also:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"/docs/policies/matchUpActions"},"MatchUp Actions Policy"))," - Complete policy configuration guide  "),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"./scheduling-overview"},"Scheduling Overview"))," - Understanding match scheduling"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"./tieFormat"},"Team Events"))," - Lineup and substitution management")))}u.isMDXComponent=!0}}]);