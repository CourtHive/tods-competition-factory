"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[6306],{8174(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"policies/roundRobinTallyPolicy","title":"Round Robin Tally Policy","description":"The Round Robin Tally Policy controls how participants are ranked within round robin groups, including tiebreaking procedures, head-to-head calculations, and group order determination.","source":"@site/docs/policies/roundRobinTallyPolicy.md","sourceDirName":"policies","slug":"/policies/roundRobinTallyPolicy","permalink":"/tods-competition-factory/docs/policies/roundRobinTallyPolicy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Introduction to Policies","permalink":"/tods-competition-factory/docs/concepts/policies"},"next":{"title":"Avoidance Policies","permalink":"/tods-competition-factory/docs/policies/avoidance"}}');var t=s(6070),r=s(8439);const l={},a="Round Robin Tally Policy",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Default Behavior",id:"default-behavior",level:2},{value:"Standard Tiebreaking Sequence",id:"standard-tiebreaking-sequence",level:3},{value:"Algorithm Overview",id:"algorithm-overview",level:3},{value:"Head-to-Head Logic",id:"head-to-head-logic",level:3},{value:"Implementation Details",id:"implementation-details",level:2},{value:"Calculated Attributes",id:"calculated-attributes",level:3},{value:"Calculation Scoping",id:"calculation-scoping",level:3},{value:"Group Totals",id:"group-totals",level:3},{value:"Directive Processing",id:"directive-processing",level:3},{value:"Precision in Percentages",id:"precision-in-percentages",level:3},{value:"Policy Structure",id:"policy-structure",level:2},{value:"Built-in Policies",id:"built-in-policies",level:2},{value:"Default Tally Policy",id:"default-tally-policy",level:3},{value:"JTT Tally Policy",id:"jtt-tally-policy",level:3},{value:"TOC Tally Policy",id:"toc-tally-policy",level:3},{value:"Key Attributes",id:"key-attributes",level:2},{value:"groupOrderKey",id:"grouporderkey",level:3},{value:"tallyDirectives",id:"tallydirectives",level:3},{value:"idsFilter",id:"idsfilter",level:3},{value:"reversed",id:"reversed",level:3},{value:"maxParticipants",id:"maxparticipants",level:3},{value:"groupTotals",id:"grouptotals",level:3},{value:"headToHead",id:"headtohead",level:3},{value:"Percentage Calculations",id:"percentage-calculations",level:2},{value:"precision",id:"precision",level:3},{value:"groupTotalGamesPlayed / groupTotalSetsPlayed",id:"grouptotalgamesplayed--grouptotalsetsplayed",level:3},{value:"Credit for Incomplete Matches",id:"credit-for-incomplete-matches",level:2},{value:"setsCreditForDefaults / setsCreditForWalkovers / setsCreditForRetirements",id:"setscreditfordefaults--setscreditforwalkovers--setscreditforretirements",level:3},{value:"gamesCreditForDefaults / gamesCreditForWalkovers / gamesCreditForRetirements",id:"gamescreditfordefaults--gamescreditforwalkovers--gamescreditforretirements",level:3},{value:"gamesCreditForTiebreakSets",id:"gamescreditfortiebreaksets",level:3},{value:"Disqualification",id:"disqualification",level:2},{value:"disqualifyDefaults / disqualifyWalkovers",id:"disqualifydefaults--disqualifywalkovers",level:3},{value:"Exclude Match Statuses",id:"exclude-match-statuses",level:2},{value:"excludeMatchUpStatuses",id:"excludematchupstatuses",level:3},{value:"GEMscore",id:"gemscore",level:2},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Example 1: Standard Tournament",id:"example-1-standard-tournament",level:3},{value:"Example 2: Custom Tiebreaking",id:"example-2-custom-tiebreaking",level:3},{value:"Example 3: Team Tennis (TEAM Events)",id:"example-3-team-tennis-team-events",level:3},{value:"Example 4: Games-Based Ranking",id:"example-4-games-based-ranking",level:3},{value:"Example 5: Hockey-Style with Penalty Minutes",id:"example-5-hockey-style-with-penalty-minutes",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Provide Fallback Directives",id:"1-always-provide-fallback-directives",level:3},{value:"2. Use maxParticipants for Head-to-Head",id:"2-use-maxparticipants-for-head-to-head",level:3},{value:"3. Order Directives Logically",id:"3-order-directives-logically",level:3},{value:"4. Document Tournament-Specific Rules",id:"4-document-tournament-specific-rules",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"Methods",id:"methods",level:2},{value:"tallyParticipantResults",id:"tallyparticipantresults",level:3},{value:"Notes",id:"notes",level:2},{value:"groupOrder vs provisionalOrder",id:"grouporder-vs-provisionalorder",level:3},{value:"Bracket Completion",id:"bracket-completion",level:3},{value:"Circular Ties",id:"circular-ties",level:3},{value:"Testing",id:"testing",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"round-robin-tally-policy",children:"Round Robin Tally Policy"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Round Robin Tally Policy"})," controls how participants are ranked within round robin groups, including tiebreaking procedures, head-to-head calculations, and group order determination."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"Round robin groups require sophisticated tiebreaking rules to determine final standings when participants have equal records. The tally policy provides:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Flexible tiebreaking"})," through configurable ",(0,t.jsx)(n.code,{children:"tallyDirectives"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Head-to-head"})," comparisons between tied participants"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Percentage calculations"})," (matches, sets, games, points)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Statistical tracking"})," (wins, losses, defaults, retirements)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Threshold-based rules"})," via ",(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/policies/maxParticipants",children:"maxParticipants"})," attribute"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Composite scoring"})," through GEMscore"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Group totals"})," for percentage calculations"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"default-behavior",children:"Default Behavior"}),"\n",(0,t.jsx)(n.p,{children:"When no custom tally policy is specified, the system applies a comprehensive default tiebreaking procedure that follows widely-accepted tournament standards."}),"\n",(0,t.jsx)(n.h3,{id:"standard-tiebreaking-sequence",children:"Standard Tiebreaking Sequence"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"default tally policy"})," implements the following hierarchy:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Primary criterion:"})," Participants grouped by ",(0,t.jsx)(n.code,{children:"matchUpsWon"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Head-to-head comparison:"})," When participants are tied, their direct results against each other are evaluated"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Percentage-based tiebreakers:"})," Match, set, game, and point percentages (in order)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scope escalation:"})," First evaluate all group matches, then recalculate among tied participants only"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"algorithm-overview",children:"Algorithm Overview"}),"\n",(0,t.jsx)(n.p,{children:"The tiebreaking algorithm works as follows:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Group participants"})," by the primary attribute (default: ",(0,t.jsx)(n.code,{children:"matchUpsWon"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"For each tied group:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If only 1 participant: resolved (no tie)"}),"\n",(0,t.jsx)(n.li,{children:"If exactly 2 participants: compare head-to-head record"}),"\n",(0,t.jsxs)(n.li,{children:["If 3+ participants: apply ",(0,t.jsx)(n.code,{children:"tallyDirectives"})," sequence"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Apply directives"})," until ties are broken or all directives exhausted"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Recursive separation:"})," As each directive separates participants, smaller groups are formed and process repeats"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"head-to-head-logic",children:"Head-to-Head Logic"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When 2 participants are tied:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Direct comparison of their match result"}),"\n",(0,t.jsx)(n.li,{children:"Winner places higher"}),"\n",(0,t.jsx)(n.li,{children:"If they didn't play: move to next directive"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When 3+ participants are tied:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Calculate statistics among only the tied participants"}),"\n",(0,t.jsx)(n.li,{children:"Look for clear separation"}),"\n",(0,t.jsx)(n.li,{children:"If circular tie (A>B>C>A): move to next directive"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Head-to-head is applied BEFORE tallyDirectives"})," unless explicitly disabled via ",(0,t.jsx)(n.code,{children:"headToHead: { disabled: true }"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,t.jsx)(n.h3,{id:"calculated-attributes",children:"Calculated Attributes"}),"\n",(0,t.jsx)(n.p,{children:"For each participant, the following attributes are calculated from match results:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Match-level:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchUpsWon"})," - Total matches won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchUpsLost"})," - Total matches lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchUpsCancelled"})," - Matches that were cancelled/abandoned"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchUpsPct"})," - Win percentage: ",(0,t.jsx)(n.code,{children:"matchUpsWon / (matchUpsWon + matchUpsLost)"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Set-level:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setsWon"})," - Total sets won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setsLost"})," - Total sets lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setsPct"})," - Win percentage: ",(0,t.jsx)(n.code,{children:"setsWon / (setsWon + setsLost)"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Game-level:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"gamesWon"})," - Total games won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"gamesLost"})," - Total games lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"gamesPct"})," - Win percentage: ",(0,t.jsx)(n.code,{children:"gamesWon / (gamesWon + gamesLost)"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Point-level:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pointsWon"})," - Total points won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pointsLost"})," - Total points lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pointsPct"})," - Win percentage: ",(0,t.jsx)(n.code,{children:"pointsWon / (pointsWon + pointsLost)"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Incomplete matches:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"defaults"})," - Number of times participant defaulted"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"walkovers"})," - Number of times participant walked over"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"retirements"})," - Number of times participant retired"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"allDefaults"})," - Total of all exit statuses (defaults + walkovers + retirements)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"TEAM events (tieMatchUps):"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieMatchUpsWon"})," - Individual matches won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieMatchUpsLost"})," - Individual matches lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieSinglesWon"})," - Singles matches won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieSinglesLost"})," - Singles matches lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieDoublesWon"})," - Doubles matches won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieDoublesLost"})," - Doubles matches lost"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Final result:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"groupOrder"})," - Final placement (1-based, lower is better)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"GEMscore"})," - Composite score (if configured)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"calculation-scoping",children:"Calculation Scoping"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Global scope (idsFilter: false):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Calculate from ALL group matches\nmatchUpsPct = matchUpsWon / (matchUpsWon + matchUpsLost);\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Filtered scope (idsFilter: true):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Calculate from ONLY matches among tied participants\n// Example: If A, B, C are tied, only count A-B, A-C, B-C matches\nmatchUpsPct = matchUpsWon_amongTied / (matchUpsWon_amongTied + matchUpsLost_amongTied);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"group-totals",children:"Group Totals"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Participant-based (groupTotals: false - default):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"gamesPct = gamesWon / (gamesWon + gamesLost);\n// Each participant's denominator is their own games\n// Sum of all gamesPct can exceed 1.0\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Group-based (groupTotals: true):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"totalGroupGames = sum of all gamesWon by all participants\ngamesPct = gamesWon / totalGroupGames\n// Sum of all gamesPct = 1.0\n"})}),"\n",(0,t.jsx)(n.h3,{id:"directive-processing",children:"Directive Processing"}),"\n",(0,t.jsx)(n.p,{children:"Directives are applied sequentially:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"for (const directive of tallyDirectives) {\n  // 1. Check maxParticipants threshold\n  if (directive.maxParticipants && tiedCount > directive.maxParticipants) {\n    continue; // Skip this directive\n  }\n\n  // 2. Calculate attribute (with idsFilter if specified)\n  const values = calculateAttribute(directive, tiedParticipants);\n\n  // 3. Sort (reversed if specified)\n  const sorted = directive.reversed\n    ? sortAscending(values) // Least to greatest\n    : sortDescending(values); // Greatest to least\n\n  // 4. Separate into groups by value\n  const groups = groupByValue(sorted);\n\n  // 5. Recursively process each group\n  groups.forEach((group) => {\n    if (group.length > 1) {\n      // Still tied, continue with next directive\n    } else {\n      // Resolved! Assign groupOrder\n    }\n  });\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"precision-in-percentages",children:"Precision in Percentages"}),"\n",(0,t.jsx)(n.p,{children:"Percentages are calculated with configurable precision:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const precision = Math.pow(10, tallyPolicy?.precision || 3);\n// precision: 3 \u2192 1000 \u2192 0.667\n// precision: 5 \u2192 100000 \u2192 0.66667\n\nmatchUpsPct = Math.round((matchUpsWon / matchUpsTotal) * precision) / precision;\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"policy-structure",children:"Policy Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"type RoundRobinTallyPolicy = {\n  policyName?: string;\n\n  // Initial grouping attribute\n  groupOrderKey?:\n    | 'matchUpsWon'\n    | 'tieMatchUpsWon'\n    | 'tieSinglesWon'\n    | 'tieDoublesWon'\n    | 'pointsWon'\n    | 'gamesWon'\n    | 'setsWon'\n    | 'gamesPct'\n    | 'setsPct'\n    | 'pointsPct'\n    | 'matchUpsPct';\n\n  // Tiebreaking sequence\n  tallyDirectives?: Array<{\n    attribute: string; // Which statistic to compare\n    idsFilter?: boolean; // Compare only tied participants\n    reversed?: boolean; // Least-to-greatest instead of greatest-to-least\n    maxParticipants?: number; // Only apply if # tied <= threshold\n    groupTotals?: boolean; // Use group totals for percentages\n    disableHeadToHead?: boolean; // Skip head-to-head for this directive\n  }>;\n\n  // Head-to-head configuration\n  headToHead?: {\n    disabled?: boolean; // Skip head-to-head entirely\n  };\n\n  // Percentage calculation options\n  groupTotalGamesPlayed?: boolean; // Use all group games for gamesPct\n  groupTotalSetsPlayed?: boolean; // Use all group sets for setsPct\n  precision?: number; // Decimal precision (default: 3)\n\n  // Disqualification rules\n  disqualifyDefaults?: boolean; // Push defaulting participants to bottom\n  disqualifyWalkovers?: boolean; // Push walkover participants to bottom\n\n  // Exclude specific match statuses\n  excludeMatchUpStatuses?: string[]; // e.g., ['ABANDONED', 'INCOMPLETE']\n\n  // Credit for incomplete matches\n  setsCreditForDefaults?: boolean;\n  setsCreditForWalkovers?: boolean;\n  setsCreditForRetirements?: boolean;\n  gamesCreditForDefaults?: boolean;\n  gamesCreditForWalkovers?: boolean;\n  gamesCreditForRetirements?: boolean;\n  gamesCreditForTiebreakSets?: boolean; // Default: true\n\n  // Composite score attributes\n  GEMscore?: string[]; // Attributes to include in GEMscore calculation\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"built-in-policies",children:"Built-in Policies"}),"\n",(0,t.jsx)(n.h3,{id:"default-tally-policy",children:"Default Tally Policy"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Standard tiebreaking procedure:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { POLICY_ROUND_ROBIN_TALLY_DEFAULT } from 'tods-competition-factory';\n\nconst policy = POLICY_ROUND_ROBIN_TALLY_DEFAULT[POLICY_TYPE_ROUND_ROBIN_TALLY];\n// {\n//   policyName: 'Default Round Robin Tally',\n//   groupOrderKey: 'matchUpsWon',\n//   tallyDirectives: [\n//     { attribute: 'matchUpsPct', idsFilter: false },\n//     { attribute: 'allDefaults', reversed: true, idsFilter: false },\n//     { attribute: 'defaults', reversed: true, idsFilter: false },\n//     { attribute: 'walkovers', reversed: true, idsFilter: false },\n//     { attribute: 'retirements', reversed: true, idsFilter: false },\n//     { attribute: 'setsPct', idsFilter: false },\n//     { attribute: 'gamesPct', idsFilter: false },\n//     { attribute: 'pointsPct', idsFilter: false },\n//     { attribute: 'matchUpsPct', idsFilter: true },\n//     { attribute: 'setsPct', idsFilter: true },\n//     { attribute: 'gamesPct', idsFilter: true },\n//     { attribute: 'pointsPct', idsFilter: true },\n//   ],\n// }\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Tiebreaking sequence:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Match win percentage (all group matches)"}),"\n",(0,t.jsx)(n.li,{children:"Fewest all defaults (any exit status)"}),"\n",(0,t.jsx)(n.li,{children:"Fewest defaults"}),"\n",(0,t.jsx)(n.li,{children:"Fewest walkovers"}),"\n",(0,t.jsx)(n.li,{children:"Fewest retirements"}),"\n",(0,t.jsx)(n.li,{children:"Set win percentage (all group matches)"}),"\n",(0,t.jsx)(n.li,{children:"Game win percentage (all group matches)"}),"\n",(0,t.jsx)(n.li,{children:"Point win percentage (all group matches)"}),"\n",(0,t.jsx)(n.li,{children:"Match win percentage (among tied teams only)"}),"\n",(0,t.jsx)(n.li,{children:"Set win percentage (among tied teams only)"}),"\n",(0,t.jsx)(n.li,{children:"Game win percentage (among tied teams only)"}),"\n",(0,t.jsx)(n.li,{children:"Point win percentage (among tied teams only)"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"jtt-tally-policy",children:"JTT Tally Policy"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Junior Team Tennis format:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { POLICY_ROUND_ROBIN_TALLY_JTT } from 'tods-competition-factory';\n\n// {\n//   policyName: 'JTT Round Robin Tally',\n//   groupOrderKey: 'gamesWon',\n//   tallyDirectives: [\n//     { attribute: 'matchUpsPct', idsFilter: true },\n//     { attribute: 'gamesWon', idsFilter: false },\n//     { attribute: 'matchUpsWon', idsFilter: false },\n//     { attribute: 'tieMatchUpsWon', idsFilter: false },\n//     { attribute: 'setsWon', idsFilter: false },\n//   ],\n// }\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Primary criterion:"})," Most games won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Head-to-head first:"})," matchUpsPct with idsFilter: true"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Designed for team tennis"})," where games won is primary metric"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"toc-tally-policy",children:"TOC Tally Policy"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Tournament of Champions format:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { POLICY_ROUND_ROBIN_TALLY_TOC } from 'tods-competition-factory';\n\n// {\n//   policyName: 'TOC Round Robin Tally',\n//   groupOrderKey: 'matchUpsPct',\n//   tallyDirectives: [\n//     { attribute: 'matchUpsPct', idsFilter: true, maxParticipants: 2 },\n//     { attribute: 'gamesPct', idsFilter: false },\n//     { attribute: 'gamesWon', idsFilter: false },\n//     { attribute: 'gamesLost', idsFilter: false, reversed: true },\n//   ],\n// }\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key features:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"maxParticipants: 2"})," on head-to-head (only if 2 teams tied)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Games percentage"})," for 3+ team ties"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fewest games lost"})," as final tiebreaker"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"key-attributes",children:"Key Attributes"}),"\n",(0,t.jsx)(n.h3,{id:"grouporderkey",children:"groupOrderKey"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Initial attribute to group participants by before applying tiebreakers."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Valid values:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"'matchUpsWon'"})," (default)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"'tieMatchUpsWon'"})," (for TEAM events)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"'tieSinglesWon'"})," (for TEAM events)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"'tieDoublesWon'"})," (for TEAM events)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"'pointsWon'"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"'gamesWon'"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"'setsWon'"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"'gamesPct'"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"'setsPct'"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"'pointsPct'"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"'matchUpsPct'"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const policy = {\n  [POLICY_TYPE_ROUND_ROBIN_TALLY]: {\n    groupOrderKey: 'gamesWon', // Group by total games won\n    tallyDirectives: [{ attribute: 'gamesPct', idsFilter: false }],\n  },\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"tallydirectives",children:"tallyDirectives"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Sequence of tiebreaking rules applied in order."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Structure:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  attribute: string;        // Statistic to compare\n  idsFilter?: boolean;      // Scope to tied participants only\n  reversed?: boolean;       // Reverse sort order (least-to-greatest)\n  maxParticipants?: number; // Threshold-based application\n  groupTotals?: boolean;    // Use group totals for percentages\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Directive attributes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchUpsPct"})," - Match win percentage"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setsPct"})," - Set win percentage"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"gamesPct"})," - Game win percentage"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pointsPct"})," - Point win percentage"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchUpsWon"})," - Total matches won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setsWon"})," - Total sets won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"gamesWon"})," - Total games won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pointsWon"})," - Total points won"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"matchUpsLost"})," - Total matches lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setsLost"})," - Total sets lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"gamesLost"})," - Total games lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pointsLost"})," - Total points lost"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"defaults"})," - Number of defaults"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"walkovers"})," - Number of walkovers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"retirements"})," - Number of retirements"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"allDefaults"})," - All exit statuses combined"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieMatchUpsWon"})," - Individual matches won (TEAM events)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieSinglesWon"})," - Singles matches won (TEAM events)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tieDoublesWon"})," - Doubles matches won (TEAM events)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"See also:"})," ",(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/policies/maxParticipants",children:"maxParticipants documentation"})," for threshold-based tiebreaking"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"idsfilter",children:"idsFilter"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Scope calculations to only the tied participants."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When false (default):"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Statistics calculated from ALL group matches"}),"\n",(0,t.jsx)(n.li,{children:"Example: gamesPct = gamesWon / (gamesWon + gamesLost) across entire group"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When true:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Statistics calculated ONLY from matches among tied participants"}),"\n",(0,t.jsx)(n.li,{children:"Example: If A, B, C are tied, only count A-B, A-C, B-C matches"}),"\n",(0,t.jsx)(n.li,{children:"Used for head-to-head comparisons"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"tallyDirectives: [\n  // Stage 1: Overall group performance\n  { attribute: 'gamesPct', idsFilter: false },\n\n  // Stage 2: Performance among tied teams only\n  { attribute: 'gamesPct', idsFilter: true },\n];\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"reversed",children:"reversed"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Reverse sort order from greatest-to-least to least-to-greatest."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Fewest losses"}),"\n",(0,t.jsx)(n.li,{children:"Fewest defaults/walkovers/retirements"}),"\n",(0,t.jsx)(n.li,{children:"Fewest penalty minutes"}),"\n",(0,t.jsx)(n.li,{children:'Any "lower is better" metric'}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"tallyDirectives: [\n  { attribute: 'gamesWon', reversed: false }, // Most games won\n  { attribute: 'gamesLost', reversed: true }, // Fewest games lost\n];\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"maxparticipants",children:"maxParticipants"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Only apply directive when number of tied participants does not exceed threshold."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Common usage:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  attribute: 'matchUpsPct',\n  idsFilter: true,\n  maxParticipants: 2  // Only if exactly 2 teams tied\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Why this exists:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"2 teams:"})," Direct head-to-head works (one beat the other)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"3+ teams:"})," Circular ties possible (A>B>C>A)"]}),"\n",(0,t.jsx)(n.li,{children:"Sports rules universally distinguish 2-team vs 3+-team ties"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"See:"})," ",(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/policies/maxParticipants",children:"maxParticipants documentation"})," for complete details and sports precedents"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"grouptotals",children:"groupTotals"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Use total group games/sets for percentage calculations instead of participant totals."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When false (default):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"gamesPct = gamesWon / (gamesWon + gamesLost)\n// Sum of all gamesPct can be > 1.0\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When true:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"gamesPct = gamesWon / (total games played by all participants)\n// Sum of all gamesPct = 1.0\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"tallyDirectives: [\n  {\n    attribute: 'gamesPct',\n    idsFilter: false,\n    groupTotals: true, // Use total group games as denominator\n  },\n];\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Or set at top level:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  groupTotalGamesPlayed: true,  // All gamesPct calculations\n  groupTotalSetsPlayed: true,   // All setsPct calculations\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"headtohead",children:"headToHead"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Configure head-to-head tiebreaking behavior."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Default behavior:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"When 2 participants tied: Compare their head-to-head record"}),"\n",(0,t.jsx)(n.li,{children:"When 3+ participants tied: Try to separate with head-to-head among all tied"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Disable completely:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  headToHead: { disabled: true },\n  tallyDirectives: [\n    // Head-to-head skipped, go straight to directives\n    { attribute: 'gamesPct', idsFilter: false },\n  ],\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," Head-to-head happens BEFORE tallyDirectives. Disabling it forces all tiebreaking through directives."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"percentage-calculations",children:"Percentage Calculations"}),"\n",(0,t.jsx)(n.h3,{id:"precision",children:"precision"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Control decimal precision for percentage calculations."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Default:"})," 3 (1000)"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  precision: 5,  // Results: 0.66667 instead of 0.667\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Formula:"})," ",(0,t.jsx)(n.code,{children:"Math.pow(10, precision)"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"precision: 3 \u2192 1000 \u2192 0.667"}),"\n",(0,t.jsx)(n.li,{children:"precision: 5 \u2192 100000 \u2192 0.66667"}),"\n",(0,t.jsx)(n.li,{children:"precision: 7 \u2192 10000000 \u2192 0.6666667"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"grouptotalgamesplayed--grouptotalsetsplayed",children:"groupTotalGamesPlayed / groupTotalSetsPlayed"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Use total group games/sets as denominator for percentage calculations."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example scenario:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"4 participants in round robin (6 total matches):\n- Participant A: 12 games won, 6 games lost\n- Participant B: 10 games won, 8 games lost\n- Participant C: 8 games won, 10 games lost\n- Participant D: 6 games won, 12 games lost\nTotal: 36 games won, 36 games lost (72 games total)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Without groupTotalGamesPlayed:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"A: 12/18 = 66.7%\nB: 10/18 = 55.6%\nC: 8/18 = 44.4%\nD: 6/18 = 33.3%\nTotal: 200%\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"With groupTotalGamesPlayed:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"A: 12/72 = 16.7%\nB: 10/72 = 13.9%\nC: 8/72 = 11.1%\nD: 6/72 = 8.3%\nTotal: 50% (games won / total games)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"credit-for-incomplete-matches",children:"Credit for Incomplete Matches"}),"\n",(0,t.jsx)(n.h3,{id:"setscreditfordefaults--setscreditforwalkovers--setscreditforretirements",children:"setsCreditForDefaults / setsCreditForWalkovers / setsCreditForRetirements"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Award winner full sets when opponent doesn't complete match."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Default:"})," All false"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Best of 3 (2 sets to win)\n// Match: A vs B, score 6-3, B retires\n\n// Without setsCreditForRetirements:\nA: 1 set won\n\n// With setsCreditForRetirements:\nA: 2 sets won (awarded setsToWin)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Policy:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  setsCreditForRetirements: true,\n  setsCreditForDefaults: true,\n  setsCreditForWalkovers: true,\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"gamescreditfordefaults--gamescreditforwalkovers--gamescreditforretirements",children:"gamesCreditForDefaults / gamesCreditForWalkovers / gamesCreditForRetirements"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Award winner estimated games when opponent doesn't complete match."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Default:"})," All false"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Best of 3, standard scoring (6 games per set)\n// Match: A vs B, score 6-3, B retires\n\n// Without gamesCreditForRetirements:\nA: 6 games won\n\n// With gamesCreditForRetirements:\nA: 12 games won (estimated from setsToWin * 6)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"gamescreditfortiebreaksets",children:"gamesCreditForTiebreakSets"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Count tiebreak set as 1 game won."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Default:"})," true"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Match: A vs B, score 6-3 3-6 [10-5]\n\n// With gamesCreditForTiebreakSets: true\nA: 6 + 3 + 1 = 10 games won\nB: 3 + 6 = 9 games won\n\n// With gamesCreditForTiebreakSets: false\nA: 6 + 3 = 9 games won\nB: 3 + 6 = 9 games won\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Policy:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  gamesCreditForTiebreakSets: false,  // Don't count [10-x] as game\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"disqualification",children:"Disqualification"}),"\n",(0,t.jsx)(n.h3,{id:"disqualifydefaults--disqualifywalkovers",children:"disqualifyDefaults / disqualifyWalkovers"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Push participants who defaulted/walked over to bottom of group order."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Default:"})," true (in most built-in policies)"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// 4 participants:\n// A: 2-1\n// B: 2-1\n// C: 1-2\n// D: 1-2 (with 1 DEFAULT)\n\n// With disqualifyDefaults: true\nOrder: A, B, C, D (4th - pushed to bottom)\n\n// With disqualifyDefaults: false\nOrder: A, B, C/D tied (use tiebreakers)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Policy:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  disqualifyDefaults: true,\n  disqualifyWalkovers: true,\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"exclude-match-statuses",children:"Exclude Match Statuses"}),"\n",(0,t.jsx)(n.h3,{id:"excludematchupstatuses",children:"excludeMatchUpStatuses"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Exclude specific match statuses from tally calculations."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Exclude ABANDONED matches"}),"\n",(0,t.jsx)(n.li,{children:"Exclude INCOMPLETE matches"}),"\n",(0,t.jsx)(n.li,{children:"Exclude matches that shouldn't count toward standings"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"{\n  excludeMatchUpStatuses: ['ABANDONED', 'INCOMPLETE'],\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Effect:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Excluded matches don't count toward wins/losses"}),"\n",(0,t.jsx)(n.li,{children:"Not included in percentage calculations"}),"\n",(0,t.jsx)(n.li,{children:"Treated as if they never happened"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"gemscore",children:"GEMscore"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Create composite score from multiple attributes."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Formula:"})," Weighted combination of percentage attributes"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Attributes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"matchUpsPct"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"tieMatchUpsPct"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"setsPct"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"gamesPct"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"pointsPct"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Result:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"participantResults: {\n  participantId123: {\n    matchUpsWon: 2,\n    matchUpsLost: 1,\n    matchUpsPct: 0.667,\n    setsPct: 0.714,\n    gamesPct: 0.650,\n    GEMscore: 85234567, // Composite integer score\n  }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Alternative ranking metric"}),"\n",(0,t.jsx)(n.li,{children:"Visual representation of overall performance"}),"\n",(0,t.jsx)(n.li,{children:"Can be used as tiebreaker attribute"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,t.jsx)(n.h3,{id:"example-1-standard-tournament",children:"Example 1: Standard Tournament"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { POLICY_TYPE_ROUND_ROBIN_TALLY, POLICY_ROUND_ROBIN_TALLY_DEFAULT } from 'tods-competition-factory';\n\nconst tournament = {\n  policyDefinitions: POLICY_ROUND_ROBIN_TALLY_DEFAULT,\n};\n\ntournamentEngine.generateDrawDefinition({\n  drawType: ROUND_ROBIN,\n  policyDefinitions: tournament.policyDefinitions,\n  drawSize: 16,\n  // ... other options\n});\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-2-custom-tiebreaking",children:"Example 2: Custom Tiebreaking"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const customPolicy = {\n  [POLICY_TYPE_ROUND_ROBIN_TALLY]: {\n    policyName: 'Custom Tournament 2024',\n    groupOrderKey: 'matchUpsWon',\n\n    tallyDirectives: [\n      // 1. Head-to-head if exactly 2 tied\n      {\n        attribute: 'matchUpsPct',\n        idsFilter: true,\n        maxParticipants: 2,\n      },\n\n      // 2. Games percentage (all matches)\n      {\n        attribute: 'gamesPct',\n        idsFilter: false,\n      },\n\n      // 3. Sets percentage (all matches)\n      {\n        attribute: 'setsPct',\n        idsFilter: false,\n      },\n\n      // 4. Games won among tied teams\n      {\n        attribute: 'gamesWon',\n        idsFilter: true,\n      },\n\n      // 5. Fewest games lost\n      {\n        attribute: 'gamesLost',\n        idsFilter: false,\n        reversed: true,\n      },\n    ],\n\n    disqualifyDefaults: true,\n    disqualifyWalkovers: true,\n  },\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-3-team-tennis-team-events",children:"Example 3: Team Tennis (TEAM Events)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const teamPolicy = {\n  [POLICY_TYPE_ROUND_ROBIN_TALLY]: {\n    policyName: 'Team Championship',\n    groupOrderKey: 'tieMatchUpsWon', // Individual matches won\n\n    tallyDirectives: [\n      // Team match record among tied teams\n      {\n        attribute: 'matchUpsPct',\n        idsFilter: true,\n        maxParticipants: 2,\n      },\n\n      // Individual matches won\n      {\n        attribute: 'tieMatchUpsWon',\n        idsFilter: false,\n      },\n\n      // Singles matches won\n      {\n        attribute: 'tieSinglesWon',\n        idsFilter: false,\n      },\n\n      // Doubles matches won\n      {\n        attribute: 'tieDoublesWon',\n        idsFilter: false,\n      },\n\n      // Sets won\n      {\n        attribute: 'setsWon',\n        idsFilter: false,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-4-games-based-ranking",children:"Example 4: Games-Based Ranking"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const gamesPolicy = {\n  [POLICY_TYPE_ROUND_ROBIN_TALLY]: {\n    policyName: 'Games Primary',\n    groupOrderKey: 'gamesWon',\n\n    tallyDirectives: [\n      // Most games won\n      {\n        attribute: 'gamesWon',\n        idsFilter: false,\n      },\n\n      // Fewest games lost\n      {\n        attribute: 'gamesLost',\n        idsFilter: false,\n        reversed: true,\n      },\n\n      // Game percentage\n      {\n        attribute: 'gamesPct',\n        idsFilter: false,\n      },\n\n      // Head-to-head if 2 teams\n      {\n        attribute: 'matchUpsPct',\n        idsFilter: true,\n        maxParticipants: 2,\n      },\n    ],\n\n    // Award games for walkovers/defaults\n    gamesCreditForWalkovers: true,\n    gamesCreditForDefaults: true,\n  },\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"example-5-hockey-style-with-penalty-minutes",children:"Example 5: Hockey-Style with Penalty Minutes"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const hockeyPolicy = {\n  [POLICY_TYPE_ROUND_ROBIN_TALLY]: {\n    policyName: 'Hockey Tournament',\n    groupOrderKey: 'matchUpsWon',\n\n    tallyDirectives: [\n      // Head-to-head (2 teams only)\n      {\n        attribute: 'matchUpsPct',\n        idsFilter: true,\n        maxParticipants: 2,\n      },\n\n      // Most wins\n      {\n        attribute: 'matchUpsWon',\n        idsFilter: false,\n      },\n\n      // Goal average (custom attribute - would need implementation)\n      // { attribute: 'goalAverage', idsFilter: false },\n\n      // Fewest penalty minutes (custom attribute)\n      // { attribute: 'penaltyMinutes', idsFilter: false, reversed: true },\n\n      // Fallback to games\n      {\n        attribute: 'gamesPct',\n        idsFilter: false,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-always-provide-fallback-directives",children:"1. Always Provide Fallback Directives"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u2713 GOOD: Multiple tiebreakers\ntallyDirectives: [\n  { attribute: 'matchUpsPct', idsFilter: true, maxParticipants: 2 },\n  { attribute: 'gamesPct', idsFilter: false },\n  { attribute: 'gamesWon', idsFilter: false },\n  { attribute: 'gamesLost', idsFilter: false, reversed: true },\n];\n\n// \u2717 BAD: Single tiebreaker might not resolve all ties\ntallyDirectives: [{ attribute: 'matchUpsPct', idsFilter: true, maxParticipants: 2 }];\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"2-use-maxparticipants-for-head-to-head",children:"2. Use maxParticipants for Head-to-Head"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u2713 GOOD: Only apply head-to-head when it makes sense\n{\n  attribute: 'matchUpsPct',\n  idsFilter: true,\n  maxParticipants: 2  // Skip if 3+ teams (circular ties possible)\n}\n\n// \u2717 RISKY: Head-to-head with 3+ teams can be indeterminate\n{\n  attribute: 'matchUpsPct',\n  idsFilter: true  // May not separate circular ties\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"3-order-directives-logically",children:"3. Order Directives Logically"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u2713 GOOD: Broad criteria first, narrow criteria later\ntallyDirectives: [\n  { attribute: 'matchUpsPct', idsFilter: false }, // Overall record\n  { attribute: 'setsPct', idsFilter: false }, // Overall sets\n  { attribute: 'matchUpsPct', idsFilter: true }, // Head-to-head\n  { attribute: 'setsPct', idsFilter: true }, // H2H sets\n];\n\n// \u2717 CONFUSING: Narrow then broad\ntallyDirectives: [\n  { attribute: 'matchUpsPct', idsFilter: true }, // H2H first\n  { attribute: 'matchUpsPct', idsFilter: false }, // Then overall\n];\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"4-document-tournament-specific-rules",children:"4. Document Tournament-Specific Rules"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const tournamentPolicy = {\n  [POLICY_TYPE_ROUND_ROBIN_TALLY]: {\n    policyName: 'Spring Championship 2024',\n    // Document: \"Per tournament regulations section 5.3\"\n    groupOrderKey: 'matchUpsWon',\n    tallyDirectives: [\n      // Rule 5.3.1: Head-to-head if 2 teams tied\n      { attribute: 'matchUpsPct', idsFilter: true, maxParticipants: 2 },\n      // Rule 5.3.2: Games won percentage\n      { attribute: 'gamesPct', idsFilter: false },\n      // Rule 5.3.3: Fewest games lost\n      { attribute: 'gamesLost', idsFilter: false, reversed: true },\n    ],\n  },\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/policies/maxParticipants",children:"maxParticipants"})})," - Threshold-based tiebreaking rules"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/policies/seedingPolicy",children:"Seeding Policy"})})," - How participants are seeded into draws"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/policies/feedInPolicy",children:"Feed-In Policy"})})," - Consolation feed patterns"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/concepts/policies",children:"Policies Overview"})})," - All policy types"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"tallyparticipantresults",children:"tallyParticipantResults"}),"\n",(0,t.jsx)(n.p,{children:"Calculate participant results and group order based on the round robin tally policy."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { tallyParticipantResults } from 'tods-competition-factory';\n\nconst { participantResults, order, report, readableReport } = tallyParticipantResults({\n  matchUps, // Array of matchUps\n  policyDefinitions, // Policy definitions object\n  matchUpFormat, // Optional default format\n  generateReport: true, // Optional: generate detailed tiebreaking report\n});\n\n// participantResults: {\n//   [participantId]: {\n//     matchUpsWon: number;\n//     matchUpsLost: number;\n//     setsWon: number;\n//     setsLost: number;\n//     gamesWon: number;\n//     gamesLost: number;\n//     pointsWon: number;\n//     pointsLost: number;\n//     matchUpsPct: number;\n//     setsPct: number;\n//     gamesPct: number;\n//     pointsPct: number;\n//     defaults: number;\n//     walkovers: number;\n//     retirements: number;\n//     allDefaults: number;\n//     groupOrder: number;      // Final placement (when bracket complete)\n//     provisionalOrder: number; // Current placement (when incomplete)\n//     GEMscore?: number;       // If configured\n//   }\n// }\n"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Understanding Tiebreaking",type:"tip",children:[(0,t.jsxs)(n.p,{children:["When ",(0,t.jsx)(n.code,{children:"generateReport: true"}),", the function returns detailed information showing ",(0,t.jsx)(n.strong,{children:"exactly how tiebreaks were resolved step-by-step"}),". This is invaluable for:"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Explaining to participants why they finished in a specific position"}),"\n",(0,t.jsx)(n.li,{children:"Verifying that tiebreaking followed the expected policy"}),"\n",(0,t.jsx)(n.li,{children:"Debugging complex tiebreaking scenarios"}),"\n",(0,t.jsx)(n.li,{children:"Creating transparent tournament reports"}),"\n"]}),(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/governors/query-governor#tallyparticipantresults",children:"Query Governor - tallyParticipantResults"})})," for complete documentation of the ",(0,t.jsx)(n.code,{children:"generateReport"})," parameter and examples of using the tiebreaking report."]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,t.jsx)(n.h3,{id:"grouporder-vs-provisionalorder",children:"groupOrder vs provisionalOrder"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"groupOrder:"})," Assigned when bracket is complete"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"provisionalOrder:"})," Assigned when bracket is incomplete"]}),"\n",(0,t.jsxs)(n.li,{children:["See ",(0,t.jsx)(n.code,{children:"provisionalPositioning"})," in ",(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/governors/draws-governor",children:"Draws Governor"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"bracket-completion",children:"Bracket Completion"}),"\n",(0,t.jsx)(n.p,{children:"Group order is ONLY assigned when all required matchUps are complete:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const bracketComplete = relevantMatchUps.filter((matchUp) => isComplete(matchUp)).length === relevantMatchUps.length;\n\nif (bracketComplete && groupOrder) {\n  // Assign groupOrder to participantResults\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For incomplete brackets, use ",(0,t.jsx)(n.code,{children:"provisionalOrder"})," instead."]}),"\n",(0,t.jsx)(n.h3,{id:"circular-ties",children:"Circular Ties"}),"\n",(0,t.jsx)(n.p,{children:"With 3+ participants, circular ties are possible:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Team A beats Team B"}),"\n",(0,t.jsx)(n.li,{children:"Team B beats Team C"}),"\n",(0,t.jsx)(n.li,{children:"Team C beats Team A"}),"\n",(0,t.jsx)(n.li,{children:"All teams 1-1 head-to-head"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution:"})," Use ",(0,t.jsx)(n.code,{children:"maxParticipants: 2"})," on head-to-head rules to skip circular tie scenarios."]}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/tods-competition-factory/docs/policies/maxParticipants",children:"maxParticipants documentation"})," for details."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsxs)(n.p,{children:["Comprehensive test coverage in ",(0,t.jsx)(n.code,{children:"src/tests/documentation/roundRobinTallyPolicy.test.ts"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 All built-in policies"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Precision calculations"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 maxParticipants thresholds"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Reversed attributes"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Disqualification rules"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Exclude match statuses"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Credit for incomplete matches"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 groupTotals calculations"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 idsFilter scoping"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Head-to-head configurations"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 GEMscore generation"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 TEAM event statistics"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Circular tie scenarios"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Total: 27 tests, all passing \u2705"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8439(e,n,s){s.d(n,{R:()=>l,x:()=>a});var i=s(758);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);