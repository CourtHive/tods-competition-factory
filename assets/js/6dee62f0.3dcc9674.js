"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[3337],{4313(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"concepts/timeItems","title":"Time Items","description":"Overview","source":"@site/docs/concepts/timeItems.md","sourceDirName":"concepts","slug":"/concepts/timeItems","permalink":"/competition-factory/docs/concepts/timeItems","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Time Items"},"sidebar":"docs","previous":{"title":"Accessors","permalink":"/competition-factory/docs/concepts/accessors"},"next":{"title":"Extensions","permalink":"/competition-factory/docs/concepts/extensions"}}');var s=t(6070),a=t(8322);const r={title:"Time Items"},c=void 0,l={},d=[{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:3},{value:"Primary Use Cases",id:"primary-use-cases",level:3},{value:"Time Item Structure",id:"time-item-structure",level:2},{value:"Complete Type Definition",id:"complete-type-definition",level:3},{value:"Property Descriptions",id:"property-descriptions",level:3},{value:"Dot Notation Hierarchy",id:"dot-notation-hierarchy",level:3},{value:"Example itemTypes",id:"example-itemtypes",level:4},{value:"Factory Internal Usage",id:"factory-internal-usage",level:2},{value:"Participant Time Items",id:"participant-time-items",level:3},{value:"MatchUp Time Items",id:"matchup-time-items",level:3},{value:"Event Time Items",id:"event-time-items",level:3},{value:"Custom Use Cases",id:"custom-use-cases",level:2},{value:"Adding Time Items",id:"adding-time-items",level:3},{value:"Retrieving Time Items",id:"retrieving-time-items",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"External Ranking Integration",id:"external-ranking-integration",level:3},{value:"Match Duration Tracking",id:"match-duration-tracking",level:3},{value:"Audit Trail",id:"audit-trail",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Date Format Consistency",id:"date-format-consistency",level:3},{value:"Hierarchical Type Naming",id:"hierarchical-type-naming",level:3},{value:"Value Consistency",id:"value-consistency",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function m(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Time Items"})," are temporal records that capture attributes which change over time on any ",(0,s.jsx)(n.a,{href:"/docs/data-standards#codes",children:"CODES"})," document element. They provide a complete audit trail of changes, enabling historical reconstruction and duration calculations."]}),"\n",(0,s.jsx)(n.h3,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Temporal Data"}),": Values that change over time with timestamps",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Audit Trail"}),": Complete history of value changes",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Hierarchical Types"}),": Dot-notation for organized categorization",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Item Values"}),": Any JSON-serializable data",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Date Tracking"}),": Both item date and creation timestamp"]}),"\n",(0,s.jsx)(n.h3,{id:"primary-use-cases",children:"Primary Use Cases"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Participant Data"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Rankings and ratings (with effective dates)"}),"\n",(0,s.jsx)(n.li,{children:"Registration status changes"}),"\n",(0,s.jsx)(n.li,{children:"Sign-in timestamps"}),"\n",(0,s.jsx)(n.li,{children:"Payment status tracking"}),"\n",(0,s.jsx)(n.li,{children:"Penalties and warnings"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"MatchUp Scheduling"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Court assignments and changes"}),"\n",(0,s.jsx)(n.li,{children:"Start/stop/resume/end times"}),"\n",(0,s.jsx)(n.li,{children:"Official assignments"}),"\n",(0,s.jsx)(n.li,{children:"Venue changes"}),"\n",(0,s.jsx)(n.li,{children:"Schedule modifications"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Event Management"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"External data retrieval timestamps"}),"\n",(0,s.jsx)(n.li,{children:"Configuration changes"}),"\n",(0,s.jsx)(n.li,{children:"Status transitions"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"time-item-structure",children:"Time Item Structure"}),"\n",(0,s.jsx)(n.h3,{id:"complete-type-definition",children:"Complete Type Definition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type TimeItem = {\n  itemType: string; // Hierarchical type using dot notation\n  itemValue: any; // The actual data value\n  itemDate: string; // ISO 8601 date when value is effective\n  createdAt: string; // ISO 8601 timestamp when item was created\n  itemSubTypes?: string[]; // Optional array of type fragments\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"property-descriptions",children:"Property Descriptions"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"itemType"})," (required)",(0,s.jsx)(n.br,{}),"\n","Hierarchical string using dot notation to categorize the time item. Enables matching on type fragments for internal operations."]}),"\n",(0,s.jsxs)(n.p,{children:["Format: ",(0,s.jsx)(n.code,{children:"CATEGORY.SUBCATEGORY.DETAIL"})]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'SCALE.RANKING.SINGLES.WTN'"})," - WTN singles ranking"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'SCHEDULE.TIME.START'"})," - Match start time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'RETRIEVAL.RANKING.SINGLES.U18'"})," - External data fetch timestamp"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"itemValue"})," (required)",(0,s.jsx)(n.br,{}),"\n","The actual data being tracked. Can be any JSON-serializable value: number, string, boolean, object, array."]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"13.20"})," - Rating value"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"'2024-06-15T14:30:00Z'"})," - Timestamp"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"{ courtId: 'court-5', venueName: 'Stadium' }"})," - Complex object"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"itemDate"})," (required)",(0,s.jsx)(n.br,{}),"\n","ISO 8601 date string (",(0,s.jsx)(n.code,{children:"YYYY-MM-DD"}),") or datetime string indicating when the value becomes effective. For rankings/ratings, this is the effective date. For events, this is when the event occurred."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"createdAt"})," (required)",(0,s.jsx)(n.br,{}),"\n","ISO 8601 datetime string (",(0,s.jsx)(n.code,{children:"YYYY-MM-DDTHH:mm:ssZ"}),") indicating when the time item was created in the system. Auto-generated during creation."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"itemSubTypes"})," (optional)",(0,s.jsx)(n.br,{}),"\n","Array of strings providing additional type categorization. Used for organizing related items or adding metadata."]}),"\n",(0,s.jsx)(n.h3,{id:"dot-notation-hierarchy",children:"Dot Notation Hierarchy"}),"\n",(0,s.jsxs)(n.p,{children:["The factory uses dot notation in ",(0,s.jsx)(n.code,{children:"itemType"})," to create a hierarchical structure that enables flexible querying and type matching:"]}),"\n",(0,s.jsx)(n.h4,{id:"example-itemtypes",children:"Example itemTypes"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scheduling"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"'SCHEDULE.ASSIGNMENT.VENUE'; // Venue assignment\n'SCHEDULE.ASSIGNMENT.COURT'; // Court assignment\n'SCHEDULE.ALLOCATION.COURTS'; // Team event court allocation\n'SCHEDULE.ASSIGNMENT.OFFICIAL'; // Official assignment\n'SCHEDULE.COURT.ORDER'; // Order of play position\n'SCHEDULE.DATE'; // Scheduled date\n'SCHEDULE.TIME.SCHEDULED'; // Scheduled time\n'SCHEDULE.TIME.START'; // Actual start time\n'SCHEDULE.TIME.STOP'; // Stop/interruption time\n'SCHEDULE.TIME.RESUME'; // Resume after interruption\n'SCHEDULE.TIME.END'; // Match completion time\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scale Items"})," (Rankings/Ratings):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"'SCALE.RANKING.SINGLES.ATP'; // ATP singles ranking\n'SCALE.RATING.SINGLES.WTN'; // WTN singles rating\n'SCALE.SEEDING.SINGLES'; // Tournament seeding\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Data Retrieval"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"'RETRIEVAL.RANKING.SINGLES.U18'; // External ranking fetch timestamp\n'RETRIEVAL.RATING.DOUBLES.WTA'; // External rating fetch timestamp\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Participant Status"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"'REGISTRATION.STATUS'; // Registration status change\n'SIGNIN.TIMESTAMP'; // Check-in timestamp\n'PAYMENT.STATUS'; // Payment status change\n'PENALTY.ASSESSMENT'; // Penalty applied\n"})}),"\n",(0,s.jsx)(n.h2,{id:"factory-internal-usage",children:"Factory Internal Usage"}),"\n",(0,s.jsx)(n.p,{children:"In most cases, time items are created and managed automatically by the Competition Factory engines. Understanding these patterns helps when integrating with the factory or debugging temporal data."}),"\n",(0,s.jsx)(n.h3,{id:"participant-time-items",children:"Participant Time Items"}),"\n",(0,s.jsx)(n.p,{children:"Time items on participants track temporal attributes throughout the tournament lifecycle:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scale Items"})," - Rankings, ratings, and seedings:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Automatically created when setting participant scale items\n{\n  itemType: 'SCALE.RATING.SINGLES.WTN',\n  itemValue: 8.3,\n  itemDate: '2024-06-15',  // Effective date\n  createdAt: '2024-06-10T09:00:00Z'\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"See:"})," ",(0,s.jsx)(n.a,{href:"./scaleItems",children:"Scale Items"})," for complete scale item documentation."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Registration & Status"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Registration status changes\n{\n  itemType: 'REGISTRATION.STATUS',\n  itemValue: 'CONFIRMED',\n  itemDate: '2024-06-01',\n  createdAt: '2024-06-01T10:30:00Z'\n}\n\n// Check-in timestamp\n{\n  itemType: 'SIGNIN.TIMESTAMP',\n  itemValue: '2024-06-15T08:45:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T08:45:00Z'\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"matchup-time-items",children:"MatchUp Time Items"}),"\n",(0,s.jsx)(n.p,{children:"Time items on matchUps capture scheduling lifecycle and changes:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Court and Venue Assignments"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Initial court assignment\n{\n  itemType: 'SCHEDULE.ASSIGNMENT.COURT',\n  itemValue: 'court-5',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-14T16:00:00Z'\n}\n\n// Court reassignment (e.g., due to rain)\n{\n  itemType: 'SCHEDULE.ASSIGNMENT.COURT',\n  itemValue: 'court-2',  // New court\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T11:30:00Z'  // Later creation time\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Match Timing"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Scheduled start\n{\n  itemType: 'SCHEDULE.TIME.SCHEDULED',\n  itemValue: '2024-06-15T14:00:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-14T16:00:00Z'\n}\n\n// Actual start (may differ from scheduled)\n{\n  itemType: 'SCHEDULE.TIME.START',\n  itemValue: '2024-06-15T14:05:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T14:05:00Z'\n}\n\n// Interruption (rain delay)\n{\n  itemType: 'SCHEDULE.TIME.STOP',\n  itemValue: '2024-06-15T14:45:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T14:45:00Z'\n}\n\n// Resume after delay\n{\n  itemType: 'SCHEDULE.TIME.RESUME',\n  itemValue: '2024-06-15T15:30:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T15:30:00Z'\n}\n\n// Match completion\n{\n  itemType: 'SCHEDULE.TIME.END',\n  itemValue: '2024-06-15T16:15:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T16:15:00Z'\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Duration Calculation Example"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Calculate match duration from time items\nconst startItem = matchUp.timeItems?.find((ti) => ti.itemType === 'SCHEDULE.TIME.START');\nconst stopItems = matchUp.timeItems?.filter((ti) => ti.itemType === 'SCHEDULE.TIME.STOP');\nconst resumeItems = matchUp.timeItems?.filter((ti) => ti.itemType === 'SCHEDULE.TIME.RESUME');\nconst endItem = matchUp.timeItems?.find((ti) => ti.itemType === 'SCHEDULE.TIME.END');\n\n// Calculate total playing time excluding interruptions\nlet totalMinutes = 0;\n// ... duration calculation logic\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Schedule Context Extraction"}),":"]}),"\n",(0,s.jsxs)(n.p,{children:["When matchUps are retrieved with context (",(0,s.jsx)(n.code,{children:"inContext: true"}),"), time items are automatically extracted and added to the ",(0,s.jsx)(n.code,{children:"matchUp.schedule"})," object:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const { matchUps } = tournamentEngine.allTournamentMatchUps({\n  inContext: true,\n});\n\n// Schedule data extracted from time items\nmatchUps[0].schedule = {\n  scheduledDate: '2024-06-15',\n  scheduledTime: '14:00',\n  courtId: 'court-5',\n  venueId: 'venue-1',\n  startTime: '2024-06-15T14:05:00Z',\n  endTime: '2024-06-15T16:15:00Z',\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"event-time-items",children:"Event Time Items"}),"\n",(0,s.jsx)(n.p,{children:"Time items on events track data retrieval and configuration:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"External Data Retrieval Timestamps"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"\n**API Reference:** [allTournamentMatchUps](/docs/governors/query-governor#alltournamentmatchups)\n\n{\n  itemType: 'RETRIEVAL.RANKING.SINGLES.U18',\n  itemValue: '2024-06-10T09:00:00Z',  // When data was fetched\n  itemDate: '2024-06-10',\n  createdAt: '2024-06-10T09:00:00Z'\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:'This allows queries like "when were rankings last updated?" for display in client applications.'}),"\n",(0,s.jsx)(n.h2,{id:"custom-use-cases",children:"Custom Use Cases"}),"\n",(0,s.jsx)(n.h3,{id:"adding-time-items",children:"Adding Time Items"}),"\n",(0,s.jsx)(n.p,{children:"Add time items to tournament elements for custom tracking:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Add to Event"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const timeItem = {\n  itemType: 'RETRIEVAL.RANKING.SINGLES.U18',\n  itemValue: new Date().toISOString(),\n  itemDate: new Date().toISOString().split('T')[0],\n  createdAt: new Date().toISOString(),\n};\n\ntournamentEngine.addTimeItem({\n  eventId: 'singles-u18',\n  timeItem,\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Add to Participant"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const timeItem = {\n  itemType: 'CUSTOM.CHECK_IN',\n  itemValue: { location: 'Gate A', verified: true },\n  itemDate: '2024-06-15',\n  createdAt: new Date().toISOString(),\n};\n\ntournamentEngine.addTimeItem({\n  participantId: 'player-123',\n  timeItem,\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Add to MatchUp"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const timeItem = {\n  itemType: 'CUSTOM.BROADCAST',\n  itemValue: { channel: 'ESPN', startTime: '14:00' },\n  itemDate: '2024-06-15',\n  createdAt: new Date().toISOString(),\n};\n\ntournamentEngine.addTimeItem({\n  matchUpId: 'match-456',\n  drawId: 'draw-789',\n  timeItem,\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"retrieving-time-items",children:"Retrieving Time Items"}),"\n",(0,s.jsx)(n.p,{children:"Query time items from tournament elements:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Get Specific Time Item Type"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const { timeItem, message } = tournamentEngine.getTimeItem({\n  itemType: 'RETRIEVAL.RANKING.SINGLES.U18',\n  eventId: 'singles-u18',\n});\n\nif (timeItem) {\n  console.log(`Last ranking update: ${timeItem.itemValue}`);\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Get All Time Items"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"\n**API Reference:** [getTimeItem](/docs/governors/query-governor#gettimeitem)\n\nconst { participant } = tournamentEngine.getParticipant({\n  participantId: 'player-123',\n});\n\n// Access all time items\nparticipant.timeItems?.forEach((item) => {\n  console.log(`${item.itemType}: ${item.itemValue} (${item.itemDate})`);\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Filter Time Items by Type Pattern"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Get all scale-related time items\nconst scaleItems = participant.timeItems?.filter((item) => item.itemType.startsWith('SCALE.'));\n\n// Get all schedule-related time items\nconst scheduleItems = matchUp.timeItems?.filter((item) => item.itemType.startsWith('SCHEDULE.'));\n"})}),"\n",(0,s.jsx)(n.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,s.jsx)(n.h3,{id:"external-ranking-integration",children:"External Ranking Integration"}),"\n",(0,s.jsx)(n.p,{children:"Track when rankings were last fetched from external service:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Fetch rankings from external API\nasync function updateRankings(eventId) {\n  const rankings = await fetchFromExternalAPI();\n\n  // Update participant rankings\n  rankings.forEach(({ participantId, ranking }) => {\n    tournamentEngine.setParticipantScaleItem({\n      participantId,\n      scaleItem: {\n        scaleType: 'RANKING',\n        scaleValue: ranking,\n        scaleName: 'ATP',\n        eventType: 'SINGLES',\n        scaleDate: new Date().toISOString().split('T')[0],\n      },\n    });\n  });\n\n  // Record retrieval timestamp\n  tournamentEngine.addTimeItem({\n    eventId,\n    timeItem: {\n      itemType: 'RETRIEVAL.RANKING.SINGLES.ATP',\n      itemValue: new Date().toISOString(),\n      itemDate: new Date().toISOString().split('T')[0],\n      createdAt: new Date().toISOString(),\n    },\n  });\n}\n\n// Check if rankings need update\nconst { timeItem } = tournamentEngine.getTimeItem({\n  eventId: 'singles-main',\n  itemType: 'RETRIEVAL.RANKING.SINGLES.ATP',\n});\n\nconst lastUpdate = timeItem ? new Date(timeItem.itemValue) : null;\nconst hoursSinceUpdate = lastUpdate ? (Date.now() - lastUpdate.getTime()) / (1000 * 60 * 60) : Infinity;\n\nif (hoursSinceUpdate > 24) {\n  await updateRankings('singles-main');\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"match-duration-tracking",children:"Match Duration Tracking"}),"\n",(0,s.jsx)(n.p,{children:"Calculate match duration including interruptions:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"\n\n**API Reference:** [setParticipantScaleItem](/docs/governors/participant-governor#setparticipantscaleitem)\n\n**API Reference:** [getTimeItem](/docs/governors/query-governor#gettimeitem)\n\nfunction getMatchDuration(matchUp) {\n  const timeItems = matchUp.timeItems || [];\n\n  const start = timeItems.find((ti) => ti.itemType === 'SCHEDULE.TIME.START');\n  const end = timeItems.find((ti) => ti.itemType === 'SCHEDULE.TIME.END');\n\n  if (!start || !end) return null;\n\n  const stops = timeItems.filter((ti) => ti.itemType === 'SCHEDULE.TIME.STOP');\n  const resumes = timeItems.filter((ti) => ti.itemType === 'SCHEDULE.TIME.RESUME');\n\n  // Calculate total elapsed time\n  let totalMs = new Date(end.itemValue) - new Date(start.itemValue);\n\n  // Subtract interruption periods\n  stops.forEach((stop, index) => {\n    const resume = resumes[index];\n    if (resume) {\n      const interruptionMs = new Date(resume.itemValue) - new Date(stop.itemValue);\n      totalMs -= interruptionMs;\n    }\n  });\n\n  return {\n    totalMinutes: Math.round(totalMs / (1000 * 60)),\n    interruptions: stops.length,\n    startTime: start.itemValue,\n    endTime: end.itemValue,\n  };\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"audit-trail",children:"Audit Trail"}),"\n",(0,s.jsx)(n.p,{children:"Maintain complete history of court assignments:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function getCourtAssignmentHistory(matchUp) {\n  const courtAssignments = matchUp.timeItems\n    ?.filter((ti) => ti.itemType === 'SCHEDULE.ASSIGNMENT.COURT')\n    .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt))\n    .map((ti) => ({\n      courtId: ti.itemValue,\n      assignedAt: ti.createdAt,\n      effectiveDate: ti.itemDate,\n    }));\n\n  return courtAssignments || [];\n}\n\n// Example output:\n// [\n//   { courtId: 'court-5', assignedAt: '2024-06-14T16:00:00Z', effectiveDate: '2024-06-15' },\n//   { courtId: 'court-2', assignedAt: '2024-06-15T11:30:00Z', effectiveDate: '2024-06-15' }\n// ]\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"date-format-consistency",children:"Date Format Consistency"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"CRITICAL"}),": Always use ISO 8601 format for ",(0,s.jsx)(n.code,{children:"itemDate"})," and ",(0,s.jsx)(n.code,{children:"createdAt"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// \u2713 CORRECT\nconst timeItem = {\n  itemType: 'CUSTOM.EVENT',\n  itemValue: someValue,\n  itemDate: '2024-06-15', // YYYY-MM-DD\n  createdAt: '2024-06-15T10:30:00Z', // ISO 8601 datetime\n};\n\n// \u2717 WRONG\nconst badTimeItem = {\n  itemDate: '06/15/2024', // Invalid format\n  createdAt: new Date().toString(), // Non-ISO format\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"hierarchical-type-naming",children:"Hierarchical Type Naming"}),"\n",(0,s.jsx)(n.p,{children:"Use consistent dot-notation hierarchy for custom types:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// \u2713 GOOD - Clear hierarchy\n'CUSTOM.BROADCAST.ASSIGNMENT';\n'CUSTOM.MEDIA.REQUEST';\n'CUSTOM.FACILITY.ACCESS';\n\n// \u2717 AVOID - Flat or inconsistent\n'CUSTOM_BROADCAST_ASSIGNMENT';\n'broadcast.custom';\n'CustomBroadcast';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"value-consistency",children:"Value Consistency"}),"\n",(0,s.jsxs)(n.p,{children:["Keep ",(0,s.jsx)(n.code,{children:"itemValue"})," types consistent for the same ",(0,s.jsx)(n.code,{children:"itemType"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// \u2713 GOOD - Consistent value type\n{ itemType: 'SCHEDULE.TIME.START', itemValue: '2024-06-15T14:00:00Z' }\n{ itemType: 'SCHEDULE.TIME.START', itemValue: '2024-06-15T15:00:00Z' }\n\n// \u2717 AVOID - Inconsistent value types\n{ itemType: 'SCHEDULE.TIME.START', itemValue: '2024-06-15T14:00:00Z' }\n{ itemType: 'SCHEDULE.TIME.START', itemValue: 1718463600000 }  // Unix timestamp\n"})}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./scaleItems",children:"Scale Items"})})," - Rankings, ratings, and seedings (stored as time items)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./extensions",children:"Extensions"})})," - Alternative for non-temporal custom data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./matchup-overview",children:"MatchUp Overview"})})," - MatchUp scheduling and timing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./participants",children:"Participants"})})," - Participant data management"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},8322(e,n,t){t.d(n,{R:()=>r,x:()=>c});var i=t(758);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);