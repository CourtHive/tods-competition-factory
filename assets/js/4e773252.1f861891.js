"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[9094],{112(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"governors/matchup-format-governor","title":"matchUpFormat Governor","description":"The matchUpFormatGovernor provides utilities for parsing, validating, and generating matchUp format codes. These format codes define scoring rules for matches (sets, games, tiebreaks, timed sets, etc.).","source":"@site/docs/governors/matchup-format-governor.md","sourceDirName":"governors","slug":"/governors/matchup-format-governor","permalink":"/competition-factory/docs/governors/matchup-format-governor","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"matchUpFormat Governor"},"sidebar":"docs","previous":{"title":"matchUp Governor","permalink":"/competition-factory/docs/governors/matchup-governor"},"next":{"title":"Mocks Governor","permalink":"/competition-factory/docs/governors/mocks-governor"}}');var s=t(6070),a=t(8439);const o={title:"matchUpFormat Governor"},i=void 0,c={},l=[{value:"parse",id:"parse",level:2},{value:"stringify",id:"stringify",level:2},{value:"isValid / isValidMatchUpFormat",id:"isvalid--isvalidmatchupformat",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import { matchUpFormatGovernor } from 'tods-competition-factory';\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"matchUpFormatGovernor"})," provides utilities for parsing, validating, and generating matchUp format codes. These format codes define scoring rules for matches (sets, games, tiebreaks, timed sets, etc.)."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Format Code Examples:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SET3-S:6/TB7"})," - Best of 3 sets, first to 6 games, tiebreak to 7 at 6-6"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SET5-S:6/TB7-F:6/TB10"})," - Best of 5 sets, final set tiebreak to 10"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SET1-S:4/TB7@3"})," - Single set to 4 games, tiebreak to 7 at 3-3"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"T20"})," - 20-minute timed set (games-based)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"T10P"})," - 10-minute timed set (points-based)"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"parse",children:"parse"}),"\n",(0,s.jsx)(n.p,{children:"Parses a matchUp format code string into a structured object representation."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Convert a compact format code string into a detailed object that describes all scoring rules. This enables programmatic access to scoring parameters."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"When to Use:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Validating match format codes"}),"\n",(0,s.jsx)(n.li,{children:"Extracting scoring rules from format strings"}),"\n",(0,s.jsx)(n.li,{children:"Building scoring interfaces that need to understand format details"}),"\n",(0,s.jsx)(n.li,{children:"Converting between format representations"}),"\n",(0,s.jsx)(n.li,{children:"Analyzing tournament format requirements"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'matchUpFormatCode: string  // TODS format code (e.g., "SET3-S:6/TB7")\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"{\n  bestOf?: number;           // Best of N sets (e.g., 3 for best of 3)\n  exactly?: number;          // Exactly N sets (for formats like SET3X)\n  setFormat?: {\n    setTo: number;           // Games to win set (e.g., 6)\n    tiebreakAt?: number;     // When tiebreak starts (e.g., 6 for 6-6)\n    tiebreakFormat?: {\n      tiebreakTo: number;    // Points to win tiebreak (e.g., 7)\n      NoAD?: boolean;        // No-advantage tiebreak\n      modifier?: string;     // Custom tiebreak modifier\n    };\n    noTiebreak?: boolean;    // Set has no tiebreak\n    NoAD?: boolean;          // No-advantage games (no deuce)\n    timed?: boolean;         // Is this a timed set?\n    minutes?: number;        // Minutes for timed set\n    based?: string;          // Scoring basis: 'G' (games), 'P' (points), 'A' (aggregate)\n  };\n  finalSetFormat?: {         // Same structure as setFormat, for final set\n    // ... (all setFormat properties)\n  };\n  simplified?: boolean;      // True for single-set formats like \"T20\"\n} | undefined                // undefined if parsing fails\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Parse standard format\nconst parsed = matchUpFormatGovernor.parse('SET3-S:6/TB7');\nconsole.log(parsed);\n// {\n//   bestOf: 3,\n//   setFormat: {\n//     setTo: 6,\n//     tiebreakAt: 6,\n//     tiebreakFormat: { tiebreakTo: 7 }\n//   }\n// }\n\n// Parse with final set variation\nconst parsed = matchUpFormatGovernor.parse('SET5-S:6/TB7-F:6/TB10');\nconsole.log(parsed);\n// {\n//   bestOf: 5,\n//   setFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 7 } },\n//   finalSetFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 10 } }\n// }\n\n// Parse timed set\nconst parsed = matchUpFormatGovernor.parse('T20');\nconsole.log(parsed);\n// {\n//   bestOf: 1,\n//   simplified: true,\n//   setFormat: { timed: true, minutes: 20 }\n// }\n\n// Parse short set with early tiebreak\nconst parsed = matchUpFormatGovernor.parse('SET1-S:4/TB7@3');\nconsole.log(parsed);\n// {\n//   bestOf: 1,\n//   setFormat: { setTo: 4, tiebreakAt: 3, tiebreakFormat: { tiebreakTo: 7 } }\n// }\n\n// Invalid format returns undefined\nconst parsed = matchUpFormatGovernor.parse('INVALID');\nconsole.log(parsed); // undefined\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Returns ",(0,s.jsx)(n.code,{children:"undefined"})," for invalid format codes"]}),"\n",(0,s.jsx)(n.li,{children:"Supports standard sets, timed sets, and tiebreak sets"}),"\n",(0,s.jsx)(n.li,{children:"Handles special cases like no-advantage (NoAD) games and tiebreaks"}),"\n",(0,s.jsx)(n.li,{children:"Timed sets can be games-based (G), points-based (P), or aggregate-based (A)"}),"\n",(0,s.jsxs)(n.li,{children:["Format: ",(0,s.jsx)(n.code,{children:"SET{n}[X]-S:{games}/TB{points}[@{at}][-F:{games}/TB{points}[@{at}]]"})]}),"\n",(0,s.jsxs)(n.li,{children:["Timed format: ",(0,s.jsx)(n.code,{children:"T{minutes}[G|P|A][/TB{points}]"})]}),"\n",(0,s.jsxs)(n.li,{children:["See ",(0,s.jsx)(n.a,{href:"/docs/codes/matchup-format",children:"Match Formats"})," for complete format specification"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"stringify",children:"stringify"}),"\n",(0,s.jsx)(n.p,{children:"Converts a parsed matchUp format object back into a compact format code string."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Generate a standard TODS format code from a structured format object. This is the inverse operation of ",(0,s.jsx)(n.code,{children:"parse()"})," and is useful for creating format codes programmatically."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"When to Use:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Creating format codes from UI inputs"}),"\n",(0,s.jsx)(n.li,{children:"Normalizing format representations"}),"\n",(0,s.jsx)(n.li,{children:"Generating format codes for storage or transmission"}),"\n",(0,s.jsx)(n.li,{children:"Validating format consistency (parse \u2192 modify \u2192 stringify)"}),"\n",(0,s.jsx)(n.li,{children:"Converting between format representations"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"matchUpFormatObject: {       // Parsed format object\n  bestOf?: number;\n  exactly?: number;\n  setFormat?: object;\n  finalSetFormat?: object;\n  simplified?: boolean;\n};\npreserveRedundant?: boolean; // Keep redundant tiebreakAt values (default: false)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"string | undefined           // Format code string, or undefined if invalid\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'// Stringify standard format\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 3,\n  setFormat: {\n    setTo: 6,\n    tiebreakAt: 6,\n    tiebreakFormat: { tiebreakTo: 7 }\n  }\n});\nconsole.log(formatString); // "SET3-S:6/TB7"\n\n// Stringify with final set variation\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 5,\n  setFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 7 } },\n  finalSetFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 10 } }\n});\nconsole.log(formatString); // "SET5-S:6/TB7-F:6/TB10"\n\n// Stringify timed set\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 1,\n  simplified: true,\n  setFormat: { timed: true, minutes: 20 }\n});\nconsole.log(formatString); // "T20"\n\n// Stringify with early tiebreak (redundant tiebreakAt omitted by default)\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 1,\n  setFormat: { setTo: 4, tiebreakAt: 3, tiebreakFormat: { tiebreakTo: 7 } }\n});\nconsole.log(formatString); // "SET1-S:4/TB7@3"\n\n// Preserve redundant tiebreakAt (when tiebreakAt equals setTo)\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 1,\n  setFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 7 } }\n}, true);\nconsole.log(formatString); // "SET1-S:6/TB7@6" (with preserveRedundant: true)\n\n// Without preserveRedundant, @6 is omitted\nconst formatString = matchUpFormatGovernor.stringify({\n  bestOf: 1,\n  setFormat: { setTo: 6, tiebreakAt: 6, tiebreakFormat: { tiebreakTo: 7 } }\n});\nconsole.log(formatString); // "SET1-S:6/TB7" (default behavior)\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Returns ",(0,s.jsx)(n.code,{children:"undefined"})," for invalid format objects"]}),"\n",(0,s.jsxs)(n.li,{children:["By default, omits ",(0,s.jsx)(n.code,{children:"@{at}"})," when ",(0,s.jsx)(n.code,{children:"tiebreakAt"})," equals ",(0,s.jsx)(n.code,{children:"setTo"})," (standard case)"]}),"\n",(0,s.jsxs)(n.li,{children:["Set ",(0,s.jsx)(n.code,{children:"preserveRedundant: true"})," to include ",(0,s.jsx)(n.code,{children:"@{at}"})," even when it matches ",(0,s.jsx)(n.code,{children:"setTo"})]}),"\n",(0,s.jsx)(n.li,{children:"Automatically omits final set format if identical to standard set format"}),"\n",(0,s.jsx)(n.li,{children:"Single-set timed formats (T20, T10P) use simplified representation"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"bestOf: 1"})," and ",(0,s.jsx)(n.code,{children:"exactly: 1"})," both stringify to ",(0,s.jsx)(n.code,{children:"SET1"})," (no X suffix)"]}),"\n",(0,s.jsx)(n.li,{children:"Games-based timed sets omit the 'G' suffix (it's the default)"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"isvalid--isvalidmatchupformat",children:"isValid / isValidMatchUpFormat"}),"\n",(0,s.jsx)(n.p,{children:"Validates whether a format code string is properly formed and can be successfully parsed and round-tripped."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Verify that a format code string conforms to TODS specification. This ensures the format can be used reliably throughout the system."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"When to Use:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Validating user input for match formats"}),"\n",(0,s.jsx)(n.li,{children:"Checking format codes before storing"}),"\n",(0,s.jsx)(n.li,{children:"Verifying format codes from external sources"}),"\n",(0,s.jsx)(n.li,{children:"Form validation in tournament setup"}),"\n",(0,s.jsx)(n.li,{children:"Catching malformed format strings early"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"{\n  matchUpFormat: string      // Format code to validate\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"boolean                      // true if valid, false if invalid\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Validation Logic:"}),"\nThe format is considered valid if:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"It can be successfully parsed"}),"\n",(0,s.jsx)(n.li,{children:"When stringified again, it matches the original (round-trip test)"}),"\n",(0,s.jsx)(n.li,{children:"The 'G' suffix (games-based timed sets) is treated as equivalent to no suffix"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Valid standard formats\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET3-S:6/TB7' \n})); // true\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET5-S:6/TB7-F:6/TB10' \n})); // true\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET1-S:4/TB7@3' \n})); // true\n\n// Valid timed formats\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'T20' \n})); // true\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'T10P' \n})); // true (points-based)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'T20G' \n})); // true (games-based, G is optional)\n\n// Invalid formats\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'INVALID' \n})); // false\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET0-S:6/TB7' \n})); // false (invalid set count)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET3-S:6/TB' \n})); // false (incomplete tiebreak)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: '' \n})); // false (empty string)\n\n// Edge cases\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET1-S:6NOAD/TB7' \n})); // true (No-advantage games)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET3X-S:T10' \n})); // true (exactly 3 timed sets)\n\nconsole.log(matchUpFormatGovernor.isValidMatchUpFormat({ \n  matchUpFormat: 'SET4X-S:T20P' \n})); // true (exactly 4 timed sets, points-based)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Performs round-trip validation (parse \u2192 stringify \u2192 compare)"}),"\n",(0,s.jsxs)(n.li,{children:["Empty strings return ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsxs)(n.li,{children:["Non-string values return ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsx)(n.li,{children:"The 'G' suffix on timed sets is stripped during validation (games-based is default)"}),"\n",(0,s.jsx)(n.li,{children:"NoAD (no-advantage) is supported for both games and tiebreaks"}),"\n",(0,s.jsx)(n.li,{children:"Format must follow TODS specification exactly"}),"\n",(0,s.jsxs)(n.li,{children:["Both ",(0,s.jsx)(n.code,{children:"isValid"})," and ",(0,s.jsx)(n.code,{children:"isValidMatchUpFormat"})," are available (same function, different export names)"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8439(e,n,t){t.d(n,{R:()=>o,x:()=>i});var r=t(758);const s={},a=r.createContext(s);function o(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);