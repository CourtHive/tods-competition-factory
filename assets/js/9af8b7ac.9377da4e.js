"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[3466],{8439(e,r,n){n.d(r,{R:()=>s,x:()=>d});var t=n(758);const o={},i=t.createContext(o);function s(e){const r=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:r},e.children)}},9262(e,r,n){n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"policies/feedPolicy","title":"Feed Policy","description":"A _Feed Policy_ controls how participants are fed into CONSOLATION structures. For MAIN structures, participants are fed starting from final rounds, always \\"Top Down\\" and there are currently no policy configurations.","source":"@site/docs/policies/feedPolicy.md","sourceDirName":"policies","slug":"/policies/feedPolicy","permalink":"/tods-competition-factory/docs/policies/feedPolicy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Feed Policy"}}');var o=n(6070),i=n(8439);const s={title:"Feed Policy"},d=void 0,a={},l=[{value:"<strong>feedFromMainFinal</strong>",id:"feedfrommainfinal",level:2},{value:"<strong>roundGroupedOrder</strong>",id:"roundgroupedorder",level:2},{value:"<strong>roundFeedProfiles</strong>",id:"roundfeedprofiles",level:2},{value:"EXAMPLE",id:"example",level:2}];function c(e){const r={code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.p,{children:["A ",(0,o.jsx)(r.strong,{children:(0,o.jsx)(r.em,{children:"Feed Policy"})})," controls how participants are fed into CONSOLATION structures. For MAIN structures, participants are fed starting from ",(0,o.jsx)(r.strong,{children:"final rounds"}),', always "Top Down" and there are currently no policy configurations.']}),"\n",(0,o.jsx)(r.p,{children:"Feeding participants into COSOLATION structures is controlled by the following attributes:"}),"\n",(0,o.jsx)(r.h2,{id:"feedfrommainfinal",children:(0,o.jsx)(r.strong,{children:"feedFromMainFinal"})}),"\n",(0,o.jsxs)(r.p,{children:["Allow participants to feed into CONSOLATION from MAIN final. This is considered an edge case and is ",(0,o.jsx)(r.strong,{children:(0,o.jsx)(r.em,{children:"false"})})," by default."]}),"\n",(0,o.jsx)(r.h2,{id:"roundgroupedorder",children:(0,o.jsx)(r.strong,{children:"roundGroupedOrder"})}),"\n",(0,o.jsxs)(r.p,{children:["Controls the order in which participants are fed from rounds of the MAIN structure into round of a CONSOLATION structure. Works in conjunction with ",(0,o.jsx)(r.strong,{children:"roundFeedProfiles"}),". For every item in the ",(0,o.jsx)(r.strong,{children:"roundGroupedOrder"})," array there should be a corresponding directive in the ",(0,o.jsx)(r.strong,{children:"roundFeedProfiles"})," array."]}),"\n",(0,o.jsxs)(r.p,{children:["Each array element is an array specifying how many divisions are to be made in the round being fed. For example, for a MAIN structure with 64 participants in the first round, 32 participants will be fed into the CONSOLATION structure. The array ",(0,o.jsx)(r.strong,{children:"[1]"})," specifies that these 16 participants should be treated as one group."]}),"\n",(0,o.jsxs)(r.p,{children:["In the example given below, the third round grouped order is ",(0,o.jsx)(r.strong,{children:"[1, 2]"}),". This specifies that participants should be treated as two groups and that the first group will be processed first using the corresponding feed profile directive; in a draw of 64 when the feed profile is BOTTOM_UP this means that the first half of 16 players being fed into the third round will be fed as follows:"]}),"\n",(0,o.jsxs)(r.p,{children:["[",(0,o.jsx)(r.strong,{children:"1"}),", 2] => [",(0,o.jsx)(r.strong,{children:"8, 7, 6, 5, 4, 3, 2, 1"}),", 16, 15, 14, 13, 12, 11, 10, 9]."]}),"\n",(0,o.jsx)(r.p,{children:"The 8 players being fed in the fourth round start with the 3rd division, e.g. [5, 6]. BOTTOM_UP reverses this to [6, 5]."}),"\n",(0,o.jsxs)(r.p,{children:["[",(0,o.jsx)(r.strong,{children:"3"}),", 4, ",(0,o.jsx)(r.strong,{children:"1"}),", 2] => [",(0,o.jsx)(r.strong,{children:"6, 5"}),", 8, 7 , ",(0,o.jsx)(r.strong,{children:"2, 1"}),", 3, 4]"]}),"\n",(0,o.jsx)(r.h2,{id:"roundfeedprofiles",children:(0,o.jsx)(r.strong,{children:"roundFeedProfiles"})}),"\n",(0,o.jsx)(r.p,{children:"An array of directives specifying whether the feed for each fed round will be TOP_DOWN or BOTTOM_UP."}),"\n",(0,o.jsx)(r.h2,{id:"example",children:"EXAMPLE"}),"\n",(0,o.jsxs)(r.p,{children:["This example is sufficient to cover MAIN draw sizes up to 128. This is because the fifth element of the ",(0,o.jsx)(r.strong,{children:"roundGroupedOrder"})," array corresponds to the eighth round of a CONSOLATION structure. With a 128 MAIN structure, fed rounds contain 64, 32, 16, 8, 4 and 2 participants. When a MAIN draw size is less than 128, the factory uses an internal method ",(0,o.jsx)(r.code,{children:"reduceGroupOrder"})," to ensure the number of array elements is never greater than the number of participants being fed."]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-js",children:"const feedPolicy = {\n  feedFromMainFinal, // optional - defaults to false; drawSize: 4 will not feed from main final unless true\n  roundGroupedOrder: [\n    [1], // complete round TOP_DOWN\n    [1], // complete round BOTTOM_UP\n    [1, 2], // 1st half BOTTOM_UP, 2nd half BOTTOM_UP\n    [3, 4, 1, 2], // 3rd Qtr BOTTOM_UP, 4th Qtr BOTTOM_UP, 1st Qtr BOTTOM_UP, 2nd Qtr BOTTOM_UP\n    [2, 1, 4, 3, 6, 5, 8, 7], // 1st Qtr BOTTOM_UP, 2nd Qtr BOTTOM_UP, 3rd Qtr BOTTOM_UP, 4th Qtr BOTTOM_UP\n    [1], // complete round BOTTOM_UP\n  ],\n  roundFeedProfiles: [TOP_DOWN, BOTTOM_UP, BOTTOM_UP, BOTTOM_UP, BOTTOM_UP, BOTTOM_UP, BOTTOM_UP, BOTTOM_UP],\n};\n"})})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);