"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1741],{3805:(e,n,t)=>{t.d(n,{xA:()=>g,yg:()=>m});var a=t(758);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},g=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,g=o(e,["components","mdxType","originalType","parentName"]),u=p(t),c=r,m=u["".concat(l,".").concat(c)]||u[c]||d[c]||i;return t?a.createElement(m,s(s({ref:n},g),{},{components:t})):a.createElement(m,s({ref:n},g))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,s=new Array(i);s[0]=c;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o[u]="string"==typeof e?e:r,s[1]=o;for(var p=2;p<i;p++)s[p]=t[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},1347:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=t(2232),r=(t(758),t(3805));const i={title:"Extensions"},s=void 0,o={unversionedId:"concepts/extensions",id:"concepts/extensions",title:"Extensions",description:"Overview",source:"@site/docs/concepts/extensions.md",sourceDirName:"concepts",slug:"/concepts/extensions",permalink:"/tods-competition-factory/docs/concepts/extensions",draft:!1,tags:[],version:"current",frontMatter:{title:"Extensions"},sidebar:"docs",previous:{title:"Time Items",permalink:"/tods-competition-factory/docs/concepts/timeItems"},next:{title:"Migration 1.x to 2.x",permalink:"/tods-competition-factory/docs/migration"}},l={},p=[{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:3},{value:"Extension Structure",id:"extension-structure",level:3},{value:"Location in TODS",id:"location-in-tods",level:3},{value:"Factory-Recognized Extensions",id:"factory-recognized-extensions",level:2},{value:"Configuration &amp; Policy Extensions",id:"configuration--policy-extensions",level:3},{value:"Draw Generation &amp; Structure Extensions",id:"draw-generation--structure-extensions",level:3},{value:"Team Event Extensions",id:"team-event-extensions",level:3},{value:"Scoring &amp; Results Extensions",id:"scoring--results-extensions",level:3},{value:"Scheduling &amp; Venue Extensions",id:"scheduling--venue-extensions",level:3},{value:"Participant &amp; Registration Extensions",id:"participant--registration-extensions",level:3},{value:"Auditing &amp; System Extensions",id:"auditing--system-extensions",level:3},{value:"Display &amp; UI Extensions",id:"display--ui-extensions",level:3},{value:"Custom Extensions",id:"custom-extensions",level:2},{value:"Naming Conventions",id:"naming-conventions",level:3},{value:"Custom Extension Examples",id:"custom-extension-examples",level:3},{value:"Working with Extensions",id:"working-with-extensions",level:2},{value:"Adding Extensions",id:"adding-extensions",level:3},{value:"Retrieving Extensions",id:"retrieving-extensions",level:3},{value:"Updating Extensions",id:"updating-extensions",level:3},{value:"Extension Hydration",id:"extension-hydration",level:3},{value:"Extensions vs Time Items",id:"extensions-vs-time-items",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Uniqueness",id:"uniqueness",level:3},{value:"Value Types",id:"value-types",level:3},{value:"Factory Constant Names",id:"factory-constant-names",level:3},{value:"Related Documentation",id:"related-documentation",level:2}],g={toc:p},u="wrapper";function d(e){let{components:n,...t}=e;return(0,r.yg)(u,(0,a.A)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"overview"},"Overview"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Extensions"),' capture configuration parameters, calculated results, and custom data that are not part of the core TODS specification. They further extend the tournament "time capsule" - ensuring what happened during a tournament can be accurately reconstructed.'),(0,r.yg)("h3",{id:"key-concepts"},"Key Concepts"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Non-Temporal Data"),": Unlike ",(0,r.yg)("a",{parentName:"p",href:"./timeItems"},"Time Items"),", extensions don't track changes over time",(0,r.yg)("br",{parentName:"p"}),"\n",(0,r.yg)("strong",{parentName:"p"},"Name-Value Pairs"),": Each extension has ",(0,r.yg)("inlineCode",{parentName:"p"},"{ name, value }")," structure",(0,r.yg)("br",{parentName:"p"}),"\n",(0,r.yg)("strong",{parentName:"p"},"Uniqueness"),": Only one extension with a given name per ",(0,r.yg)("inlineCode",{parentName:"p"},".extensions")," array",(0,r.yg)("br",{parentName:"p"}),"\n",(0,r.yg)("strong",{parentName:"p"},"Hierarchical Scope"),": Extensions can exist on any TODS document element",(0,r.yg)("br",{parentName:"p"}),"\n",(0,r.yg)("strong",{parentName:"p"},"Factory Constants"),": Pre-defined extension names recognized by the factory",(0,r.yg)("br",{parentName:"p"}),"\n",(0,r.yg)("strong",{parentName:"p"},"Custom Extensions"),": User-defined extensions for application-specific data"),(0,r.yg)("h3",{id:"extension-structure"},"Extension Structure"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript"},"type Extension = {\n  name: string;    // Unique identifier within the extensions array\n  value: any;      // Any JSON-serializable data\n};\n\n// On any TODS element\n{\n  extensions: Extension[];\n}\n")),(0,r.yg)("h3",{id:"location-in-tods"},"Location in TODS"),(0,r.yg)("p",null,"Extensions can be attached to any element in a tournament record:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Tournament Record (top level)"),(0,r.yg)("li",{parentName:"ul"},"Events"),(0,r.yg)("li",{parentName:"ul"},"Draw Definitions"),(0,r.yg)("li",{parentName:"ul"},"Structures"),(0,r.yg)("li",{parentName:"ul"},"MatchUps"),(0,r.yg)("li",{parentName:"ul"},"Participants"),(0,r.yg)("li",{parentName:"ul"},"Venues/Courts")),(0,r.yg)("h2",{id:"factory-recognized-extensions"},"Factory-Recognized Extensions"),(0,r.yg)("p",null,"The factory internally uses and recognizes the following extension names (constants):"),(0,r.yg)("h3",{id:"configuration--policy-extensions"},"Configuration & Policy Extensions"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"appliedPolicies"))," - Policies applied to tournament element"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"events"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"drawDefinitions"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"structures")),(0,r.yg)("p",null,'Purpose: Captures which policies are "in scope" within the object hierarchy. Policies can be attached programmatically or automatically during draw generation.'),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'appliedPolicies',\n  value: {\n    seeding: { seedingProfile: 'WTN', ... },\n    avoidance: { roundsToSeparate: 3, ... }\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"schedulingProfile"))," - Auto scheduler configuration"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"events")),(0,r.yg)("p",null,"Purpose: Stores iteratively-edited scheduling profile before running the auto scheduler."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'schedulingProfile',\n  value: [\n    {\n      scheduleDate: '2024-06-15',\n      venues: [{ venueId: 'venue-1', rounds: [...] }]\n    }\n  ]\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"scheduleLimits"))," - Match daily limits override"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"matchUps")),(0,r.yg)("p",null,"Purpose: Overrides policy-defined daily limits for specific matchUps."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'scheduleLimits',\n  value: {\n    SINGLES: 2,\n    DOUBLES: 1,\n    TOTAL: 2\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"scheduleTiming"))," - Match format timing override"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"matchUps")),(0,r.yg)("p",null,"Purpose: Overrides policy-defined timing for specific matchUp formats."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'scheduleTiming',\n  value: {\n    'SET3-S:6/TB7': {\n      averageMinutes: 90,\n      recoveryMinutes: 30\n    }\n  }\n}\n")),(0,r.yg)("h3",{id:"draw-generation--structure-extensions"},"Draw Generation & Structure Extensions"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"entryProfile"))," - Entry limitations"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"events")),(0,r.yg)("p",null,"Purpose: Stores limitations on accepted entries including qualifiers, wildcards, and maximum draw size."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'entryProfile',\n  value: {\n    maxDrawSize: 32,\n    qualifiers: 4,\n    wildcards: 4\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"flightProfile"))," - Flight names and entries"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"events")),(0,r.yg)("p",null,"Purpose: Captures flight configuration when event entries are split into multiple flights before draw generation."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'flightProfile',\n  value: {\n    flights: [\n      { flightNumber: 1, drawEntries: [...] },\n      { flightNumber: 2, drawEntries: [...] }\n    ]\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"drawProfile"))," - Draw-specific configuration"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"drawDefinitions")),(0,r.yg)("p",null,"Purpose: Stores draw generation parameters and configuration."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'drawProfile',\n  value: {\n    automated: true,\n    seedsCount: 8,\n    drawType: 'ELIMINATION'\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"eventProfile"))," - Event-specific configuration"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"events")),(0,r.yg)("p",null,"Purpose: Stores event-level configuration and parameters."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'eventProfile',\n  value: {\n    category: 'U18',\n    gender: 'FEMALE',\n    surfaceType: 'HARD'\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"disableLinks"))," - Link disabling for position swaps"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"structures")),(0,r.yg)("p",null,"Purpose: When positioning policies allow draw position swaps in non-MAIN structures, normal progression logic breaks and links must be disabled to avoid data corruption."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'disableLinks',\n  value: true\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"roundTarget"))," - Qualifying feed-in rounds"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"structures"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"event.entries")),(0,r.yg)("p",null,'Purpose: Supports qualifying structures feeding into different rounds of MAIN structures; also annotates entries for "staggered entry" structures.'),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'roundTarget',\n  value: {\n    roundNumber: 2,  // Feed into round 2 of main draw\n    structureId: 'main-structure-id'\n  }\n}\n")),(0,r.yg)("h3",{id:"team-event-extensions"},"Team Event Extensions"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"groupingAttribute"))," - Team generation attribute"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"participants")," (TEAM type)"),(0,r.yg)("p",null,"Purpose: Stores the person/participant attribute used to generate TEAM participants."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'groupingAttribute',\n  value: 'club'  // Teams generated by club affiliation\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"lineUps"))," - Team lineup defaults"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"structures")),(0,r.yg)("p",null,"Purpose: Stores most recent lineup for each TEAM progressing through structure. Enables default assignments in hydrated SINGLES/DOUBLES tie matchUps before actual lineups are saved."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'lineUps',\n  value: {\n    'team-1': [\n      { participantId: 'player-1', collectionPosition: 1 },\n      { participantId: 'player-2', collectionPosition: 2 }\n    ]\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"disableAutoCalc"))," - Manual TEAM scoring"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"matchUps")," (TEAM type)"),(0,r.yg)("p",null,"Purpose: When manual scoring is enabled for TEAM matchUps, disables automatic calculation of team results."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'disableAutoCalc',\n  value: true\n}\n")),(0,r.yg)("h3",{id:"scoring--results-extensions"},"Scoring & Results Extensions"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"delegatedOutcome"))," - Unofficial results"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"matchUps")),(0,r.yg)("p",null,"Purpose: Captures matchUp outcomes sourced from third-party applications for display purposes prior to official result entry."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'delegatedOutcome',\n  value: {\n    score: {\n      sets: [\n        { side1Score: 6, side2Score: 4, winningSide: 1 },\n        { side1Score: 6, side2Score: 2, winningSide: 1 }\n      ]\n    },\n    winningSide: 1,\n    source: 'external-app'\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"tally"))," - Round robin results"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"positionAssignments")," (within structures)"),(0,r.yg)("p",null,"Purpose: Stores calculated participant results for structure positions. Used to determine group order in round robin structures."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'tally',\n  value: {\n    matchUpsWon: 4,\n    matchUpsLost: 1,\n    setsWon: 9,\n    setsLost: 3,\n    gamesWon: 54,\n    gamesLost: 38\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"subOrder"))," - Tie-breaking order"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"positionAssignments")),(0,r.yg)("p",null,"Purpose: When ties occur in round robin group order calculation, captures manual determination of order for tied positions."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'subOrder',\n  value: 2  // Second place among tied participants\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"rankingPoints"))," - Points awarded"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords")),(0,r.yg)("p",null,"Purpose: Enables capturing points generated by event outcomes for real-time display as participants advance through structures."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'rankingPoints',\n  value: {\n    'player-1': { singles: 250, doubles: 100 },\n    'player-2': { singles: 150 }\n  }\n}\n")),(0,r.yg)("h3",{id:"scheduling--venue-extensions"},"Scheduling & Venue Extensions"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"disabled"))," - Resource disabling"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"courts"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"venues")),(0,r.yg)("p",null,"Purpose: Indicates resource has been disabled and scheduling methods cannot use it."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'disabled',\n  value: true\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"linkedTournamentsIds"))," - Multi-tournament scheduling"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords")),(0,r.yg)("p",null,"Purpose: When multiple tournaments share venues, captures the association so client applications know to load all tournament records for scheduling."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'linkedTournamentsIds',\n  value: ['tournament-1', 'tournament-2', 'tournament-3']\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"personRequests"))," - Scheduling requests"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"participants"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"events"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords")),(0,r.yg)("p",null,"Purpose: Captures scheduling requests from participants. Consumed by scheduler to accommodate requests or simply display them."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'personRequests',\n  value: [\n    {\n      personId: 'person-1',\n      requestType: 'DO_NOT_SCHEDULE',\n      date: '2024-06-15',\n      startTime: '09:00',\n      endTime: '11:00'\n    }\n  ]\n}\n")),(0,r.yg)("h3",{id:"participant--registration-extensions"},"Participant & Registration Extensions"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"registration"))," - Registration data"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"participants")),(0,r.yg)("p",null,"Purpose: Captures registration-related information and metadata."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'registration',\n  value: {\n    registrationDate: '2024-05-01',\n    registrationId: 'REG-12345',\n    paymentStatus: 'PAID'\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"participantRepresentatives"))," - Draw witnesses"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"drawDefinitions")),(0,r.yg)("p",null,'Purpose: Records participant representatives present as witnesses during manual draw creation (traditional "hat draw").'),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'participantRepresentatives',\n  value: [\n    { participantId: 'player-1', representativeName: 'John Coach' },\n    { participantId: 'player-2', representativeName: 'Jane Manager' }\n  ]\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"statusDetail"))," - Entry status annotation"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"event.entries")),(0,r.yg)("p",null,"Purpose: Third-party extension (not used by factory) for annotating entry status of participants."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'statusDetail',\n  value: {\n    status: 'CONFIRMED',\n    notes: 'Paid in full, medical clearance received'\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"eventWithdrawalRequests"))," - Withdrawal tracking"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"events")),(0,r.yg)("p",null,"Purpose: Tracks participant withdrawal requests from events."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'eventWithdrawalRequests',\n  value: [\n    {\n      participantId: 'player-1',\n      requestDate: '2024-06-10',\n      reason: 'Injury'\n    }\n  ]\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"activeSuspension"))," - Participant suspension"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"participants")),(0,r.yg)("p",null,"Purpose: Indicates participant has active suspension affecting eligibility."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'activeSuspension',\n  value: {\n    startDate: '2024-05-01',\n    endDate: '2024-08-31',\n    reason: 'Code violation'\n  }\n}\n")),(0,r.yg)("h3",{id:"auditing--system-extensions"},"Auditing & System Extensions"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"factory"))," - Factory version tracking"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords")),(0,r.yg)("p",null,"Purpose: Captures version of factory (and other TODS processors) that created/mutated the tournament record."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'factory',\n  value: {\n    version: '2.2.49',\n    lastModified: '2024-06-15T10:30:00Z'\n  }\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"drawDeletions"))," - Deleted draw audit"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords")),(0,r.yg)("p",null,"Purpose: When no external auditing service is available, stores deleted draw definitions for audit purposes."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'drawDeletions',\n  value: [\n    {\n      drawId: 'draw-123',\n      drawName: 'Main Draw',\n      deletedAt: '2024-06-14T15:00:00Z',\n      deletedBy: 'user-456'\n    }\n  ]\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"positionActions"))," - Position action telemetry"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords")),(0,r.yg)("p",null,"Purpose: When no external auditing service is available, stores position action telemetry."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'positionActions',\n  value: [\n    {\n      action: 'ASSIGN_PARTICIPANT',\n      drawPosition: 1,\n      participantId: 'player-1',\n      timestamp: '2024-06-14T14:00:00Z'\n    }\n  ]\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"tieFormatModifications"))," - Tie format audit"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"tournamentRecords")),(0,r.yg)("p",null,"Purpose: When no external auditing service is available, captures modifications to tie formats during the course of an event."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'tieFormatModifications',\n  value: [\n    {\n      tieFormatId: 'format-1',\n      modifiedAt: '2024-06-15T09:00:00Z',\n      changes: { collectionDefinitions: [...] }\n    }\n  ]\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"context"))," - Creation context"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"venues"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"courts"),", and other elements"),(0,r.yg)("p",null,"Purpose: Captures context in which a resource was added (metadata about creation)."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'context',\n  value: {\n    createdBy: 'user-123',\n    createdAt: '2024-06-01T10:00:00Z',\n    source: 'mobile-app'\n  }\n}\n")),(0,r.yg)("h3",{id:"display--ui-extensions"},"Display & UI Extensions"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"display"))," - Display preferences"),(0,r.yg)("p",null,"Attached to: ",(0,r.yg)("inlineCode",{parentName:"p"},"events"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"drawDefinitions"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"structures")),(0,r.yg)("p",null,"Purpose: Client application-specific storage for display preferences."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"{\n  name: 'display',\n  value: {\n    viewMode: 'bracket',\n    showSeeds: true,\n    highlightedParticipants: ['player-1', 'player-2']\n  }\n}\n")),(0,r.yg)("h2",{id:"custom-extensions"},"Custom Extensions"),(0,r.yg)("p",null,"Applications can define custom extensions for application-specific data not covered by factory constants."),(0,r.yg)("h3",{id:"naming-conventions"},"Naming Conventions"),(0,r.yg)("p",null,"Use descriptive, unique names that won't conflict with factory extensions:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// \u2713 GOOD - Clear, specific names\n{ name: 'broadcastSchedule', value: { ... } }\n{ name: 'sponsorData', value: { ... } }\n{ name: 'mediaRequirements', value: { ... } }\n{ name: 'facilityAccess', value: { ... } }\n\n// \u2717 AVOID - Generic or conflicting names\n{ name: 'data', value: { ... } }\n{ name: 'info', value: { ... } }\n{ name: 'config', value: { ... } }\n")),(0,r.yg)("h3",{id:"custom-extension-examples"},"Custom Extension Examples"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Broadcast Information"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"tournamentEngine.addMatchUpExtension({\n  matchUpId: 'match-123',\n  drawId: 'draw-456',\n  extension: {\n    name: 'broadcastSchedule',\n    value: {\n      channel: 'ESPN',\n      broadcastTime: '14:00',\n      commentators: ['John Smith', 'Jane Doe'],\n    },\n  },\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Facility Requirements"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"tournamentEngine.addEventExtension({\n  eventId: 'singles-main',\n  extension: {\n    name: 'facilityRequirements',\n    value: {\n      courtSurface: 'HARD',\n      lighting: 'REQUIRED',\n      spectatorCapacity: 500,\n    },\n  },\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Sponsor Data"),":"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"tournamentEngine.addTournamentExtension({\n  extension: {\n    name: 'sponsorData',\n    value: {\n      titleSponsor: 'Acme Corp',\n      courtSponsors: {\n        'court-1': 'Beta LLC',\n        'court-2': 'Gamma Inc',\n      },\n    },\n  },\n});\n")),(0,r.yg)("h2",{id:"working-with-extensions"},"Working with Extensions"),(0,r.yg)("h3",{id:"adding-extensions"},"Adding Extensions"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Add to tournament\ntournamentEngine.addTournamentExtension({\n  extension: {\n    name: 'customData',\n    value: { ... }\n  }\n});\n\n// Add to event\ntournamentEngine.addEventExtension({\n  eventId: 'singles-main',\n  extension: {\n    name: 'eventCustomData',\n    value: { ... }\n  }\n});\n\n// Add to draw\ntournamentEngine.addDrawDefinitionExtension({\n  drawId: 'draw-123',\n  extension: {\n    name: 'drawCustomData',\n    value: { ... }\n  }\n});\n\n// Add to matchUp\ntournamentEngine.addMatchUpExtension({\n  matchUpId: 'match-456',\n  drawId: 'draw-123',\n  extension: {\n    name: 'matchUpCustomData',\n    value: { ... }\n  }\n});\n")),(0,r.yg)("h3",{id:"retrieving-extensions"},"Retrieving Extensions"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// From tournament record\nconst tournament = tournamentEngine.getTournament();\nconst customExt = tournament.extensions?.find((e) => e.name === 'customData');\n\n// From event\nconst { event } = tournamentEngine.getEvent({ eventId: 'singles-main' });\nconst eventExt = event.extensions?.find((e) => e.name === 'eventCustomData');\n\n// From draw\nconst { drawDefinition } = tournamentEngine.getDrawDefinition({ drawId: 'draw-123' });\nconst drawExt = drawDefinition.extensions?.find((e) => e.name === 'drawCustomData');\n\n// From matchUp (with context)\nconst { matchUp } = tournamentEngine.findMatchUp({\n  matchUpId: 'match-456',\n  inContext: true,\n});\nconst matchUpExt = matchUp.extensions?.find((e) => e.name === 'matchUpCustomData');\n")),(0,r.yg)("h3",{id:"updating-extensions"},"Updating Extensions"),(0,r.yg)("p",null,"Extensions are updated by removing the old one and adding the new one (or using update methods):"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Remove extension\ntournamentEngine.removeTournamentExtension({\n  name: 'customData',\n});\n\n// Add updated version\ntournamentEngine.addTournamentExtension({\n  extension: {\n    name: 'customData',\n    value: updatedValue,\n  },\n});\n")),(0,r.yg)("h3",{id:"extension-hydration"},"Extension Hydration"),(0,r.yg)("p",null,"When retrieving data with ",(0,r.yg)("inlineCode",{parentName:"p"},"inContext: true"),", extensions are automatically converted to underscore-prefixed attributes:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// MatchUp has extension\n{\n  extensions: [\n    {\n      name: 'broadcastSchedule',\n      value: { channel: 'ESPN' },\n    },\n  ];\n}\n\n// When hydrated\nconst { matchUps } = tournamentEngine.allTournamentMatchUps({\n  inContext: true,\n});\n\nconsole.log(matchUps[0]._broadcastSchedule); // { channel: 'ESPN' }\nconsole.log(matchUps[0].extensions); // Original array still present\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"See:")," ",(0,r.yg)("a",{parentName:"p",href:"./matchup-context#extensions-handling"},"MatchUp Context")," for details on extension hydration."),(0,r.yg)("h2",{id:"extensions-vs-time-items"},"Extensions vs Time Items"),(0,r.yg)("p",null,"Choose the appropriate mechanism for your data:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Feature"),(0,r.yg)("th",{parentName:"tr",align:null},"Extensions"),(0,r.yg)("th",{parentName:"tr",align:null},"Time Items"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"td"},"Purpose")),(0,r.yg)("td",{parentName:"tr",align:null},"Configuration, calculated results, custom data"),(0,r.yg)("td",{parentName:"tr",align:null},"Temporal data with effective dates")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"td"},"History")),(0,r.yg)("td",{parentName:"tr",align:null},"Single value (current state)"),(0,r.yg)("td",{parentName:"tr",align:null},"Multiple values over time")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"td"},"Timestamps")),(0,r.yg)("td",{parentName:"tr",align:null},"No timestamps"),(0,r.yg)("td",{parentName:"tr",align:null},"itemDate and createdAt")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"td"},"Use Cases")),(0,r.yg)("td",{parentName:"tr",align:null},"Policies, profiles, preferences, metadata"),(0,r.yg)("td",{parentName:"tr",align:null},"Rankings, ratings, schedule changes, status transitions")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"td"},"Hydration")),(0,r.yg)("td",{parentName:"tr",align:null},"Underscore-prefixed attributes"),(0,r.yg)("td",{parentName:"tr",align:null},"Extracted to ",(0,r.yg)("inlineCode",{parentName:"td"},".schedule")," for matchUps")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example Decision"),":"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Use Extension"),": Store broadcast channel assignment (doesn't change over time)"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Use Time Item"),": Track court assignments (may change, need history)")),(0,r.yg)("h2",{id:"best-practices"},"Best Practices"),(0,r.yg)("h3",{id:"uniqueness"},"Uniqueness"),(0,r.yg)("p",null,"Only one extension with a given name per element:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// \u2713 CORRECT - One extension per name\n{\n  extensions: [{ name: 'customData', value: { field1: 'value1', field2: 'value2' } }];\n}\n\n// \u2717 WRONG - Duplicate names\n{\n  extensions: [\n    { name: 'customData', value: { field1: 'value1' } },\n    { name: 'customData', value: { field2: 'value2' } }, // Duplicate!\n  ];\n}\n")),(0,r.yg)("h3",{id:"value-types"},"Value Types"),(0,r.yg)("p",null,"Use appropriate JSON-serializable types:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// \u2713 GOOD - JSON-serializable\n{ name: 'config', value: { enabled: true, count: 5, items: ['a', 'b'] } }\n{ name: 'timestamp', value: '2024-06-15T10:00:00Z' }\n\n// \u2717 AVOID - Non-serializable\n{ name: 'config', value: new Date() }  // Date object\n{ name: 'callback', value: function() {} }  // Function\n")),(0,r.yg)("h3",{id:"factory-constant-names"},"Factory Constant Names"),(0,r.yg)("p",null,"Avoid using factory-recognized extension names for custom extensions:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// \u2717 AVOID - Conflicts with factory constants\n{ name: 'appliedPolicies', value: myCustomValue }\n{ name: 'schedulingProfile', value: myCustomValue }\n\n// \u2713 GOOD - Unique custom names\n{ name: 'myApp_policies', value: myCustomValue }\n{ name: 'myApp_schedule', value: myCustomValue }\n")),(0,r.yg)("h2",{id:"related-documentation"},"Related Documentation"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"./timeItems"},"Time Items"))," - Temporal data with effective dates"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"./matchup-context#extensions-handling"},"MatchUp Context"))," - Extension hydration"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"./participant-context"},"Participant Context"))," - Participant extensions"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"/docs/policies/avoidance"},"Policies Overview"))," - Applied policies extension")))}d.isMDXComponent=!0}}]);