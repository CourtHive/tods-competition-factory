"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[3337],{3805:(e,t,n)=>{n.d(t,{xA:()=>o,yg:()=>y});var a=n(758);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},o=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,o=m(e,["components","mdxType","originalType","parentName"]),c=p(n),u=i,y=c["".concat(s,".").concat(u)]||c[u]||g[u]||r;return n?a.createElement(y,l(l({ref:t},o),{},{components:n})):a.createElement(y,l({ref:t},o))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=u;var m={};for(var s in t)hasOwnProperty.call(t,s)&&(m[s]=t[s]);m.originalType=e,m[c]="string"==typeof e?e:i,l[1]=m;for(var p=2;p<r;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5046:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>g,frontMatter:()=>r,metadata:()=>m,toc:()=>p});var a=n(2232),i=(n(758),n(3805));const r={title:"Time Items"},l=void 0,m={unversionedId:"concepts/timeItems",id:"concepts/timeItems",title:"Time Items",description:"Overview",source:"@site/docs/concepts/timeItems.md",sourceDirName:"concepts",slug:"/concepts/timeItems",permalink:"/tods-competition-factory/docs/concepts/timeItems",draft:!1,tags:[],version:"current",frontMatter:{title:"Time Items"},sidebar:"docs",previous:{title:"Accessors",permalink:"/tods-competition-factory/docs/concepts/accessors"},next:{title:"Extensions",permalink:"/tods-competition-factory/docs/concepts/extensions"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:3},{value:"Primary Use Cases",id:"primary-use-cases",level:3},{value:"Time Item Structure",id:"time-item-structure",level:2},{value:"Complete Type Definition",id:"complete-type-definition",level:3},{value:"Property Descriptions",id:"property-descriptions",level:3},{value:"Dot Notation Hierarchy",id:"dot-notation-hierarchy",level:3},{value:"Example itemTypes",id:"example-itemtypes",level:4},{value:"Factory Internal Usage",id:"factory-internal-usage",level:2},{value:"Participant Time Items",id:"participant-time-items",level:3},{value:"MatchUp Time Items",id:"matchup-time-items",level:3},{value:"Event Time Items",id:"event-time-items",level:3},{value:"Custom Use Cases",id:"custom-use-cases",level:2},{value:"Adding Time Items",id:"adding-time-items",level:3},{value:"Retrieving Time Items",id:"retrieving-time-items",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"External Ranking Integration",id:"external-ranking-integration",level:3},{value:"Match Duration Tracking",id:"match-duration-tracking",level:3},{value:"Audit Trail",id:"audit-trail",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Date Format Consistency",id:"date-format-consistency",level:3},{value:"Hierarchical Type Naming",id:"hierarchical-type-naming",level:3},{value:"Value Consistency",id:"value-consistency",level:3},{value:"Related Documentation",id:"related-documentation",level:2}],o={toc:p},c="wrapper";function g(e){let{components:t,...n}=e;return(0,i.yg)(c,(0,a.A)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h2",{id:"overview"},"Overview"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Time Items")," are temporal records that capture attributes which change over time on any TODS document element. They provide a complete audit trail of changes, enabling historical reconstruction and duration calculations."),(0,i.yg)("h3",{id:"key-concepts"},"Key Concepts"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Temporal Data"),": Values that change over time with timestamps",(0,i.yg)("br",{parentName:"p"}),"\n",(0,i.yg)("strong",{parentName:"p"},"Audit Trail"),": Complete history of value changes",(0,i.yg)("br",{parentName:"p"}),"\n",(0,i.yg)("strong",{parentName:"p"},"Hierarchical Types"),": Dot-notation for organized categorization",(0,i.yg)("br",{parentName:"p"}),"\n",(0,i.yg)("strong",{parentName:"p"},"Item Values"),": Any JSON-serializable data",(0,i.yg)("br",{parentName:"p"}),"\n",(0,i.yg)("strong",{parentName:"p"},"Date Tracking"),": Both item date and creation timestamp"),(0,i.yg)("h3",{id:"primary-use-cases"},"Primary Use Cases"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Participant Data"),":"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Rankings and ratings (with effective dates)"),(0,i.yg)("li",{parentName:"ul"},"Registration status changes"),(0,i.yg)("li",{parentName:"ul"},"Sign-in timestamps"),(0,i.yg)("li",{parentName:"ul"},"Payment status tracking"),(0,i.yg)("li",{parentName:"ul"},"Penalties and warnings")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"MatchUp Scheduling"),":"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Court assignments and changes"),(0,i.yg)("li",{parentName:"ul"},"Start/stop/resume/end times"),(0,i.yg)("li",{parentName:"ul"},"Official assignments"),(0,i.yg)("li",{parentName:"ul"},"Venue changes"),(0,i.yg)("li",{parentName:"ul"},"Schedule modifications")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Event Management"),":"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"External data retrieval timestamps"),(0,i.yg)("li",{parentName:"ul"},"Configuration changes"),(0,i.yg)("li",{parentName:"ul"},"Status transitions")),(0,i.yg)("h2",{id:"time-item-structure"},"Time Item Structure"),(0,i.yg)("h3",{id:"complete-type-definition"},"Complete Type Definition"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-typescript"},"type TimeItem = {\n  itemType: string; // Hierarchical type using dot notation\n  itemValue: any; // The actual data value\n  itemDate: string; // ISO 8601 date when value is effective\n  createdAt: string; // ISO 8601 timestamp when item was created\n  itemSubTypes?: string[]; // Optional array of type fragments\n};\n")),(0,i.yg)("h3",{id:"property-descriptions"},"Property Descriptions"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"itemType")," (required)",(0,i.yg)("br",{parentName:"p"}),"\n","Hierarchical string using dot notation to categorize the time item. Enables matching on type fragments for internal operations."),(0,i.yg)("p",null,"Format: ",(0,i.yg)("inlineCode",{parentName:"p"},"CATEGORY.SUBCATEGORY.DETAIL")),(0,i.yg)("p",null,"Examples:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"'SCALE.RANKING.SINGLES.WTN'")," - WTN singles ranking"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"'SCHEDULE.TIME.START'")," - Match start time"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"'RETRIEVAL.RANKING.SINGLES.U18'")," - External data fetch timestamp")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"itemValue")," (required)",(0,i.yg)("br",{parentName:"p"}),"\n","The actual data being tracked. Can be any JSON-serializable value: number, string, boolean, object, array."),(0,i.yg)("p",null,"Examples:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"13.20")," - Rating value"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"'2024-06-15T14:30:00Z'")," - Timestamp"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"{ courtId: 'court-5', venueName: 'Stadium' }")," - Complex object")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"itemDate")," (required)",(0,i.yg)("br",{parentName:"p"}),"\n","ISO 8601 date string (",(0,i.yg)("inlineCode",{parentName:"p"},"YYYY-MM-DD"),") or datetime string indicating when the value becomes effective. For rankings/ratings, this is the effective date. For events, this is when the event occurred."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"createdAt")," (required)",(0,i.yg)("br",{parentName:"p"}),"\n","ISO 8601 datetime string (",(0,i.yg)("inlineCode",{parentName:"p"},"YYYY-MM-DDTHH:mm:ssZ"),") indicating when the time item was created in the system. Auto-generated during creation."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"itemSubTypes")," (optional)",(0,i.yg)("br",{parentName:"p"}),"\n","Array of strings providing additional type categorization. Used for organizing related items or adding metadata."),(0,i.yg)("h3",{id:"dot-notation-hierarchy"},"Dot Notation Hierarchy"),(0,i.yg)("p",null,"The factory uses dot notation in ",(0,i.yg)("inlineCode",{parentName:"p"},"itemType")," to create a hierarchical structure that enables flexible querying and type matching:"),(0,i.yg)("h4",{id:"example-itemtypes"},"Example itemTypes"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Scheduling"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"'SCHEDULE.ASSIGNMENT.VENUE'; // Venue assignment\n'SCHEDULE.ASSIGNMENT.COURT'; // Court assignment\n'SCHEDULE.ALLOCATION.COURTS'; // Team event court allocation\n'SCHEDULE.ASSIGNMENT.OFFICIAL'; // Official assignment\n'SCHEDULE.COURT.ORDER'; // Order of play position\n'SCHEDULE.DATE'; // Scheduled date\n'SCHEDULE.TIME.SCHEDULED'; // Scheduled time\n'SCHEDULE.TIME.START'; // Actual start time\n'SCHEDULE.TIME.STOP'; // Stop/interruption time\n'SCHEDULE.TIME.RESUME'; // Resume after interruption\n'SCHEDULE.TIME.END'; // Match completion time\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Scale Items")," (Rankings/Ratings):"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"'SCALE.RANKING.SINGLES.ATP'; // ATP singles ranking\n'SCALE.RATING.SINGLES.WTN'; // WTN singles rating\n'SCALE.SEEDING.SINGLES'; // Tournament seeding\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Data Retrieval"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"'RETRIEVAL.RANKING.SINGLES.U18'; // External ranking fetch timestamp\n'RETRIEVAL.RATING.DOUBLES.WTA'; // External rating fetch timestamp\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Participant Status"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"'REGISTRATION.STATUS'; // Registration status change\n'SIGNIN.TIMESTAMP'; // Check-in timestamp\n'PAYMENT.STATUS'; // Payment status change\n'PENALTY.ASSESSMENT'; // Penalty applied\n")),(0,i.yg)("h2",{id:"factory-internal-usage"},"Factory Internal Usage"),(0,i.yg)("p",null,"In most cases, time items are created and managed automatically by the Competition Factory engines. Understanding these patterns helps when integrating with the factory or debugging temporal data."),(0,i.yg)("h3",{id:"participant-time-items"},"Participant Time Items"),(0,i.yg)("p",null,"Time items on participants track temporal attributes throughout the tournament lifecycle:"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Scale Items")," - Rankings, ratings, and seedings:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Automatically created when setting participant scale items\n{\n  itemType: 'SCALE.RATING.SINGLES.WTN',\n  itemValue: 8.3,\n  itemDate: '2024-06-15',  // Effective date\n  createdAt: '2024-06-10T09:00:00Z'\n}\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"See:")," ",(0,i.yg)("a",{parentName:"p",href:"./scaleItems"},"Scale Items")," for complete scale item documentation."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Registration & Status"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Registration status changes\n{\n  itemType: 'REGISTRATION.STATUS',\n  itemValue: 'CONFIRMED',\n  itemDate: '2024-06-01',\n  createdAt: '2024-06-01T10:30:00Z'\n}\n\n// Check-in timestamp\n{\n  itemType: 'SIGNIN.TIMESTAMP',\n  itemValue: '2024-06-15T08:45:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T08:45:00Z'\n}\n")),(0,i.yg)("h3",{id:"matchup-time-items"},"MatchUp Time Items"),(0,i.yg)("p",null,"Time items on matchUps capture scheduling lifecycle and changes:"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Court and Venue Assignments"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Initial court assignment\n{\n  itemType: 'SCHEDULE.ASSIGNMENT.COURT',\n  itemValue: 'court-5',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-14T16:00:00Z'\n}\n\n// Court reassignment (e.g., due to rain)\n{\n  itemType: 'SCHEDULE.ASSIGNMENT.COURT',\n  itemValue: 'court-2',  // New court\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T11:30:00Z'  // Later creation time\n}\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Match Timing"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Scheduled start\n{\n  itemType: 'SCHEDULE.TIME.SCHEDULED',\n  itemValue: '2024-06-15T14:00:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-14T16:00:00Z'\n}\n\n// Actual start (may differ from scheduled)\n{\n  itemType: 'SCHEDULE.TIME.START',\n  itemValue: '2024-06-15T14:05:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T14:05:00Z'\n}\n\n// Interruption (rain delay)\n{\n  itemType: 'SCHEDULE.TIME.STOP',\n  itemValue: '2024-06-15T14:45:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T14:45:00Z'\n}\n\n// Resume after delay\n{\n  itemType: 'SCHEDULE.TIME.RESUME',\n  itemValue: '2024-06-15T15:30:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T15:30:00Z'\n}\n\n// Match completion\n{\n  itemType: 'SCHEDULE.TIME.END',\n  itemValue: '2024-06-15T16:15:00Z',\n  itemDate: '2024-06-15',\n  createdAt: '2024-06-15T16:15:00Z'\n}\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Duration Calculation Example"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Calculate match duration from time items\nconst startItem = matchUp.timeItems?.find((ti) => ti.itemType === 'SCHEDULE.TIME.START');\nconst stopItems = matchUp.timeItems?.filter((ti) => ti.itemType === 'SCHEDULE.TIME.STOP');\nconst resumeItems = matchUp.timeItems?.filter((ti) => ti.itemType === 'SCHEDULE.TIME.RESUME');\nconst endItem = matchUp.timeItems?.find((ti) => ti.itemType === 'SCHEDULE.TIME.END');\n\n// Calculate total playing time excluding interruptions\nlet totalMinutes = 0;\n// ... duration calculation logic\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Schedule Context Extraction"),":"),(0,i.yg)("p",null,"When matchUps are retrieved with context (",(0,i.yg)("inlineCode",{parentName:"p"},"inContext: true"),"), time items are automatically extracted and added to the ",(0,i.yg)("inlineCode",{parentName:"p"},"matchUp.schedule")," object:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"const { matchUps } = tournamentEngine.allTournamentMatchUps({\n  inContext: true,\n});\n\n// Schedule data extracted from time items\nmatchUps[0].schedule = {\n  scheduledDate: '2024-06-15',\n  scheduledTime: '14:00',\n  courtId: 'court-5',\n  venueId: 'venue-1',\n  startTime: '2024-06-15T14:05:00Z',\n  endTime: '2024-06-15T16:15:00Z',\n};\n")),(0,i.yg)("h3",{id:"event-time-items"},"Event Time Items"),(0,i.yg)("p",null,"Time items on events track data retrieval and configuration:"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"External Data Retrieval Timestamps"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"{\n  itemType: 'RETRIEVAL.RANKING.SINGLES.U18',\n  itemValue: '2024-06-10T09:00:00Z',  // When data was fetched\n  itemDate: '2024-06-10',\n  createdAt: '2024-06-10T09:00:00Z'\n}\n")),(0,i.yg)("p",null,'This allows queries like "when were rankings last updated?" for display in client applications.'),(0,i.yg)("h2",{id:"custom-use-cases"},"Custom Use Cases"),(0,i.yg)("h3",{id:"adding-time-items"},"Adding Time Items"),(0,i.yg)("p",null,"Add time items to tournament elements for custom tracking:"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Add to Event"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"const timeItem = {\n  itemType: 'RETRIEVAL.RANKING.SINGLES.U18',\n  itemValue: new Date().toISOString(),\n  itemDate: new Date().toISOString().split('T')[0],\n  createdAt: new Date().toISOString(),\n};\n\ntournamentEngine.addTimeItem({\n  eventId: 'singles-u18',\n  timeItem,\n});\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Add to Participant"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"const timeItem = {\n  itemType: 'CUSTOM.CHECK_IN',\n  itemValue: { location: 'Gate A', verified: true },\n  itemDate: '2024-06-15',\n  createdAt: new Date().toISOString(),\n};\n\ntournamentEngine.addTimeItem({\n  participantId: 'player-123',\n  timeItem,\n});\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Add to MatchUp"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"const timeItem = {\n  itemType: 'CUSTOM.BROADCAST',\n  itemValue: { channel: 'ESPN', startTime: '14:00' },\n  itemDate: '2024-06-15',\n  createdAt: new Date().toISOString(),\n};\n\ntournamentEngine.addTimeItem({\n  matchUpId: 'match-456',\n  drawId: 'draw-789',\n  timeItem,\n});\n")),(0,i.yg)("h3",{id:"retrieving-time-items"},"Retrieving Time Items"),(0,i.yg)("p",null,"Query time items from tournament elements:"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Get Specific Time Item Type"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"const { timeItem, message } = tournamentEngine.getTimeItem({\n  itemType: 'RETRIEVAL.RANKING.SINGLES.U18',\n  eventId: 'singles-u18',\n});\n\nif (timeItem) {\n  console.log(`Last ranking update: ${timeItem.itemValue}`);\n}\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Get All Time Items"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"const { participant } = tournamentEngine.getParticipant({\n  participantId: 'player-123',\n});\n\n// Access all time items\nparticipant.timeItems?.forEach((item) => {\n  console.log(`${item.itemType}: ${item.itemValue} (${item.itemDate})`);\n});\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Filter Time Items by Type Pattern"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Get all scale-related time items\nconst scaleItems = participant.timeItems?.filter((item) => item.itemType.startsWith('SCALE.'));\n\n// Get all schedule-related time items\nconst scheduleItems = matchUp.timeItems?.filter((item) => item.itemType.startsWith('SCHEDULE.'));\n")),(0,i.yg)("h2",{id:"practical-examples"},"Practical Examples"),(0,i.yg)("h3",{id:"external-ranking-integration"},"External Ranking Integration"),(0,i.yg)("p",null,"Track when rankings were last fetched from external service:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Fetch rankings from external API\nasync function updateRankings(eventId) {\n  const rankings = await fetchFromExternalAPI();\n\n  // Update participant rankings\n  rankings.forEach(({ participantId, ranking }) => {\n    tournamentEngine.setParticipantScaleItem({\n      participantId,\n      scaleItem: {\n        scaleType: 'RANKING',\n        scaleValue: ranking,\n        scaleName: 'ATP',\n        eventType: 'SINGLES',\n        scaleDate: new Date().toISOString().split('T')[0],\n      },\n    });\n  });\n\n  // Record retrieval timestamp\n  tournamentEngine.addTimeItem({\n    eventId,\n    timeItem: {\n      itemType: 'RETRIEVAL.RANKING.SINGLES.ATP',\n      itemValue: new Date().toISOString(),\n      itemDate: new Date().toISOString().split('T')[0],\n      createdAt: new Date().toISOString(),\n    },\n  });\n}\n\n// Check if rankings need update\nconst { timeItem } = tournamentEngine.getTimeItem({\n  eventId: 'singles-main',\n  itemType: 'RETRIEVAL.RANKING.SINGLES.ATP',\n});\n\nconst lastUpdate = timeItem ? new Date(timeItem.itemValue) : null;\nconst hoursSinceUpdate = lastUpdate ? (Date.now() - lastUpdate.getTime()) / (1000 * 60 * 60) : Infinity;\n\nif (hoursSinceUpdate > 24) {\n  await updateRankings('singles-main');\n}\n")),(0,i.yg)("h3",{id:"match-duration-tracking"},"Match Duration Tracking"),(0,i.yg)("p",null,"Calculate match duration including interruptions:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"function getMatchDuration(matchUp) {\n  const timeItems = matchUp.timeItems || [];\n\n  const start = timeItems.find((ti) => ti.itemType === 'SCHEDULE.TIME.START');\n  const end = timeItems.find((ti) => ti.itemType === 'SCHEDULE.TIME.END');\n\n  if (!start || !end) return null;\n\n  const stops = timeItems.filter((ti) => ti.itemType === 'SCHEDULE.TIME.STOP');\n  const resumes = timeItems.filter((ti) => ti.itemType === 'SCHEDULE.TIME.RESUME');\n\n  // Calculate total elapsed time\n  let totalMs = new Date(end.itemValue) - new Date(start.itemValue);\n\n  // Subtract interruption periods\n  stops.forEach((stop, index) => {\n    const resume = resumes[index];\n    if (resume) {\n      const interruptionMs = new Date(resume.itemValue) - new Date(stop.itemValue);\n      totalMs -= interruptionMs;\n    }\n  });\n\n  return {\n    totalMinutes: Math.round(totalMs / (1000 * 60)),\n    interruptions: stops.length,\n    startTime: start.itemValue,\n    endTime: end.itemValue,\n  };\n}\n")),(0,i.yg)("h3",{id:"audit-trail"},"Audit Trail"),(0,i.yg)("p",null,"Maintain complete history of court assignments:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"function getCourtAssignmentHistory(matchUp) {\n  const courtAssignments = matchUp.timeItems\n    ?.filter((ti) => ti.itemType === 'SCHEDULE.ASSIGNMENT.COURT')\n    .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt))\n    .map((ti) => ({\n      courtId: ti.itemValue,\n      assignedAt: ti.createdAt,\n      effectiveDate: ti.itemDate,\n    }));\n\n  return courtAssignments || [];\n}\n\n// Example output:\n// [\n//   { courtId: 'court-5', assignedAt: '2024-06-14T16:00:00Z', effectiveDate: '2024-06-15' },\n//   { courtId: 'court-2', assignedAt: '2024-06-15T11:30:00Z', effectiveDate: '2024-06-15' }\n// ]\n")),(0,i.yg)("h2",{id:"best-practices"},"Best Practices"),(0,i.yg)("h3",{id:"date-format-consistency"},"Date Format Consistency"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"CRITICAL"),": Always use ISO 8601 format for ",(0,i.yg)("inlineCode",{parentName:"p"},"itemDate")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"createdAt"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// \u2713 CORRECT\nconst timeItem = {\n  itemType: 'CUSTOM.EVENT',\n  itemValue: someValue,\n  itemDate: '2024-06-15', // YYYY-MM-DD\n  createdAt: '2024-06-15T10:30:00Z', // ISO 8601 datetime\n};\n\n// \u2717 WRONG\nconst badTimeItem = {\n  itemDate: '06/15/2024', // Invalid format\n  createdAt: new Date().toString(), // Non-ISO format\n};\n")),(0,i.yg)("h3",{id:"hierarchical-type-naming"},"Hierarchical Type Naming"),(0,i.yg)("p",null,"Use consistent dot-notation hierarchy for custom types:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// \u2713 GOOD - Clear hierarchy\n'CUSTOM.BROADCAST.ASSIGNMENT';\n'CUSTOM.MEDIA.REQUEST';\n'CUSTOM.FACILITY.ACCESS';\n\n// \u2717 AVOID - Flat or inconsistent\n'CUSTOM_BROADCAST_ASSIGNMENT';\n'broadcast.custom';\n'CustomBroadcast';\n")),(0,i.yg)("h3",{id:"value-consistency"},"Value Consistency"),(0,i.yg)("p",null,"Keep ",(0,i.yg)("inlineCode",{parentName:"p"},"itemValue")," types consistent for the same ",(0,i.yg)("inlineCode",{parentName:"p"},"itemType"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// \u2713 GOOD - Consistent value type\n{ itemType: 'SCHEDULE.TIME.START', itemValue: '2024-06-15T14:00:00Z' }\n{ itemType: 'SCHEDULE.TIME.START', itemValue: '2024-06-15T15:00:00Z' }\n\n// \u2717 AVOID - Inconsistent value types\n{ itemType: 'SCHEDULE.TIME.START', itemValue: '2024-06-15T14:00:00Z' }\n{ itemType: 'SCHEDULE.TIME.START', itemValue: 1718463600000 }  // Unix timestamp\n")),(0,i.yg)("h2",{id:"related-documentation"},"Related Documentation"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"./scaleItems"},"Scale Items"))," - Rankings, ratings, and seedings (stored as time items)"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"./extensions"},"Extensions"))," - Alternative for non-temporal custom data"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"./matchup-overview"},"MatchUp Overview"))," - MatchUp scheduling and timing"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},(0,i.yg)("a",{parentName:"strong",href:"./participants"},"Participants"))," - Participant data management")))}g.isMDXComponent=!0}}]);