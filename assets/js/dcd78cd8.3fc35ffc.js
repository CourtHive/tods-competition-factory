"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7594],{1310:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var t=i(1527),c=i(7942);const o={title:"tieFormats"},r=void 0,a={id:"concepts/tieFormat",title:"tieFormats",description:"Overview",source:"@site/docs/concepts/tieFormat.mdx",sourceDirName:"concepts",slug:"/concepts/tieFormat",permalink:"/tods-competition-factory/docs/concepts/tieFormat",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"tieFormats"},sidebar:"docs",previous:{title:"lineUps",permalink:"/tods-competition-factory/docs/concepts/lineUp"},next:{title:"tieMatchUps",permalink:"/tods-competition-factory/docs/concepts/tieMatchUp"}},s={},l=[{value:"Overview",id:"overview",level:2},{value:"Value Considerations",id:"value-considerations",level:2},{value:"tieFormat Use",id:"tieformat-use",level:2},{value:"Generating Draws",id:"generating-draws",level:3},{value:"Mapping lineUps",id:"mapping-lineups",level:3},{value:"tieFormat Example",id:"tieformat-example",level:2},{value:"tieFormat and lineUp propagation",id:"tieformat-and-lineup-propagation",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.ah)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.code,{children:"tieFormat"})," both describes collections of singles and doubles ",(0,t.jsx)(n.code,{children:"tieMatchUps"})," which are part of a ",(0,t.jsx)(n.code,{children:"{ matchUpType: TEAM }"})," ",(0,t.jsx)(n.code,{children:"matchUp"}),", and defines the target value which must be achieved in order to win the ",(0,t.jsx)(n.code,{children:"matchUp"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["There can be any number of ",(0,t.jsx)(n.code,{children:"collectionDefinitions"})," in a ",(0,t.jsx)(n.code,{children:"tieMatchUp"}),'.\nFor instance, there can be "Men\'s Singles", "Men\'s Doubles", "Womens\'s Singles", "Women\'s Doubles", and "Mixed Doubles".']}),"\n",(0,t.jsxs)(n.p,{children:["Each ",(0,t.jsx)(n.code,{children:"collectionDefinition"})," defines how many ",(0,t.jsx)(n.code,{children:"matchUps"})," are in the collection, the ",(0,t.jsx)(n.code,{children:"matchUpType"})," (SINGLES or DOUBLES), the ",(0,t.jsx)(n.code,{children:"matchUpFormat"})," to be used for scoring, and how value is assigned to each ",(0,t.jsx)(n.code,{children:"matchUp"}),".\n",(0,t.jsx)(n.code,{children:"collectionDefinitions"})," can optionally define ",(0,t.jsx)(n.code,{children:"category"})," and ",(0,t.jsx)(n.code,{children:"gender"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"value-considerations",children:"Value Considerations"}),"\n",(0,t.jsxs)(n.p,{children:["The score of a TEAM ",(0,t.jsx)(n.code,{children:"matchUp"})," is the summation of the value assigned for the wins on each side. Value can be assigned in numerous ways.\nWhen there is no ",(0,t.jsx)(n.code,{children:"winCriteria"})," specified, the ",(0,t.jsx)(n.code,{children:"valueGoal"})," defaults to one more than half of the potential value within scope (which can be the ",(0,t.jsx)(n.code,{children:"tieFormat"}),", a ",(0,t.jsx)(n.code,{children:"collectionDefinition"}),", or a ",(0,t.jsx)(n.code,{children:"collectionGroup"}),")."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"matchUpValue"})," - specified value is awarded for each ",(0,t.jsx)(n.code,{children:"matchUp"})," win"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"setValue"})," - specified value is awarded for each set win"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"collectionValue"})," - specified value is awarded for winning a collection"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"collecitonValueProfile"})," - unique values are specified for each ",(0,t.jsx)(n.code,{children:"collectionPosition"})," within a collection"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"groupValue"})," - specified value is awarded for reaching a ",(0,t.jsx)(n.code,{children:"valueGoal"})," by accumulating value across collections in the group"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"scoreValue"})," - specified value is awarded for each sideScore (typically 1, typically used with ",(0,t.jsx)(n.code,{children:"aggregateValue"})," formats)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"../types/typedefs#tieformat",children:"tieFormat type definitions"})]}),"\n",(0,t.jsx)(n.h2,{id:"tieformat-use",children:"tieFormat Use"}),"\n",(0,t.jsx)(n.h3,{id:"generating-draws",children:"Generating Draws"}),"\n",(0,t.jsxs)(n.p,{children:["The generation of ",(0,t.jsx)(n.code,{children:"drawDefinitions"})," requires a ",(0,t.jsx)(n.code,{children:"tieFormat"})," to determine how many ",(0,t.jsx)(n.code,{children:"tieMatchUps"})," for each collection are contained in the ",(0,t.jsx)(n.code,{children:"matchUp"})," between two teams.\nWhen ",(0,t.jsx)(n.code,{children:"tieMatchUps"})," are generated they are assigned a ",(0,t.jsx)(n.code,{children:"collectionId"})," and a ",(0,t.jsx)(n.code,{children:"collectionPosition"}),".\nIf there are six ",(0,t.jsx)(n.code,{children:"tieMatchUps"})," in a collection, they will be assigned ",(0,t.jsx)(n.code,{children:"collectionPositions"})," ",(0,t.jsx)(n.strong,{children:"1-6"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"mapping-lineups",children:"Mapping lineUps"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.code,{children:"tieFormat"})," determines the relationship between a team's ",(0,t.jsx)(n.code,{children:"lineUp"})," and the ",(0,t.jsx)(n.code,{children:"tieMatchUps"})," within a ",(0,t.jsx)(n.code,{children:"matchUp"})," by defining the mapping between ",(0,t.jsx)(n.code,{children:"collectionIds"}),", ",(0,t.jsx)(n.code,{children:"collectionPositions"})," and participant ",(0,t.jsx)(n.code,{children:"collectionAssignments"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"tieformat-example",children:"tieFormat Example"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["each ",(0,t.jsx)(n.strong,{children:"SINGLES matchUp"})," has a value of ",(0,t.jsx)(n.strong,{children:"1"})]}),"\n",(0,t.jsxs)(n.li,{children:["the entire ",(0,t.jsx)(n.strong,{children:"DOUBLES Collection"})," has a value of ",(0,t.jsx)(n.strong,{children:"1"})]}),"\n",(0,t.jsxs)(n.li,{children:["the ",(0,t.jsx)(n.code,{children:"valueGoal"})," is ",(0,t.jsx)(n.strong,{children:"4"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const tieFormat = {\n  winCriteria: {\n    valueGoal: 4, // the value that must be achieved to win the match\n  },\n  collectionDefinitions: [\n    {\n      collectionId: 'singlesCollectionId',\n      collectionGroupNumber: 1, // optional, if there are groups\n      collectionName: 'Singles',\n      matchUpFormat: 'SET3-S:6/TB7',\n      matchUpType: SINGLES,\n      matchUpCount: 6,\n      matchUpValue: 1, // value awarded for each matchUp win\n    },\n    {\n      collectionId: 'doublesCollectionId',\n      collectionGroupNumber: 1, // optional, if there are groups\n      collectionName: 'Doubles',\n      collectionValue: 1, // value awarded for winning one more than half of the matchUps in the collection\n      matchUpFormat: 'SET3-S:6/TB7-F:TB10',\n      matchUpType: DOUBLES,\n      matchUpCount: 3,\n    },\n  ],\n  // optional group details\n  collectionGroups: [\n    {\n      groupName: 'Day 1', // used to group collections, e.g. Laver Cup\n      groupNumber: 1,\n    },\n  ],\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"tieformat-and-lineup-propagation",children:"tieFormat and lineUp propagation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"tieFormats"})," can be attached to a tournament record at multiple levels wthin the hierarchy ",(0,t.jsx)(n.code,{children:"event"})," > ",(0,t.jsx)(n.code,{children:"drawDefinition"})," > ",(0,t.jsx)(n.code,{children:"structure"})," > ",(0,t.jsx)(n.code,{children:"matchUp"}),".\nThis means that when a ",(0,t.jsx)(n.code,{children:"tieFormat"})," is not present on a ",(0,t.jsx)(n.code,{children:"matchUp"})," the definition is resolved by walking the hierarchy.\nWhen a ",(0,t.jsx)(n.code,{children:"matchUp"})," is scored, the appropriate ",(0,t.jsx)(n.code,{children:"tieFormat"})," is attached to the ",(0,t.jsx)(n.code,{children:"matchUp"}),".\nThis is necessary because at any point in a ",(0,t.jsx)(n.code,{children:"structure"})," or ",(0,t.jsx)(n.code,{children:"drawDefinition"})," the scoped ",(0,t.jsx)(n.code,{children:"tieFormat"})," may be edite/changed;\nfor instance, if there is a rain delay, the format may be shortened for ",(0,t.jsx)(n.code,{children:"matchUps"})," which have not yet been played.\nThe mapping between ",(0,t.jsx)(n.code,{children:"participants"})," in a ",(0,t.jsx)(n.code,{children:"lineUp"})," must be preserved for ",(0,t.jsx)(n.code,{children:"matchUps"})," which are IN_PROGRESS or COMPLETED."]}),"\n",(0,t.jsxs)(n.p,{children:["As TEAM ",(0,t.jsx)(n.code,{children:"participants"})," progress through draw ",(0,t.jsx)(n.code,{children:"structures"})," the most recent ",(0,t.jsx)(n.code,{children:"lineUp"})," is saved (via an ",(0,t.jsx)(n.code,{children:"extension"})," on the ",(0,t.jsx)(n.code,{children:"drawDefinition"}),") such that it can be propagated to subsequent ",(0,t.jsx)(n.code,{children:"matchUps"}),".\nWhen a ",(0,t.jsx)(n.code,{children:"matchUp"})," is scored or the ",(0,t.jsx)(n.code,{children:"lineUp"})," changes, the ",(0,t.jsx)(n.code,{children:"lineUp"})," is saved directly to the target ",(0,t.jsx)(n.code,{children:"matchUp"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,c.ah)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},7942:(e,n,i)=>{i.d(n,{ah:()=>l});var t=i(959);function c(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function o(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function r(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach((function(n){c(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function a(e,n){if(null==e)return{};var i,t,c=function(e,n){if(null==e)return{};var i,t,c={},o=Object.keys(e);for(t=0;t<o.length;t++)i=o[t],n.indexOf(i)>=0||(c[i]=e[i]);return c}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)i=o[t],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(c[i]=e[i])}return c}var s=t.createContext({}),l=function(e){var n=t.useContext(s),i=n;return e&&(i="function"==typeof e?e(n):r(r({},n),e)),i},d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},h=t.forwardRef((function(e,n){var i=e.components,c=e.mdxType,o=e.originalType,s=e.parentName,h=a(e,["components","mdxType","originalType","parentName"]),p=l(i),u=c,m=p["".concat(s,".").concat(u)]||p[u]||d[u]||o;return i?t.createElement(m,r(r({ref:n},h),{},{components:i})):t.createElement(m,r({ref:n},h))}));h.displayName="MDXCreateElement"}}]);