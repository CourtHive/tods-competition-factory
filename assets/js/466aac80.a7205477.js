"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[6774],{6581(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"scoring-engine/scoring-engine-overview","title":"Scoring Engine Overview","description":"The ScoringEngine is a stateful mutation engine for point-by-point match scoring. It wraps the pure functions provided by scoreGovernor into a convenient, stateful facade with built-in undo/redo, event handlers, and multi-sport format support.","source":"@site/docs/scoring-engine/scoring-engine-overview.md","sourceDirName":"scoring-engine","slug":"/scoring-engine/scoring-engine-overview","permalink":"/competition-factory/docs/scoring-engine/scoring-engine-overview","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Scoring Engine Overview"},"sidebar":"docs","previous":{"title":"Global State","permalink":"/competition-factory/docs/engines/global-state"},"next":{"title":"Core API Reference","permalink":"/competition-factory/docs/scoring-engine/scoring-engine-api"}}');var o=t(6070),r=t(8322);const s={title:"Scoring Engine Overview"},c=void 0,a={},d=[{value:"When to Use ScoringEngine vs scoreGovernor",id:"when-to-use-scoringengine-vs-scoregovernor",level:2},{value:"Key Capabilities",id:"key-capabilities",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Constructor Options",id:"constructor-options",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"ScoringEngine"})," is a stateful mutation engine for point-by-point match scoring. It wraps the pure functions provided by ",(0,o.jsx)(n.code,{children:"scoreGovernor"})," into a convenient, stateful facade with built-in undo/redo, event handlers, and multi-sport format support."]}),"\n",(0,o.jsx)(n.h2,{id:"when-to-use-scoringengine-vs-scoregovernor",children:"When to Use ScoringEngine vs scoreGovernor"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Use Case"}),(0,o.jsx)(n.th,{children:"Recommended"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Track a live match point-by-point"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"ScoringEngine"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Undo/redo scoring actions"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"ScoringEngine"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"React to game/set/match completion events"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"ScoringEngine"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Manage substitutions and lineups"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"ScoringEngine"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"One-off score parsing or formatting"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"scoreGovernor"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Bulk score operations in tournament context"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"scoreGovernor"})})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"key-capabilities",children:"Key Capabilities"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Multi-level scoring"})," \u2014 Points, games, sets, and segments can all be added through a unified timeline"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Undo/redo"})," \u2014 Full undo/redo stack across all input modes (points, games, sets, segments)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Event handlers"})," \u2014 Callbacks for point, game completion, set completion, match completion, undo, redo, and reset"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Multi-sport format support"})," \u2014 ",(0,o.jsx)(n.a,{href:"/docs/codes/matchup-format",children:"matchUpFormat codes"})," convering many sports"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"TODS-compliant state"})," \u2014 Internal state is a standard TODS ",(0,o.jsx)(n.code,{children:"MatchUp"})," object"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Mixed-mode input"})," \u2014 Combine point-level, game-level, and set-level input in the same match"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"competitionFormat integration"})," \u2014 support for penalty types, timer profiles, substitution rules, and more"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Persistence"})," \u2014 Save and restore complete engine state including redo stack and lineup snapshots"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { ScoringEngine } from 'tods-competition-factory';\n\n// Create engine with standard tennis format\nconst engine = new ScoringEngine({ matchUpFormat: 'SET3-S:6/TB7' });\n\n// Add points (0 = side 1 wins point, 1 = side 2 wins point)\nengine.addPoint({ winner: 0 });\nengine.addPoint({ winner: 0 });\nengine.addPoint({ winner: 0 });\nengine.addPoint({ winner: 0 }); // Side 1 wins first game\n\n// Query score\nconst scoreboard = engine.getScoreboard(); // '1-0'\nconst pointCount = engine.getPointCount(); // 4\n\n// Undo last point\nengine.undo();\nengine.getScoreboard(); // '40-0'\n\n// Redo the undone point\nengine.redo();\nengine.getScoreboard(); // '1-0'\n\n// Check match completion\nengine.isComplete(); // false\nengine.getWinner(); // undefined\n"})}),"\n",(0,o.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,o.jsxs)(n.p,{children:["The ScoringEngine follows the Competition Factory's architecture pattern where ",(0,o.jsx)(n.strong,{children:"governors"})," provide pure functions and ",(0,o.jsx)(n.strong,{children:"engines"})," provide stateful facades:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      ScoringEngine       \u2502  Stateful facade\n\u2502  (undo/redo, events,     \u2502\n\u2502   format introspection)  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502    scoreGovernor         \u2502  Pure scoring functions\n\u2502  (addPoint, getScore,    \u2502\n\u2502   isComplete, ...)       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502    TODS MatchUp State    \u2502  Standard data model\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The engine holds a TODS ",(0,o.jsx)(n.code,{children:"MatchUp"})," object as internal state. All mutations (adding points, games, sets) update this state and record entries in a unified history timeline. The undo/redo system replays this timeline to reconstruct state."]}),"\n",(0,o.jsx)(n.h2,{id:"constructor-options",children:"Constructor Options"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"interface ScoringEngineOptions {\n  matchUpFormat?: string; // Format code (default: 'SET3-S:6/TB7')\n  matchUpId?: string; // Optional matchUp identifier\n  isDoubles?: boolean; // Doubles match (default: false)\n  competitionFormat?: competitionFormat; // Full competition format profile\n  pointMultipliers?: PointMultiplier[]; // Point value multipliers\n  eventHandlers?: ScoringEventHandlers; // Event callbacks\n}\n"})}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["If you provide a ",(0,o.jsx)(n.code,{children:"competitionFormat"}),", the engine extracts ",(0,o.jsx)(n.code,{children:"matchUpFormat"}),", ",(0,o.jsx)(n.code,{children:"pointMultipliers"}),", and other rules automatically. You only need to pass ",(0,o.jsx)(n.code,{children:"matchUpFormat"})," separately if you want to override the format from the competition profile."]})}),"\n",(0,o.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"./scoring-engine-api",children:"Core API Reference"})})," \u2014 Complete method reference"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"./event-handlers",children:"Event Handlers & Integration"})})," \u2014 Event system and competitionFormat profiles"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"./format-support",children:"Multi-Sport Format Support"})})," \u2014 Format string grammar and sport-specific examples"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"./visualization-applications",children:"Visualization Applications"})})," \u2014 Building visualizations with ScoringEngine data"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/docs/codes/matchup-format",children:"matchUpFormat Codes"})})," \u2014 Format string reference"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/docs/governors/score-governor",children:"Score Governor"})})," \u2014 Pure scoring functions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8322(e,n,t){t.d(n,{R:()=>s,x:()=>c});var i=t(758);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);