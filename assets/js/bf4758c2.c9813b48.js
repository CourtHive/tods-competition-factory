"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[8752],{5301(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"scoring-engine/event-handlers","title":"Event Handlers & Integration","description":"The ScoringEngine fires event handlers at key moments during scoring. These enable reactive UI updates, logging, analytics, and integration with external systems.","source":"@site/docs/scoring-engine/event-handlers.md","sourceDirName":"scoring-engine","slug":"/scoring-engine/event-handlers","permalink":"/competition-factory/docs/scoring-engine/event-handlers","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Event Handlers & Integration"},"sidebar":"docs","previous":{"title":"Core API Reference","permalink":"/competition-factory/docs/scoring-engine/scoring-engine-api"},"next":{"title":"Multi-Sport Format Support","permalink":"/competition-factory/docs/scoring-engine/format-support"}}');var r=i(6070),s=i(8322);const o={title:"Event Handlers & Integration"},l=void 0,a={},c=[{value:"Event Handlers",id:"event-handlers",level:2},{value:"Handler Interface",id:"handler-interface",level:3},{value:"Setting Handlers",id:"setting-handlers",level:3},{value:"Handler Descriptions",id:"handler-descriptions",level:3},{value:"Example: Live Scoreboard",id:"example-live-scoreboard",level:3},{value:"competitionFormat Integration",id:"competitionformat-integration",level:2},{value:"Passing a competitionFormat",id:"passing-a-competitionformat",level:3},{value:"Profile Accessors",id:"profile-accessors",level:3},{value:"Point Multipliers",id:"point-multipliers",level:2},{value:"Setting Multipliers",id:"setting-multipliers",level:3},{value:"Substitutions &amp; LineUps",id:"substitutions--lineups",level:2},{value:"Setting Up LineUps",id:"setting-up-lineups",level:3},{value:"Making Substitutions",id:"making-substitutions",level:3},{value:"Querying Active Players",id:"querying-active-players",level:3},{value:"Per-Point Active Player Snapshots",id:"per-point-active-player-snapshots",level:3},{value:"Doubles Serving Rotation",id:"doubles-serving-rotation",level:2},{value:"Score Value Override",id:"score-value-override",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"The ScoringEngine fires event handlers at key moments during scoring. These enable reactive UI updates, logging, analytics, and integration with external systems."}),"\n",(0,r.jsx)(n.h2,{id:"event-handlers",children:"Event Handlers"}),"\n",(0,r.jsx)(n.h3,{id:"handler-interface",children:"Handler Interface"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"interface ScoringEventHandlers {\n  onPoint?: (context: ScoringEventContext) => void;\n  onGameComplete?: (context: ScoringEventContext & { gameWinner: 0 | 1 }) => void;\n  onSetComplete?: (context: ScoringEventContext & { setWinner: 0 | 1 }) => void;\n  onMatchComplete?: (context: ScoringEventContext & { matchWinner: 0 | 1 }) => void;\n  onUndo?: (context: ScoringEventContext) => void;\n  onRedo?: (context: ScoringEventContext) => void;\n  onReset?: (context: ScoringEventContext) => void;\n}\n\ninterface ScoringEventContext {\n  state: MatchUp;\n  score: ScoreResult;\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["All handlers receive a ",(0,r.jsx)(n.code,{children:"ScoringEventContext"})," containing the current matchUp state and score after the action completes. Handlers are called synchronously \u2014 keep them fast or dispatch async work."]}),"\n",(0,r.jsx)(n.h3,{id:"setting-handlers",children:"Setting Handlers"}),"\n",(0,r.jsx)(n.p,{children:"Handlers can be set at construction time or updated at runtime:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// At construction\nconst engine = new ScoringEngine({\n  matchUpFormat: 'SET3-S:6/TB7',\n  eventHandlers: {\n    onPoint: (ctx) => console.log('Point!', ctx.score),\n    onMatchComplete: (ctx) => console.log('Match over!', ctx.state.winningSide),\n  },\n});\n\n// At runtime\nengine.setEventHandlers({\n  onPoint: (ctx) => updateScoreboard(ctx.score),\n  onGameComplete: ({ gameWinner }) => playGameAnimation(gameWinner),\n  onSetComplete: ({ setWinner }) => playSetAnimation(setWinner),\n  onMatchComplete: ({ matchWinner }) => showMatchResult(matchWinner),\n  onUndo: (ctx) => updateScoreboard(ctx.score),\n  onRedo: (ctx) => updateScoreboard(ctx.score),\n});\n\n// Get current handlers\nconst handlers = engine.getEventHandlers();\n\n// Clear all handlers\nengine.setEventHandlers(undefined);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"handler-descriptions",children:"Handler Descriptions"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Handler"}),(0,r.jsx)(n.th,{children:"Fired When"}),(0,r.jsx)(n.th,{children:"Extra Context"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onPoint"})}),(0,r.jsxs)(n.td,{children:["After every ",(0,r.jsx)(n.code,{children:"addPoint()"})," call"]}),(0,r.jsx)(n.td,{children:"\u2014"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onGameComplete"})}),(0,r.jsxs)(n.td,{children:["A game completes (within ",(0,r.jsx)(n.code,{children:"addPoint"}),")"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"gameWinner: 0 | 1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onSetComplete"})}),(0,r.jsxs)(n.td,{children:["A set completes (within ",(0,r.jsx)(n.code,{children:"addPoint"}),")"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"setWinner: 0 | 1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onMatchComplete"})}),(0,r.jsx)(n.td,{children:"The match completes"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"matchWinner: 0 | 1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onUndo"})}),(0,r.jsxs)(n.td,{children:["After ",(0,r.jsx)(n.code,{children:"undo()"})," succeeds"]}),(0,r.jsx)(n.td,{children:"\u2014"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onRedo"})}),(0,r.jsxs)(n.td,{children:["After ",(0,r.jsx)(n.code,{children:"redo()"})," succeeds"]}),(0,r.jsx)(n.td,{children:"\u2014"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onReset"})}),(0,r.jsxs)(n.td,{children:["After ",(0,r.jsx)(n.code,{children:"reset()"})," is called"]}),(0,r.jsx)(n.td,{children:"\u2014"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Multiple handlers can fire for a single ",(0,r.jsx)(n.code,{children:"addPoint()"})," call. For example, a point that completes a game, a set, and the match will fire ",(0,r.jsx)(n.code,{children:"onPoint"}),", ",(0,r.jsx)(n.code,{children:"onGameComplete"}),", ",(0,r.jsx)(n.code,{children:"onSetComplete"}),", and ",(0,r.jsx)(n.code,{children:"onMatchComplete"})," in that order."]})}),"\n",(0,r.jsx)(n.h3,{id:"example-live-scoreboard",children:"Example: Live Scoreboard"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const engine = new ScoringEngine({\n  matchUpFormat: 'SET3-S:6/TB7',\n  eventHandlers: {\n    onPoint: ({ score }) => {\n      renderScore(score);\n      saveState(engine.getState());\n    },\n    onGameComplete: () => {\n      playSound('game-complete');\n    },\n    onSetComplete: ({ setWinner }) => {\n      showSetBanner(`Set won by ${setWinner === 0 ? 'Player 1' : 'Player 2'}`);\n    },\n    onMatchComplete: ({ matchWinner, state }) => {\n      showMatchResult(state);\n      submitFinalScore(state);\n    },\n    onUndo: ({ score }) => renderScore(score),\n    onRedo: ({ score }) => renderScore(score),\n  },\n});\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"competitionformat-integration",children:"competitionFormat Integration"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"competitionFormat"})," interface allows you to pass a full competition profile that goes beyond the matchUpFormat string. This is used by sports and organizations that need penalty profiles, timer configurations, substitution rules, and other gameplay metadata."]}),"\n",(0,r.jsx)(n.h3,{id:"passing-a-competitionformat",children:"Passing a competitionFormat"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const engine = new ScoringEngine({\n  competitionFormat: {\n    competitionFormatName: 'INTENNSE Doubles',\n    matchUpFormat: 'SET3-S:TB11',\n    sport: 'INTENNSE',\n    timerProfile: {\n      shotClockSeconds: 25,\n      changeoverSeconds: 90,\n    },\n    penaltyProfile: {\n      sport: 'INTENNSE',\n      penaltyTypes: [\n        { penaltyType: 'TIME_VIOLATION', label: 'Time Violation', category: 'delay' },\n        { penaltyType: 'CODE_VIOLATION', label: 'Code Violation', category: 'conduct' },\n      ],\n      escalation: [\n        { step: 1, consequence: 'WARNING' },\n        { step: 2, consequence: 'POINT_PENALTY' },\n        { step: 3, consequence: 'GAME_PENALTY' },\n      ],\n    },\n    pointProfile: {\n      sport: 'INTENNSE',\n      pointResults: [\n        { result: 'Ace', label: 'Ace', isServe: true },\n        { result: 'Double Fault', label: 'Double Fault', isServe: true, isError: true },\n        { result: 'Winner', label: 'Winner' },\n        { result: 'Unforced Error', label: 'Unforced Error', isError: true },\n      ],\n      strokeTypes: ['forehand', 'backhand', 'volley', 'overhead', 'serve'],\n    },\n    substitutionRules: {\n      allowed: true,\n      maxPerMatchUp: 3,\n      timing: 'BETWEEN_GAMES',\n    },\n    pointMultipliers: [{ condition: { result: 'Ace' }, multiplier: 2 }],\n    serverRule: 'ALTERNATE_GAMES',\n  },\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["When a ",(0,r.jsx)(n.code,{children:"competitionFormat"})," is provided, the engine automatically extracts the ",(0,r.jsx)(n.code,{children:"matchUpFormat"}),", ",(0,r.jsx)(n.code,{children:"pointMultipliers"}),", and ",(0,r.jsx)(n.code,{children:"serverRule"})," from it."]}),"\n",(0,r.jsx)(n.h3,{id:"profile-accessors",children:"Profile Accessors"}),"\n",(0,r.jsx)(n.p,{children:"Access individual profiles from the competition format:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Penalty types and escalation rules\nconst penalties = engine.getPenaltyProfile();\n// { sport: 'INTENNSE', penaltyTypes: [...], escalation: [...] }\n\n// Point result types and stroke classifications\nconst points = engine.getPointProfile();\n// { sport: 'INTENNSE', pointResults: [...], strokeTypes: [...] }\n\n// Shot clock and changeover timers\nconst timers = engine.getTimerProfile();\n// { shotClockSeconds: 25, changeoverSeconds: 90 }\n\n// Timeout rules\nconst timeouts = engine.getTimeoutRules();\n// { count: 2, per: 'SET', durationSeconds: 120 }\n\n// Substitution rules\nconst subs = engine.getSubstitutionRules();\n// { allowed: true, maxPerMatchUp: 3, timing: 'BETWEEN_GAMES' }\n\n// Player rules (e.g., minutes per segment)\nconst playerRules = engine.getPlayerRules();\n// { maxMinutesPerSegment: 10 }\n"})}),"\n",(0,r.jsxs)(n.p,{children:["All profile accessors return ",(0,r.jsx)(n.code,{children:"undefined"})," if no ",(0,r.jsx)(n.code,{children:"competitionFormat"})," was provided or if the specific profile is not defined in the format."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"point-multipliers",children:"Point Multipliers"}),"\n",(0,r.jsx)(n.p,{children:"Point multipliers allow conditional scaling of point values. This is useful for sports like INTENNSE where aces are worth 2x points."}),"\n",(0,r.jsx)(n.h3,{id:"setting-multipliers",children:"Setting Multipliers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Via constructor\nconst engine = new ScoringEngine({\n  matchUpFormat: 'SET2XA-S:T10P',\n  pointMultipliers: [{ condition: { result: 'Ace' }, multiplier: 2 }],\n});\n\n// Or at runtime\nengine.setPointMultipliers([{ condition: { result: 'Ace' }, multiplier: 2 }]);\n\n// Query current multipliers\nconst multipliers = engine.getPointMultipliers();\n"})}),"\n",(0,r.jsxs)(n.p,{children:["When ",(0,r.jsx)(n.code,{children:"addPoint()"})," is called with a matching ",(0,r.jsx)(n.code,{children:"result"}),", the multiplier is applied to the point value during score calculation."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"substitutions--lineups",children:"Substitutions & LineUps"}),"\n",(0,r.jsx)(n.p,{children:"The ScoringEngine tracks team lineups and substitutions for doubles or team formats."}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-lineups",children:"Setting Up LineUps"}),"\n",(0,r.jsx)(n.p,{children:"Register a side's roster before processing points. This enables substitution tracking and per-point active player snapshots."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"engine.setLineUp(1, [\n  { participantId: 'player-A', participantName: 'Alice' },\n  { participantId: 'player-B', participantName: 'Bob' },\n]);\n\nengine.setLineUp(2, [\n  { participantId: 'player-C', participantName: 'Carol' },\n  { participantId: 'player-D', participantName: 'Dave' },\n]);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The initial lineup is saved internally so the engine can reconstruct state during undo/redo. Lineups are persisted via ",(0,r.jsx)(n.code,{children:"getSupplementaryState()"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"making-substitutions",children:"Making Substitutions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"engine.substitute({\n  sideNumber: 1,\n  outParticipantId: 'player-B',\n  inParticipantId: 'player-E',\n  timestamp: new Date().toISOString(), // optional\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"When a substitution is applied:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The outgoing player is found in the side's lineup by ",(0,r.jsx)(n.code,{children:"participantId"})]}),"\n",(0,r.jsxs)(n.li,{children:["Their ",(0,r.jsx)(n.code,{children:"participantId"})," is replaced with the incoming player's ID"]}),"\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.code,{children:"SubstitutionEvent"})," is recorded in ",(0,r.jsx)(n.code,{children:"matchUp.history.substitutions[]"})," with a ",(0,r.jsx)(n.code,{children:"beforePointIndex"})," indicating where in the point sequence it occurred"]}),"\n",(0,r.jsxs)(n.li,{children:["An entry is added to the unified ",(0,r.jsx)(n.code,{children:"matchUp.history.entries[]"})," timeline"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Substitutions are undoable/redoable like any other action. If the ",(0,r.jsx)(n.code,{children:"outParticipantId"})," is not found in the side's lineup, the call is a no-op."]}),"\n",(0,r.jsx)(n.h3,{id:"querying-active-players",children:"Querying Active Players"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const active = engine.getActivePlayers();\n// { side1: ['player-A', 'player-E'], side2: ['player-C', 'player-D'] }\n\nengine.hasLineUp(); // true \u2014 at least one side has a lineup set\n"})}),"\n",(0,r.jsx)(n.h3,{id:"per-point-active-player-snapshots",children:"Per-Point Active Player Snapshots"}),"\n",(0,r.jsxs)(n.p,{children:["When lineups are set, each ",(0,r.jsx)(n.code,{children:"addPoint()"})," call automatically snapshots the active players at that moment and stores it on the ",(0,r.jsx)(n.code,{children:"Point"})," record:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// After addPoint, the stored point contains:\npoint.activePlayers;\n// Singles: ['player-A', 'player-C']\n// Doubles: [['player-A', 'player-B'], ['player-C', 'player-D']]\n"})}),"\n",(0,r.jsx)(n.p,{children:"This enables per-player statistics and analysis of who was on court for each point."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"doubles-serving-rotation",children:"Doubles Serving Rotation"}),"\n",(0,r.jsxs)(n.p,{children:["In doubles, the ",(0,r.jsx)(n.code,{children:"serverParticipantId"})," field on ",(0,r.jsx)(n.code,{children:"addPoint()"})," tracks which specific participant within the serving side is serving. This goes beyond ",(0,r.jsx)(n.code,{children:"server"}),"/",(0,r.jsx)(n.code,{children:"serverSideNumber"})," (which only identifies the side) to record the individual player."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"engine.addPoint({\n  winningSide: 1,\n  serverSideNumber: 1,\n  serverParticipantId: 'player-A', // Alice serves\n});\n\nengine.addPoint({\n  winningSide: 2,\n  serverSideNumber: 1,\n  serverParticipantId: 'player-A', // Still Alice's service game\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"serverParticipantId"})," is stored on the ",(0,r.jsx)(n.code,{children:"Point"})," record in match history, enabling analysis of serving patterns and rotation compliance across a doubles match."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"score-value-override",children:"Score Value Override"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"scoreValue"})," field on ",(0,r.jsx)(n.code,{children:"addPoint()"})," overrides the default point increment (normally 1). This is useful for formats where certain points are worth more than others \u2014 for example, timed formats with power points or bonus scoring rules."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Normal point \u2014 worth 1\nengine.addPoint({ winningSide: 1 });\n\n// Power point \u2014 worth 2\nengine.addPoint({ winningSide: 2, scoreValue: 2 });\n"})}),"\n",(0,r.jsxs)(n.p,{children:["When ",(0,r.jsx)(n.code,{children:"scoreValue"})," is specified, it bypasses the normal point value resolution (including any ",(0,r.jsx)(n.code,{children:"pointMultipliers"}),"). The effective score increment is stored on the ",(0,r.jsx)(n.code,{children:"Point"})," record as ",(0,r.jsx)(n.code,{children:"point.scoreValue"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"scoreValue"})," is distinct from ",(0,r.jsx)(n.code,{children:"pointMultipliers"}),'. Multipliers are condition-based rules defined in the competition format (e.g., "aces worth 2x"). ',(0,r.jsx)(n.code,{children:"scoreValue"})," is a per-point override set explicitly by the caller, typically derived from external data where the score delta is already known."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./scoring-engine-overview",children:"Overview"})})," \u2014 Introduction and architecture"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./scoring-engine-api",children:"Core API Reference"})})," \u2014 Complete method reference"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./format-support",children:"Multi-Sport Format Support"})})," \u2014 Format strings for different sports"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./visualization-applications",children:"Visualization Applications"})})," \u2014 Building visualizations with ScoringEngine data"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8322(e,n,i){i.d(n,{R:()=>o,x:()=>l});var t=i(758);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);