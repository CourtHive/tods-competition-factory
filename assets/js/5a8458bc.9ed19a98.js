"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2731],{3805:(e,n,t)=>{t.d(n,{xA:()=>u,yg:()=>c});var a=t(758);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),g=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=g(e.components);return a.createElement(s.Provider,{value:n},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=g(t),d=r,c=m["".concat(s,".").concat(d)]||m[d]||p[d]||o;return t?a.createElement(c,l(l({ref:n},u),{},{components:t})):a.createElement(c,l({ref:n},u))}));function c(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=d;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[m]="string"==typeof e?e:r,l[1]=i;for(var g=2;g<o;g++)l[g]=t[g];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},1918:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>g});var a=t(2232),r=(t(758),t(3805));const o={title:"Engine Methods"},l=void 0,i={unversionedId:"engines/engine-methods",id:"engines/engine-methods",title:"Engine Methods",description:"importMethods",source:"@site/docs/engines/engine-methods.md",sourceDirName:"engines",slug:"/engines/engine-methods",permalink:"/tods-competition-factory/docs/engines/engine-methods",draft:!1,tags:[],version:"current",frontMatter:{title:"Engine Methods"},sidebar:"docs",previous:{title:"State Engines",permalink:"/tods-competition-factory/docs/engines/state-engines"},next:{title:"Engine Logging",permalink:"/tods-competition-factory/docs/engines/engine-logging"}},s={},g=[{value:"importMethods",id:"importmethods",level:2},{value:"getTournament",id:"gettournament",level:2},{value:"getState",id:"getstate",level:2},{value:"reset",id:"reset",level:2},{value:"devContext",id:"devcontext",level:2},{value:"getDevContext",id:"getdevcontext",level:2},{value:"newTournamentRecord",id:"newtournamentrecord",level:2},{value:"setState",id:"setstate",level:2},{value:"setTournamentId",id:"settournamentid",level:2},{value:"getTournamentId",id:"gettournamentid",level:2},{value:"setTournamentRecord",id:"settournamentrecord",level:2},{value:"removeTournamentRecord",id:"removetournamentrecord",level:2},{value:"removeUnlinkedTournamentRecords",id:"removeunlinkedtournamentrecords",level:2},{value:"version",id:"version",level:2}],u={toc:g},m="wrapper";function p(e){let{components:n,...t}=e;return(0,r.yg)(m,(0,a.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"importmethods"},"importMethods"),(0,r.yg)("p",null,"Imports custom methods into the engine, making them available through the engine's invoke pattern with middleware, subscriptions, and logging support."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Extend engine functionality with custom methods while leveraging the engine's built-in features like parameter middleware, result processing, subscriptions, logging, and error handling."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Adding custom business logic to the engine"),(0,r.yg)("li",{parentName:"ul"},"Extending engine capabilities for specific use cases  "),(0,r.yg)("li",{parentName:"ul"},"Integrating third-party functionality"),(0,r.yg)("li",{parentName:"ul"},"Creating reusable method collections"),(0,r.yg)("li",{parentName:"ul"},"Building domain-specific engines (see ",(0,r.yg)("a",{parentName:"li",href:"/docs/engines/custom-engines"},"Custom Engines"),")")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"methods: {\n  [key: string]: Function | {  // Method name as key\n    method: Function;           // The actual method\n    [key: string]: any;         // Additional metadata\n  };\n};\ntraverse?: boolean | string[];  // Traverse nested objects (true/false or array of keys)\nmaxDepth?: number;              // Maximum traversal depth (default: 3)\nglobal?: boolean;               // Make methods globally available across all engines\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  success: true;\n  methods?: string[];  // List of all available methods including imported ones\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Import simple methods\nengine.importMethods({\n  customValidation: (params) => {\n    // Custom validation logic\n    return { success: true, isValid: true };\n  },\n  customCalculation: (params) => {\n    return { result: params.a + params.b };\n  }\n});\n\n// Use imported methods like any engine method\nconst result = engine.customValidation({ data: {...} });\n\n// Import nested method collections\nengine.importMethods({\n  reporting: {\n    generateReport: (params) => { /* ... */ },\n    exportData: (params) => { /* ... */ }\n  }\n}, true);  // traverse: true to import nested methods\n\n// Import with metadata\nengine.importMethods({\n  specialMethod: {\n    method: (params) => { /* ... */ },\n    description: 'Special custom logic',\n    version: '1.0.0'\n  }\n});\n\n// Import globally (available to all engine instances)\nengine.importMethods({\n  sharedUtility: (params) => { /* ... */ }\n}, false, 3, true);  // global: true\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Imported methods have access to engine middleware and subscriptions"),(0,r.yg)("li",{parentName:"ul"},"Methods can return standard ",(0,r.yg)("inlineCode",{parentName:"li"},"{ success, error, ...data }")," result objects"),(0,r.yg)("li",{parentName:"ul"},"Traverse option allows importing nested method collections"),(0,r.yg)("li",{parentName:"ul"},"Global methods are shared across all engine instances (sync and async)"),(0,r.yg)("li",{parentName:"ul"},"Imported methods appear in engine method lists"),(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("a",{parentName:"li",href:"/docs/engines/custom-engines"},"Custom Engines")," for building specialized engines"),(0,r.yg)("li",{parentName:"ul"},"Methods can use engine's devContext for conditional logging")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Advanced Usage:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Create a custom engine with domain-specific methods\nconst customEngine = syncEngine();\n\ncustomEngine.importMethods({\n  tennis: {\n    calculateUTR: (params) => { /* ... */ },\n    validateScore: (params) => { /* ... */ },\n    computeRankingPoints: (params) => { /* ... */ }\n  }\n}, true);\n\n// Enable logging for custom methods\ncustomEngine.devContext({\n  params: ['calculateUTR'],\n  result: ['calculateUTR']\n});\n\n// Use custom methods\nconst utr = customEngine.calculateUTR({ matchHistory: [...] });\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"gettournament"},"getTournament"),(0,r.yg)("p",null,"Returns a deep copy of a specific tournament record from engine state."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Retrieve a tournament record without modifying the internal engine state. The returned copy is safe to modify without affecting the engine's internal state."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"When you need to inspect tournament data"),(0,r.yg)("li",{parentName:"ul"},"When you want to export a tournament for storage"),(0,r.yg)("li",{parentName:"ul"},"When you need a snapshot of tournament state at a specific point")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  tournamentId?: string;       // Optional - specific tournament ID (defaults to current active tournament)\n  convertExtensions?: boolean; // Optional - convert extension objects to JSON strings\n  removeExtensions?: boolean;  // Optional - strip all extensions from the copy\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  tournamentRecord?: object;   // Tournament record object (undefined if tournamentId not found)\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Get the currently active tournament\nconst { tournamentRecord } = engine.getTournament();\n\n// Get a specific tournament by ID\nconst { tournamentRecord } = engine.getTournament({ \n  tournamentId: 'tournament-123' \n});\n\n// Get tournament without extensions (useful for storage/transmission)\nconst { tournamentRecord } = engine.getTournament({ \n  removeExtensions: true \n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Returns ",(0,r.yg)("inlineCode",{parentName:"li"},"{}")," if no tournamentId is provided and no tournament is active"),(0,r.yg)("li",{parentName:"ul"},"The returned object is a deep copy, so modifications won't affect engine state"),(0,r.yg)("li",{parentName:"ul"},"Use ",(0,r.yg)("inlineCode",{parentName:"li"},"removeExtensions: true")," when serializing for storage to reduce size")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"getstate"},"getState"),(0,r.yg)("p",null,"Returns all tournament records currently loaded in engine state along with the active tournament ID."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Get a complete snapshot of the engine's current state, including all loaded tournaments and which one is currently active."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"When managing multiple tournaments simultaneously"),(0,r.yg)("li",{parentName:"ul"},"When you need to save/restore the complete engine state"),(0,r.yg)("li",{parentName:"ul"},"When debugging to see all loaded tournaments"),(0,r.yg)("li",{parentName:"ul"},"Before clearing state to create a backup")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  convertExtensions?: boolean; // Optional - convert extension objects to JSON strings\n  removeExtensions?: boolean;  // Optional - strip all extensions from copies\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  tournamentId?: string;              // Currently active tournament ID (undefined if none set)\n  tournamentRecords: {                // Object containing all loaded tournaments\n    [tournamentId: string]: object;  // Keyed by tournament ID\n  };\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Load multiple tournaments\nengine.setState([tournament1, tournament2, tournament3]);\n\n// Get complete state\nconst { tournamentId, tournamentRecords } = engine.getState();\n\nconsole.log(tournamentId); // Active tournament ID\nconsole.log(Object.keys(tournamentRecords)); // ['id1', 'id2', 'id3']\n\n// Get state without extensions for serialization\nconst state = engine.getState({ removeExtensions: true });\nlocalStorage.setItem('engineState', JSON.stringify(state));\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Returns deep copies of all tournament records"),(0,r.yg)("li",{parentName:"ul"},"Useful for implementing undo/redo functionality"),(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("a",{parentName:"li",href:"/docs/engines/global-state"},"Global State")," for more on multi-tournament management")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"reset"},"reset"),(0,r.yg)("p",null,"Clears all tournament records from engine state and resets the active tournament ID."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Completely clear the engine state, removing all loaded tournaments. This is a destructive operation that cannot be undone."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Starting fresh with new tournament data"),(0,r.yg)("li",{parentName:"ul"},"Cleaning up after tests"),(0,r.yg)("li",{parentName:"ul"},"Freeing memory after tournament processing is complete"),(0,r.yg)("li",{parentName:"ul"},"Before loading a completely different set of tournaments")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")," None"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  success: true;\n  methods?: string[];  // Available engine methods\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Load a tournament\nengine.setState(tournamentRecord);\n\n// Process tournament...\n\n// Clear all data when done\nengine.reset();\n\n// Engine state is now empty\nconst { tournamentRecords } = engine.getState();\nconsole.log(tournamentRecords); // {}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"This operation cannot be undone"),(0,r.yg)("li",{parentName:"ul"},"All tournament records are removed from memory"),(0,r.yg)("li",{parentName:"ul"},"Consider using ",(0,r.yg)("inlineCode",{parentName:"li"},"getState()")," to backup data before calling ",(0,r.yg)("inlineCode",{parentName:"li"},"reset()")),(0,r.yg)("li",{parentName:"ul"},"After ",(0,r.yg)("inlineCode",{parentName:"li"},"reset()"),", you must load tournaments again before using governor methods")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"devcontext"},"devContext"),(0,r.yg)("p",null,"Sets the development context for controlling engine logging and debugging behavior."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Enable detailed logging of engine operations for debugging and development. Control what gets logged (parameters, results, errors) on a global or per-method basis."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Debugging engine behavior during development"),(0,r.yg)("li",{parentName:"ul"},"Tracking parameter values passed to methods"),(0,r.yg)("li",{parentName:"ul"},"Monitoring results from specific operations"),(0,r.yg)("li",{parentName:"ul"},"Identifying performance bottlenecks"),(0,r.yg)("li",{parentName:"ul"},"Understanding method execution flow")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"contextCriteria: boolean | {\n  errors?: boolean | string[];   // Log errors for all methods or specific methods\n  params?: boolean | string[];   // Log parameters for all methods or specific methods  \n  result?: boolean | string[];   // Log results for all methods or specific methods\n  exclude?: string[];            // Exclude specific methods from logging\n  [key: string]: any;            // Custom context properties\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  success: true;\n  methods?: string[];  // Available engine methods\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Enable all logging\nengine.devContext(true);\n\n// Log only errors\nengine.devContext({ errors: true });\n\n// Log params and results for specific methods\nengine.devContext({\n  params: ['addMatchUpScheduledTime', 'bulkScheduleTournamentMatchUps'],\n  result: ['addMatchUpScheduledTime'],\n  errors: true  // Log all errors\n});\n\n// Custom context for conditional logging\nengine.devContext({ \n  WOWO: true,  // Custom flag\n  verbose: true \n});\n\n// Disable all logging\nengine.devContext(false);\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Logging goes to console by default"),(0,r.yg)("li",{parentName:"ul"},"Can significantly impact performance when enabled"),(0,r.yg)("li",{parentName:"ul"},"Use ",(0,r.yg)("inlineCode",{parentName:"li"},"exclude")," array to prevent logging for high-frequency methods"),(0,r.yg)("li",{parentName:"ul"},"Custom properties can be checked with ",(0,r.yg)("inlineCode",{parentName:"li"},"getDevContext(criteria)")),(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("a",{parentName:"li",href:"/docs/engines/engine-logging"},"Engine Logging")," for more details")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"getdevcontext"},"getDevContext"),(0,r.yg)("p",null,"Returns the current development context, optionally checking if it matches specified criteria."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Inspect the current dev context settings or conditionally check if specific context properties are set. Useful for conditional logging or debugging logic."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Checking if dev mode is enabled before expensive logging operations"),(0,r.yg)("li",{parentName:"ul"},"Conditional behavior based on context flags"),(0,r.yg)("li",{parentName:"ul"},"Debugging to see what logging is currently enabled"),(0,r.yg)("li",{parentName:"ul"},"Verifying context matches expected state")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"contextCriteria?: {  // Optional - if provided, checks if all criteria match\n  [key: string]: any;\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"// If no criteria provided:\nboolean | object  // Current devContext value\n\n// If criteria provided:\nboolean | object  // Returns devContext if all criteria match, otherwise false\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Set some context\nengine.devContext({ WOWO: true, debug: true });\n\n// Get current context\nconst context = engine.getDevContext();\nconsole.log(context); // { WOWO: true, debug: true }\n\n// Check if specific criteria match\nconst matches = engine.getDevContext({ WOWO: true });\nconsole.log(matches); // { WOWO: true, debug: true } - returns full context if match\n\nconst noMatch = engine.getDevContext({ FOO: true });\nconsole.log(noMatch); // false - criteria don't match\n\n// Use in conditional logic\nif (engine.getDevContext({ verbose: true })) {\n  // Only execute expensive logging when verbose mode is on\n  console.log('Detailed state:', JSON.stringify(state, null, 2));\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Returns ",(0,r.yg)("inlineCode",{parentName:"li"},"false")," if context is not set or doesn't match criteria"),(0,r.yg)("li",{parentName:"ul"},"Returns the full devContext object if criteria match"),(0,r.yg)("li",{parentName:"ul"},"When no criteria provided, returns current devContext value (boolean or object)"),(0,r.yg)("li",{parentName:"ul"},"Useful for implementing conditional debugging behavior")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"newtournamentrecord"},"newTournamentRecord"),(0,r.yg)("p",null,"Creates a new, empty tournament record, loads it into engine state, and sets it as the active tournament."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Quickly create and load a new tournament with basic attributes. The tournament is automatically loaded and set as active, ready for adding events, participants, and other data."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Starting a new tournament from scratch"),(0,r.yg)("li",{parentName:"ul"},"Creating a tournament programmatically"),(0,r.yg)("li",{parentName:"ul"},"Initializing a tournament before manual data entry"),(0,r.yg)("li",{parentName:"ul"},"Testing with fresh tournament instances")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  tournamentName?: string;      // Tournament name (default: generated name)\n  startDate?: string;           // ISO date string (default: today)\n  endDate?: string;             // ISO date string (default: today + 7 days)\n  tournamentId?: string;        // Custom ID (default: auto-generated UUID)\n  [key: string]: any;           // Additional tournament attributes\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  success: true;\n  tournamentId: string;         // The new tournament's ID\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Create tournament with defaults\nconst result = engine.newTournamentRecord();\nconsole.log(result.tournamentId); // Auto-generated UUID\n\n// Create tournament with specific details\nconst result = engine.newTournamentRecord({\n  tournamentName: 'Summer Open 2024',\n  startDate: '2024-07-01',\n  endDate: '2024-07-07',\n  tournamentRank: 'INTERNATIONAL',\n  indoorOutdoor: 'OUTDOOR'\n});\n\n// Tournament is now loaded and active\nconst { tournamentRecord } = engine.getTournament();\nconsole.log(tournamentRecord.tournamentName); // 'Summer Open 2024'\n\n// Add events and other data\nengine.addEvent({\n  event: {\n    eventName: 'Singles',\n    eventType: 'SINGLES'\n  }\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"The new tournament is automatically loaded into engine state"),(0,r.yg)("li",{parentName:"ul"},"The new tournament becomes the active tournament (no need to call ",(0,r.yg)("inlineCode",{parentName:"li"},"setTournamentId"),")"),(0,r.yg)("li",{parentName:"ul"},"Equivalent to calling ",(0,r.yg)("inlineCode",{parentName:"li"},"createTournamentRecord()")," followed by ",(0,r.yg)("inlineCode",{parentName:"li"},"setState()")),(0,r.yg)("li",{parentName:"ul"},"Returns error if tournament creation fails"),(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("inlineCode",{parentName:"li"},"createTournamentRecord")," in Tournament Governor for more creation options")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"setstate"},"setState"),(0,r.yg)("p",null,"See ",(0,r.yg)("a",{parentName:"p",href:"/docs/engines/global-state#setstate"},"Global State")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"engine.setState(tournamentRecords, deepCopyOption, deepCopyAttributes);\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"settournamentid"},"setTournamentId"),(0,r.yg)("p",null,"Sets the active tournament ID, making that tournament the target for all subsequent engine operations."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Switch between multiple loaded tournaments. When you have multiple tournament records loaded in engine state, this method specifies which one engine methods will operate on."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Managing multiple tournaments simultaneously"),(0,r.yg)("li",{parentName:"ul"},"Switching context between tournaments"),(0,r.yg)("li",{parentName:"ul"},"After loading multiple tournaments with ",(0,r.yg)("inlineCode",{parentName:"li"},"setState([tournament1, tournament2])")),(0,r.yg)("li",{parentName:"ul"},"Before performing operations on a specific tournament")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"tournamentId?: string  // Tournament ID to make active (undefined clears active tournament)\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")," ",(0,r.yg)("inlineCode",{parentName:"p"},"void")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Load multiple tournaments\nengine.setState([tournament1, tournament2, tournament3]);\n\n// Switch to first tournament\nengine.setTournamentId(tournament1.tournamentId);\n\n// Add participants to tournament1\nengine.addParticipants({ participants: [...] });\n\n// Switch to second tournament\nengine.setTournamentId(tournament2.tournamentId);\n\n// Add participants to tournament2\nengine.addParticipants({ participants: [...] });\n\n// Clear active tournament (operations will fail until tournamentId is set)\nengine.setTournamentId();\n\n// Check which tournament is active\nconst activeId = engine.getTournamentId();\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Does not validate that the tournamentId exists in loaded state"),(0,r.yg)("li",{parentName:"ul"},"Passing ",(0,r.yg)("inlineCode",{parentName:"li"},"undefined")," clears the active tournament"),(0,r.yg)("li",{parentName:"ul"},"All governor methods operate on the active tournament"),(0,r.yg)("li",{parentName:"ul"},"When loading a single tournament with ",(0,r.yg)("inlineCode",{parentName:"li"},"setState(record)"),", it's automatically set as active"),(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("a",{parentName:"li",href:"/docs/engines/global-state"},"Global State")," for multi-tournament patterns")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"gettournamentid"},"getTournamentId"),(0,r.yg)("p",null,"Returns the currently active tournament ID."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Determine which tournament is currently active in engine state. Useful for debugging or implementing multi-tournament logic."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Verifying which tournament is active"),(0,r.yg)("li",{parentName:"ul"},"Implementing multi-tournament UI logic"),(0,r.yg)("li",{parentName:"ul"},"Debugging state management issues"),(0,r.yg)("li",{parentName:"ul"},"Conditional logic based on active tournament")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")," None"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"string | undefined  // Active tournament ID, or undefined if none set\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Load a tournament\nengine.setState(tournamentRecord);\n\n// Get active tournament ID\nconst activeId = engine.getTournamentId();\nconsole.log(activeId); // tournamentRecord.tournamentId\n\n// When managing multiple tournaments\nengine.setState([tournament1, tournament2]);\nengine.setTournamentId(tournament1.tournamentId);\n\nconst currentId = engine.getTournamentId();\nif (currentId === tournament1.tournamentId) {\n  // Perform tournament1-specific operations\n}\n\n// After reset\nengine.reset();\nconsole.log(engine.getTournamentId()); // undefined\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Returns ",(0,r.yg)("inlineCode",{parentName:"li"},"undefined")," if no tournament is active"),(0,r.yg)("li",{parentName:"ul"},"The active tournament is set automatically when loading a single tournament with ",(0,r.yg)("inlineCode",{parentName:"li"},"setState(record)")),(0,r.yg)("li",{parentName:"ul"},"Use ",(0,r.yg)("inlineCode",{parentName:"li"},"setTournamentId()")," to change the active tournament")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"settournamentrecord"},"setTournamentRecord"),(0,r.yg)("p",null,"Loads a single tournament record into engine state, replacing any existing tournament with the same ID."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Load or update a tournament record in engine state. Unlike ",(0,r.yg)("inlineCode",{parentName:"p"},"setState()")," which can load multiple tournaments, this method handles a single tournament record."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Loading a tournament from storage"),(0,r.yg)("li",{parentName:"ul"},"Updating an existing tournament record"),(0,r.yg)("li",{parentName:"ul"},"Adding a new tournament to already-loaded tournaments"),(0,r.yg)("li",{parentName:"ul"},"Replacing a specific tournament while keeping others loaded")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"tournamentRecord: object  // Tournament record to load\ndeepCopyOption?: boolean  // Whether to deep copy (default: true)\ndeepCopyAttributes?: object  // Fine-tune copy behavior\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  success?: true;\n  error?: string;  // If record is invalid\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Load a tournament\nconst result = engine.setTournamentRecord(tournamentRecord);\nif (result.success) {\n  console.log('Tournament loaded');\n}\n\n// Update an existing tournament\nconst { tournamentRecord } = engine.getTournament();\ntournamentRecord.tournamentName = 'Updated Name';\nengine.setTournamentRecord(tournamentRecord);\n\n// Load additional tournament while keeping existing ones\nengine.setTournamentRecord(tournament1); // Load first\nengine.setTournamentRecord(tournament2); // Add second (tournament1 still loaded)\nengine.setTournamentRecord(tournament3); // Add third (both previous still loaded)\n\n// Replace a tournament (same ID overwrites)\nconst updatedTournament = { ...tournament1, tournamentName: 'New Name' };\nengine.setTournamentRecord(updatedTournament); // Replaces tournament1\n\n// Avoid deep copy for performance (use carefully)\nengine.setTournamentRecord(tournamentRecord, false);\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Requires ",(0,r.yg)("inlineCode",{parentName:"li"},"tournamentRecord.tournamentId")," to be present"),(0,r.yg)("li",{parentName:"ul"},"Returns error if record is not an object or missing ",(0,r.yg)("inlineCode",{parentName:"li"},"tournamentId")),(0,r.yg)("li",{parentName:"ul"},"By default creates a deep copy (safe but slower)"),(0,r.yg)("li",{parentName:"ul"},"Set ",(0,r.yg)("inlineCode",{parentName:"li"},"deepCopyOption: false")," for performance when you control the record's lifecycle"),(0,r.yg)("li",{parentName:"ul"},"Does NOT automatically set the tournament as active - use ",(0,r.yg)("inlineCode",{parentName:"li"},"setTournamentId()")," if needed"),(0,r.yg)("li",{parentName:"ul"},"Overwrites any existing tournament with the same ID")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"removetournamentrecord"},"removeTournamentRecord"),(0,r.yg)("p",null,"Removes a specific tournament record from engine state by its ID."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Delete a tournament from engine state when it's no longer needed, freeing memory and cleaning up state."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Removing tournaments that are no longer needed"),(0,r.yg)("li",{parentName:"ul"},"Cleaning up after processing"),(0,r.yg)("li",{parentName:"ul"},"Managing memory in long-running applications"),(0,r.yg)("li",{parentName:"ul"},"Removing tournaments selectively while keeping others")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"tournamentId: string  // ID of tournament to remove\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  success?: true;\n  error?: string;  // If tournamentId not found or invalid\n}\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Examples:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Load multiple tournaments\nengine.setState([tournament1, tournament2, tournament3]);\n\n// Remove one tournament\nconst result = engine.removeTournamentRecord(tournament2.tournamentId);\nif (result.success) {\n  console.log('Tournament removed');\n}\n\n// Verify it's gone\nconst { tournamentRecords } = engine.getState();\nconsole.log(Object.keys(tournamentRecords).length); // 2 (was 3)\n\n// Remove all tournaments one by one\nconst { tournamentRecords } = engine.getState();\nObject.keys(tournamentRecords).forEach(id => {\n  engine.removeTournamentRecord(id);\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"If the removed tournament was active, no tournament will be active afterward"),(0,r.yg)("li",{parentName:"ul"},"Does not affect other loaded tournaments"),(0,r.yg)("li",{parentName:"ul"},"Use ",(0,r.yg)("inlineCode",{parentName:"li"},"reset()")," to remove all tournaments at once"),(0,r.yg)("li",{parentName:"ul"},"Returns success even if tournament didn't exist"),(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("inlineCode",{parentName:"li"},"removeUnlinkedTournamentRecords()")," for removing based on links")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"removeunlinkedtournamentrecords"},"removeUnlinkedTournamentRecords"),(0,r.yg)("p",null,"Removes all tournament records that are not referenced in the ",(0,r.yg)("inlineCode",{parentName:"p"},"LINKED_TOURNAMENTS")," extension."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Purpose:")," Clean up tournaments that are not part of a linked tournament group. Useful for managing related tournaments (like qualification and main events) where only linked tournaments should be retained."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"When to Use:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Managing linked tournament groups (qualifications, main draws, consolations)"),(0,r.yg)("li",{parentName:"ul"},"Cleaning up after importing tournament data"),(0,r.yg)("li",{parentName:"ul"},"Removing orphaned tournament records"),(0,r.yg)("li",{parentName:"ul"},"Maintaining only tournaments that are part of a defined relationship")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Parameters:")," None"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns:")," ",(0,r.yg)("inlineCode",{parentName:"p"},"void")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Background:"),"\nThe TODS (Tennis Open Data Standards) supports linking related tournaments through the ",(0,r.yg)("inlineCode",{parentName:"p"},"LINKED_TOURNAMENTS")," extension. This method keeps only tournaments that are referenced in this extension, removing any others."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"// Load multiple tournaments\nengine.setState([tournament1, tournament2, tournament3, tournament4]);\n\n// tournament1 has LINKED_TOURNAMENTS extension listing tournament2 and tournament3\n// tournament4 is not linked\n\n// Remove unlinked tournaments\nengine.removeUnlinkedTournamentRecords();\n\n// Only tournament2 and tournament3 remain (referenced by tournament1)\n// tournament1 and tournament4 are removed\nconst { tournamentRecords } = engine.getState();\nconsole.log(Object.keys(tournamentRecords)); // IDs of tournament2 and tournament3 only\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Notes:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Looks for the ",(0,r.yg)("inlineCode",{parentName:"li"},"LINKED_TOURNAMENTS")," extension across all loaded tournaments"),(0,r.yg)("li",{parentName:"ul"},"Only keeps tournaments whose IDs appear in ",(0,r.yg)("inlineCode",{parentName:"li"},"extension.value.tournamentIds")),(0,r.yg)("li",{parentName:"ul"},"Removes the tournament containing the extension itself"),(0,r.yg)("li",{parentName:"ul"},"Useful for multi-stage tournament systems (qualifying \u2192 main draw)"),(0,r.yg)("li",{parentName:"ul"},"Does not remove individual tournaments - use ",(0,r.yg)("inlineCode",{parentName:"li"},"removeTournamentRecord()")," for that"),(0,r.yg)("li",{parentName:"ul"},"Primarily used internally when managing linked tournament workflows")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Related:")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("a",{parentName:"li",href:"/docs/concepts/extensions"},"Extensions")," for more on tournament extensions"),(0,r.yg)("li",{parentName:"ul"},"See ",(0,r.yg)("a",{parentName:"li",href:"/docs/engines/global-state#linked-tournaments"},"Linked Tournaments")," for linking patterns")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"version"},"version"),(0,r.yg)("p",null,"Returns NPM package version. Can be used in configurations that utilize Competition Factory engines on both client and server to ensure equivalency."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const version = engine.version();\n")),(0,r.yg)("hr",null))}p.isMDXComponent=!0}}]);