"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7650],{3805:(e,n,t)=>{t.d(n,{xA:()=>p,yg:()=>m});var a=t(758);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},g=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),d=c(t),g=i,m=d["".concat(s,".").concat(g)]||d[g]||u[g]||l;return t?a.createElement(m,o(o({ref:n},p),{},{components:t})):a.createElement(m,o({ref:n},p))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var l=t.length,o=new Array(l);o[0]=g;var r={};for(var s in n)hasOwnProperty.call(n,s)&&(r[s]=n[s]);r.originalType=e,r[d]="string"==typeof e?e:i,o[1]=r;for(var c=2;c<l;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}g.displayName="MDXCreateElement"},7755:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>c});var a=t(2232),i=(t(758),t(3805));const l={title:"MatchUp Actions Policy"},o=void 0,r={unversionedId:"policies/matchUpActions",id:"policies/matchUpActions",title:"MatchUp Actions Policy",description:"The MatchUp Actions Policy (POLICYTYPEMATCHUP_ACTIONS) controls which actions are available for matchUps within tournament structures. This policy determines scoring permissions, scheduling capabilities, participant substitution rules, and team position assignments based on matchUp state, structure configuration, and participant attributes.",source:"@site/docs/policies/matchUpActions.md",sourceDirName:"policies",slug:"/policies/matchUpActions",permalink:"/tods-competition-factory/docs/policies/matchUpActions",draft:!1,tags:[],version:"current",frontMatter:{title:"MatchUp Actions Policy"},sidebar:"docs",previous:{title:"Position Actions Policy",permalink:"/tods-competition-factory/docs/policies/positionActions"},next:{title:"Round Naming",permalink:"/tods-competition-factory/docs/policies/roundNaming"}},s={},c=[{value:"Policy Structure",id:"policy-structure",level:2},{value:"Available MatchUp Actions",id:"available-matchup-actions",level:2},{value:"Core MatchUp Actions",id:"core-matchup-actions",level:3},{value:"Team Event Actions",id:"team-event-actions",level:3},{value:"Team Collection Position Actions",id:"team-collection-position-actions",level:3},{value:"Default Policy",id:"default-policy",level:2},{value:"Basic Examples",id:"basic-examples",level:2},{value:"Enable All MatchUp Actions",id:"enable-all-matchup-actions",level:3},{value:"Restrict to Scheduling Only",id:"restrict-to-scheduling-only",level:3},{value:"Allow Post-Match Substitution",id:"allow-post-match-substitution",level:3},{value:"Advanced Examples",id:"advanced-examples",level:2},{value:"Stage-Specific Action Control",id:"stage-specific-action-control",level:3},{value:"Team Event with Gender Enforcement",id:"team-event-with-gender-enforcement",level:3},{value:"Flexible Club Team Event",id:"flexible-club-team-event",level:3},{value:"Live Scoring Only",id:"live-scoring-only",level:3},{value:"Disable All Actions (View Only)",id:"disable-all-actions-view-only",level:3},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"Professional Tournament",id:"professional-tournament",level:3},{value:"College Team Tennis",id:"college-team-tennis",level:3},{value:"USTA League",id:"usta-league",level:3},{value:"Club Social Event",id:"club-social-event",level:3},{value:"Understanding MatchUp States",id:"understanding-matchup-states",level:2},{value:"Unplayed MatchUp (TO_BE_PLAYED)",id:"unplayed-matchup-to_be_played",level:3},{value:"Ready to Score",id:"ready-to-score",level:3},{value:"Completed MatchUp",id:"completed-matchup",level:3},{value:"BYE MatchUp",id:"bye-matchup",level:3},{value:"Using matchUpActions",id:"using-matchupactions",level:2},{value:"Executing MatchUp Actions",id:"executing-matchup-actions",level:2},{value:"Example 1: Scoring a MatchUp",id:"example-1-scoring-a-matchup",level:3},{value:"Example 2: Team Position Assignment",id:"example-2-team-position-assignment",level:3},{value:"Example 3: Substitution",id:"example-3-substitution",level:3},{value:"Gender and Category Enforcement",id:"gender-and-category-enforcement",level:2},{value:"enforceGender",id:"enforcegender",level:3},{value:"enforceCategory",id:"enforcecategory",level:3},{value:"Disabling Enforcement",id:"disabling-enforcement",level:3},{value:"Process Codes for Substitutions",id:"process-codes-for-substitutions",level:2},{value:"Testing MatchUp Actions",id:"testing-matchup-actions",level:2},{value:"Test 1: Verify Default Actions",id:"test-1-verify-default-actions",level:3},{value:"Test 2: Verify Scoring Availability",id:"test-2-verify-scoring-availability",level:3},{value:"Test 3: Verify BYE MatchUp",id:"test-3-verify-bye-matchup",level:3},{value:"Test 4: Verify Gender Enforcement",id:"test-4-verify-gender-enforcement",level:3},{value:"Test 5: Verify Custom Policy",id:"test-5-verify-custom-policy",level:3},{value:"Common Scenarios",id:"common-scenarios",level:2},{value:"Scenario 1: Unscheduled MatchUp",id:"scenario-1-unscheduled-matchup",level:3},{value:"Scenario 2: Scheduled, Ready to Play",id:"scenario-2-scheduled-ready-to-play",level:3},{value:"Scenario 3: Completed MatchUp",id:"scenario-3-completed-matchup",level:3},{value:"Scenario 4: Team Collection MatchUp",id:"scenario-4-team-collection-matchup",level:3},{value:"Notes",id:"notes",level:2},{value:"Related Methods",id:"related-methods",level:2},{value:"Related Concepts",id:"related-concepts",level:2}],p={toc:c},d="wrapper";function u(e){let{components:n,...t}=e;return(0,i.yg)(d,(0,a.A)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"The ",(0,i.yg)("strong",{parentName:"p"},"MatchUp Actions Policy")," (",(0,i.yg)("inlineCode",{parentName:"p"},"POLICY_TYPE_MATCHUP_ACTIONS"),") controls which actions are available for matchUps within tournament structures. This policy determines scoring permissions, scheduling capabilities, participant substitution rules, and team position assignments based on matchUp state, structure configuration, and participant attributes."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Policy Type:")," ",(0,i.yg)("inlineCode",{parentName:"p"},"matchUpActions")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"When to Use:")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Controlling scoring and status changes for matchUps"),(0,i.yg)("li",{parentName:"ul"},"Managing participant substitutions in team events"),(0,i.yg)("li",{parentName:"ul"},"Enforcing gender/category restrictions for team assignments"),(0,i.yg)("li",{parentName:"ul"},"Setting process codes for substitutions"),(0,i.yg)("li",{parentName:"ul"},"Enabling/disabling specific matchUp actions per structure"),(0,i.yg)("li",{parentName:"ul"},"Controlling scheduling permissions")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"policy-structure"},"Policy Structure"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-ts"},"{\n  matchUpActions: {\n    policyName?: string;                    // Optional policy identifier\n    \n    // Selective enablement for structures\n    enabledStructures?: Array<{\n      stages?: string[];                    // ['QUALIFYING', 'MAIN', 'CONSOLATION']\n      stageSequences?: number[];            // [1, 2, 3] - which sequence numbers\n      enabledActions?: string[];            // Specific actions to enable (empty = all)\n      disabledActions?: string[];           // Specific actions to disable\n    }>;\n    \n    // Participant validation rules\n    participants?: {\n      enforceCategory?: boolean;            // Validate category compatibility\n      enforceGender?: boolean;              // Validate gender compatibility\n    };\n    \n    // Process codes for actions\n    processCodes?: {\n      substitution?: string[];              // Process codes applied to substitutions\n    };\n    \n    // Substitution behavior\n    substituteAfterCompleted?: boolean;     // Allow substitution after completion\n    substituteWithoutScore?: boolean;       // Allow substitution when no score present\n  }\n}\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"available-matchup-actions"},"Available MatchUp Actions"),(0,i.yg)("p",null,"The following actions can be controlled by this policy:"),(0,i.yg)("h3",{id:"core-matchup-actions"},"Core MatchUp Actions"),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Action"),(0,i.yg)("th",{parentName:"tr",align:null},"Constant"),(0,i.yg)("th",{parentName:"tr",align:null},"Method/Behavior"),(0,i.yg)("th",{parentName:"tr",align:null},"Description"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"SCHEDULE")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"SCHEDULE")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"setMatchUpStatus")),(0,i.yg)("td",{parentName:"tr",align:null},"Schedule matchUp (set date/time/court)")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"STATUS")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"STATUS")),(0,i.yg)("td",{parentName:"tr",align:null},"UI/Engine"),(0,i.yg)("td",{parentName:"tr",align:null},"Change matchUp status (COMPLETED, DEFAULTED, etc.)")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"SCORE")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"SCORE")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"setMatchUpStatus")),(0,i.yg)("td",{parentName:"tr",align:null},"Enter or modify score")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"START")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"START")),(0,i.yg)("td",{parentName:"tr",align:null},"Event Trigger"),(0,i.yg)("td",{parentName:"tr",align:null},"Mark matchUp as started")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"END")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"END")),(0,i.yg)("td",{parentName:"tr",align:null},"Event Trigger"),(0,i.yg)("td",{parentName:"tr",align:null},"Mark matchUp as ended")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"REFEREE")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"REFEREE")),(0,i.yg)("td",{parentName:"tr",align:null},"Assignment"),(0,i.yg)("td",{parentName:"tr",align:null},"Assign referee to matchUp")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"PENALTY")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"PENALTY")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"addPenalty")),(0,i.yg)("td",{parentName:"tr",align:null},"Add penalty during matchUp")))),(0,i.yg)("h3",{id:"team-event-actions"},"Team Event Actions"),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Action"),(0,i.yg)("th",{parentName:"tr",align:null},"Constant"),(0,i.yg)("th",{parentName:"tr",align:null},"Method"),(0,i.yg)("th",{parentName:"tr",align:null},"Description"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"SUBSTITUTION")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"SUBSTITUTION")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"substituteParticipant")),(0,i.yg)("td",{parentName:"tr",align:null},"Substitute participant in team matchUp")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"REMOVE_SUBSTITUTION")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"REMOVE_SUBSTITUTION")),(0,i.yg)("td",{parentName:"tr",align:null},"Reverse substitution"),(0,i.yg)("td",{parentName:"tr",align:null},"Remove substitution")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"REPLACE_PARTICIPANT")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"REPLACE_PARTICIPANT")),(0,i.yg)("td",{parentName:"tr",align:null},"Team position change"),(0,i.yg)("td",{parentName:"tr",align:null},"Replace team position participant")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"REMOVE_PARTICIPANT")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"REMOVE_PARTICIPANT")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"removeTieMatchUpParticipantId")),(0,i.yg)("td",{parentName:"tr",align:null},"Remove participant from team position")))),(0,i.yg)("h3",{id:"team-collection-position-actions"},"Team Collection Position Actions"),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Action"),(0,i.yg)("th",{parentName:"tr",align:null},"Method"),(0,i.yg)("th",{parentName:"tr",align:null},"Description"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"Assign Team Position")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"assignTieMatchUpParticipantId")),(0,i.yg)("td",{parentName:"tr",align:null},"Assign individual to team collection position")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"Replace Team Position")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"replaceTieMatchUpParticipantId")),(0,i.yg)("td",{parentName:"tr",align:null},"Replace individual in team collection position")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"Remove Team Position")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("inlineCode",{parentName:"td"},"removeTieMatchUpParticipantId")),(0,i.yg)("td",{parentName:"tr",align:null},"Remove individual from team collection position")))),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"default-policy"},"Default Policy"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"import { POLICY_MATCHUP_ACTIONS_DEFAULT } from 'tods-competition-factory';\n\n// Default policy:\n// - All actions enabled for all structures\n// - Gender enforcement enabled\n// - Category enforcement enabled\n// - Substitution process codes applied\n// - No substitution after completion\n// - No substitution without score\n{\n  matchUpActions: {\n    policyName: 'matchUpActionsDefault',\n    \n    enabledStructures: [{\n      stages: [],                           // All stages\n      stageSequences: [],                   // All sequences\n      enabledActions: [],                   // All actions enabled\n      disabledActions: []                   // No actions disabled\n    }],\n    \n    participants: {\n      enforceCategory: true,                // Validate category compatibility\n      enforceGender: true                   // Validate gender compatibility\n    },\n    \n    processCodes: {\n      substitution: [\n        'RANKING.IGNORE',                   // Ignore for ranking purposes\n        'RATING.IGNORE'                     // Ignore for rating purposes\n      ]\n    },\n    \n    substituteAfterCompleted: false,        // No substitution after completion\n    substituteWithoutScore: false           // Require score for substitution\n  }\n}\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"basic-examples"},"Basic Examples"),(0,i.yg)("h3",{id:"enable-all-matchup-actions"},"Enable All MatchUp Actions"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"import { POLICY_TYPE_MATCHUP_ACTIONS } from 'tods-competition-factory';\n\n// Allow all matchUp actions without restrictions\nconst openPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Open MatchUp Actions',\n    enabledStructures: [{\n      stages: [],\n      stageSequences: [],\n      enabledActions: []  // Empty = all enabled\n    }],\n    participants: {\n      enforceCategory: false,\n      enforceGender: false\n    }\n  }\n};\n\ntournamentEngine.attachPolicies({\n  policyDefinitions: openPolicy\n});\n")),(0,i.yg)("h3",{id:"restrict-to-scheduling-only"},"Restrict to Scheduling Only"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Only allow scheduling - no scoring or status changes\nconst scheduleOnlyPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Schedule Only',\n    enabledStructures: [{\n      stages: [],\n      stageSequences: [],\n      enabledActions: ['SCHEDULE']  // Only scheduling enabled\n    }]\n  }\n};\n")),(0,i.yg)("h3",{id:"allow-post-match-substitution"},"Allow Post-Match Substitution"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Enable substitution even after matchUp is completed\nconst flexibleSubstitutionPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Flexible Substitution',\n    participants: {\n      enforceCategory: true,\n      enforceGender: true\n    },\n    substituteAfterCompleted: true,     // Allow after completion\n    substituteWithoutScore: true        // Allow even without score\n  }\n};\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"advanced-examples"},"Advanced Examples"),(0,i.yg)("h3",{id:"stage-specific-action-control"},"Stage-Specific Action Control"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Different actions for different stages\nconst stageSpecificPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Stage Specific MatchUps',\n    enabledStructures: [\n      {\n        // QUALIFYING: Full control\n        stages: ['QUALIFYING'],\n        stageSequences: [1],\n        enabledActions: []  // All actions\n      },\n      {\n        // MAIN: Restrict certain actions\n        stages: ['MAIN'],\n        stageSequences: [1],\n        disabledActions: ['SUBSTITUTION']  // No substitutions in main\n      },\n      {\n        // CONSOLATION: Flexible\n        stages: ['CONSOLATION'],\n        stageSequences: [],\n        enabledActions: []  // All actions including substitution\n      }\n    ]\n  }\n};\n")),(0,i.yg)("h3",{id:"team-event-with-gender-enforcement"},"Team Event with Gender Enforcement"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Strict gender enforcement for team events\nconst genderedTeamPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Gendered Team Event',\n    participants: {\n      enforceCategory: true,      // Must match event category\n      enforceGender: true          // Must match event gender\n    },\n    processCodes: {\n      substitution: [\n        'RANKING.IGNORE',\n        'RATING.IGNORE'\n      ]\n    }\n  }\n};\n\n// This prevents:\n// - Assigning FEMALE participant to MALE singles position\n// - Assigning MALE participant to FEMALE doubles position\n// - Cross-category assignments\n")),(0,i.yg)("h3",{id:"flexible-club-team-event"},"Flexible Club Team Event"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Relaxed rules for club team events\nconst clubTeamPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Club Team Flexibility',\n    participants: {\n      enforceCategory: false,     // Allow mixed categories\n      enforceGender: false        // Allow mixed gender assignments\n    },\n    substituteAfterCompleted: true,   // Fix mistakes after completion\n    substituteWithoutScore: true,     // Allow early substitutions\n    processCodes: {\n      substitution: ['CLUB.SUBSTITUTE']\n    }\n  }\n};\n")),(0,i.yg)("h3",{id:"live-scoring-only"},"Live Scoring Only"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Only allow score entry and penalties (live scoring scenario)\nconst liveScoringPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Live Scoring',\n    enabledStructures: [{\n      stages: [],\n      stageSequences: [],\n      enabledActions: [\n        'SCORE',      // Score entry\n        'STATUS',     // Status changes\n        'PENALTY',    // Penalty assessment\n        'START',      // Mark start time\n        'END'         // Mark end time\n      ]\n    }]\n  }\n};\n")),(0,i.yg)("h3",{id:"disable-all-actions-view-only"},"Disable All Actions (View Only)"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Completely disable matchUp modifications\nconst viewOnlyPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'View Only',\n    enabledStructures: [{\n      stages: [],\n      stageSequences: [],\n      enabledActions: []  // Will return empty validActions\n    }]\n  }\n};\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"real-world-examples"},"Real-World Examples"),(0,i.yg)("h3",{id:"professional-tournament"},"Professional Tournament"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Professional tournament with strict controls\nconst proTournamentPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Professional Tournament',\n    enabledStructures: [{\n      stages: ['MAIN'],\n      stageSequences: [1],\n      enabledActions: [\n        'SCORE',\n        'STATUS',\n        'PENALTY',\n        'SCHEDULE',\n        'REFEREE',\n        'START',\n        'END'\n      ],\n      disabledActions: ['SUBSTITUTION']  // No substitutions in pro singles\n    }],\n    participants: {\n      enforceCategory: true,\n      enforceGender: true\n    },\n    substituteAfterCompleted: false,\n    substituteWithoutScore: false\n  }\n};\n")),(0,i.yg)("h3",{id:"college-team-tennis"},"College Team Tennis"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// NCAA/College team tennis with substitution rules\nconst collegeTeamPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'College Team Tennis',\n    enabledStructures: [{\n      stages: [],\n      stageSequences: [],\n      enabledActions: []  // All actions enabled\n    }],\n    participants: {\n      enforceCategory: true,      // Must be college category\n      enforceGender: true          // Enforce gender for positions\n    },\n    processCodes: {\n      substitution: [\n        'NCAA.SUBSTITUTE',\n        'RANKING.IGNORE',\n        'RATING.IGNORE'\n      ]\n    },\n    substituteAfterCompleted: false,  // NCAA rules: no sub after completion\n    substituteWithoutScore: true      // Can substitute before scoring\n  }\n};\n")),(0,i.yg)("h3",{id:"usta-league"},"USTA League"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// USTA League with flexible substitution\nconst ustaLeaguePolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'USTA League',\n    enabledStructures: [{\n      stages: [],\n      stageSequences: [],\n      enabledActions: []\n    }],\n    participants: {\n      enforceCategory: true,      // Must match NTRP level\n      enforceGender: true          // Enforce gender for positions\n    },\n    processCodes: {\n      substitution: [\n        'USTA.LEAGUE.SUBSTITUTE',\n        'RANKING.IGNORE'\n      ]\n    },\n    substituteAfterCompleted: false,  // Standard rule\n    substituteWithoutScore: true      // Allow early withdrawal substitution\n  }\n};\n")),(0,i.yg)("h3",{id:"club-social-event"},"Club Social Event"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Relaxed club event with flexible rules\nconst clubSocialPolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    policyName: 'Club Social',\n    enabledStructures: [{\n      stages: [],\n      stageSequences: [],\n      enabledActions: []  // All actions\n    }],\n    participants: {\n      enforceCategory: false,     // Allow mixed skill levels\n      enforceGender: false        // Allow any gender combinations\n    },\n    substituteAfterCompleted: true,   // Fix mistakes\n    substituteWithoutScore: true,     // Flexible substitution\n    processCodes: {\n      substitution: ['SOCIAL.EVENT']\n    }\n  }\n};\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"understanding-matchup-states"},"Understanding MatchUp States"),(0,i.yg)("p",null,"MatchUp actions availability depends on matchUp state:"),(0,i.yg)("h3",{id:"unplayed-matchup-to_be_played"},"Unplayed MatchUp (TO_BE_PLAYED)"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Available Actions:")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"SCHEDULE")," - Set court/time"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"REFEREE")," - Assign referee"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"STATUS")," - Change status (e.g., to DEFAULTED)"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"PENALTY")," - Add penalties")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Not Available:")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"SCORE")," - No participants or not ready to score"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"START")," / ",(0,i.yg)("inlineCode",{parentName:"li"},"END")," - Cannot start unassigned matchUp")),(0,i.yg)("h3",{id:"ready-to-score"},"Ready to Score"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Conditions:")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Both participants assigned OR"),(0,i.yg)("li",{parentName:"ul"},"Both drawPositions filled with participants"),(0,i.yg)("li",{parentName:"ul"},"Not already completed"),(0,i.yg)("li",{parentName:"ul"},"Not a BYE matchUp")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Available Actions:")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"All scheduling actions PLUS"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"SCORE")," - Enter score"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"STATUS")," - Change status"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"START")," / ",(0,i.yg)("inlineCode",{parentName:"li"},"END")," - Mark start/end times")),(0,i.yg)("h3",{id:"completed-matchup"},"Completed MatchUp"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Available Actions:")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"SCORE")," - Modify score (unless restricted)"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"PENALTY")," - Add penalties"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"SCHEDULE")," - Modify scheduling")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Restricted Actions:")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"SUBSTITUTION")," - Blocked by ",(0,i.yg)("inlineCode",{parentName:"li"},"substituteAfterCompleted: false"))),(0,i.yg)("h3",{id:"bye-matchup"},"BYE MatchUp"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Behavior:")," Returns ",(0,i.yg)("inlineCode",{parentName:"p"},"isByeMatchUp: true")," with empty ",(0,i.yg)("inlineCode",{parentName:"p"},"validActions")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"using-matchupactions"},"Using matchUpActions"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Get available actions for a specific matchUp\nconst {\n  validActions,              // Array of available actions\n  isByeMatchUp,             // Boolean - is this a BYE matchUp?\n  structureIsComplete,      // Boolean - is structure complete?\n  isDoubleExit              // Boolean - double walkover/default?\n} = tournamentEngine.matchUpActions({\n  policyDefinitions,        // Optional - override default policy\n  matchUpId,                // Required - matchUp identifier\n  drawId,                   // Optional - improves performance\n  sideNumber,               // Optional - for team position actions\n  participantId,            // Optional - for participant-specific actions\n  enforceGender,            // Optional - override policy gender enforcement\n  restrictAdHocRoundParticipants  // Optional - for ad hoc draws\n});\n\n// Each validAction contains:\nconst {\n  type,                     // Action type constant (e.g., 'SCORE')\n  method,                   // Engine method name (if applicable)\n  payload,                  // Parameters for method\n  info                      // Additional information\n} = validAction;\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"executing-matchup-actions"},"Executing MatchUp Actions"),(0,i.yg)("h3",{id:"example-1-scoring-a-matchup"},"Example 1: Scoring a MatchUp"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// 1. Get available actions\nconst { validActions } = tournamentEngine.matchUpActions({\n  matchUpId: 'match-123',\n  drawId: 'draw-abc'\n});\n\n// 2. Find score action\nconst scoreAction = validActions.find(\n  action => action.type === 'SCORE'\n);\n\nif (scoreAction) {\n  const { method, payload } = scoreAction;\n  \n  // 3. Add outcome\n  payload.outcome = {\n    scoreStringSide1: '6-4 6-3',\n    scoreStringSide2: '',\n    winningSide: 1\n  };\n  \n  // 4. Execute\n  const result = tournamentEngine[method](payload);\n  expect(result.success).toEqual(true);\n}\n")),(0,i.yg)("h3",{id:"example-2-team-position-assignment"},"Example 2: Team Position Assignment"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Get actions for a collection matchUp with sideNumber\nconst { validActions } = tournamentEngine.matchUpActions({\n  matchUpId: 'team-match-123',\n  sideNumber: 1,  // Side 1 actions\n  drawId\n});\n\n// Find assign action\nconst assignAction = validActions.find(\n  action => action.method === 'assignTieMatchUpParticipantId'\n);\n\nif (assignAction) {\n  const { method, payload, availableParticipants } = assignAction;\n  \n  // Select participant from available list\n  payload.participantId = availableParticipants[0].participantId;\n  \n  // Execute assignment\n  const result = tournamentEngine[method](payload);\n  expect(result.success).toEqual(true);\n}\n")),(0,i.yg)("h3",{id:"example-3-substitution"},"Example 3: Substitution"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Substitute participant in team matchUp\nconst { validActions } = tournamentEngine.matchUpActions({\n  matchUpId: 'team-match-456',\n  drawId\n});\n\nconst substitutionAction = validActions.find(\n  action => action.type === 'SUBSTITUTION'\n);\n\nif (substitutionAction) {\n  const { method, payload, availableParticipants } = substitutionAction;\n  \n  payload.substituteParticipantId = availableParticipants[0].participantId;\n  payload.existingParticipantId = 'participant-to-replace';\n  \n  const result = tournamentEngine[method](payload);\n  expect(result.success).toEqual(true);\n}\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"gender-and-category-enforcement"},"Gender and Category Enforcement"),(0,i.yg)("h3",{id:"enforcegender"},"enforceGender"),(0,i.yg)("p",null,"When ",(0,i.yg)("inlineCode",{parentName:"p"},"enforceGender: true"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// MALE event - only MALE participants can be assigned\n// FEMALE event - only FEMALE participants can be assigned\n// ANY/MIXED event - any gender allowed\n\n// Example: Prevents this error\nconst result = tournamentEngine.assignTieMatchUpParticipantId({\n  participantId: femaleParticipantId,  // FEMALE\n  matchUpId: maleSinglesMatchUpId,      // MALE collection\n  drawId\n});\n// Returns error: INVALID_PARTICIPANT_TYPE\n")),(0,i.yg)("h3",{id:"enforcecategory"},"enforceCategory"),(0,i.yg)("p",null,"When ",(0,i.yg)("inlineCode",{parentName:"p"},"enforceCategory: true"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Validates collectionDefinition.category against event.category\n\n// Example: U18 team event\n// - Can only assign U18 participants to U18 collection positions\n// - Cannot assign U16 participants (different category)\n// - Cannot assign OPEN participants (different category)\n")),(0,i.yg)("h3",{id:"disabling-enforcement"},"Disabling Enforcement"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Disable for flexibility (club events, mixed tournaments)\nconst flexiblePolicy = {\n  [POLICY_TYPE_MATCHUP_ACTIONS]: {\n    participants: {\n      enforceCategory: false,  // Allow cross-category\n      enforceGender: false     // Allow cross-gender\n    }\n  }\n};\n\n// OR override per query\nconst { validActions } = tournamentEngine.matchUpActions({\n  enforceGender: false,  // Override policy for this query\n  matchUpId,\n  drawId\n});\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"process-codes-for-substitutions"},"Process Codes for Substitutions"),(0,i.yg)("p",null,"Process codes are applied to matchUps when substitutions occur:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"processCodes: {\n  substitution: [\n    'RANKING.IGNORE',    // Don't use result for ranking calculations\n    'RATING.IGNORE',     // Don't use result for rating calculations\n    'CUSTOM.CODE'        // Custom process code\n  ]\n}\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Usage:")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Marking results that shouldn't affect rankings"),(0,i.yg)("li",{parentName:"ul"},"Identifying substituted matchUps for reporting"),(0,i.yg)("li",{parentName:"ul"},"Custom processing logic for specific scenarios"),(0,i.yg)("li",{parentName:"ul"},"Federation-specific rule enforcement")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Access:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"const { matchUp } = tournamentEngine.findMatchUp({ matchUpId, drawId });\nconst processCodes = matchUp.processCodes;\n// ['RANKING.IGNORE', 'RATING.IGNORE']\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"testing-matchup-actions"},"Testing MatchUp Actions"),(0,i.yg)("h3",{id:"test-1-verify-default-actions"},"Test 1: Verify Default Actions"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"import { expect, it } from 'vitest';\nimport { mocksEngine, tournamentEngine } from 'tods-competition-factory';\n\nit('returns correct actions for unplayed matchUp', () => {\n  const { drawIds, tournamentRecord } = mocksEngine.generateTournamentRecord({\n    drawProfiles: [{\n      drawSize: 16,\n      participantsCount: 16\n    }]\n  });\n  \n  tournamentEngine.setState(tournamentRecord);\n  const [drawId] = drawIds;\n  \n  const { matchUps } = tournamentEngine.allDrawMatchUps({ drawId });\n  const unplayedMatchUp = matchUps.find(m => m.matchUpStatus === 'TO_BE_PLAYED');\n  \n  const { validActions } = tournamentEngine.matchUpActions({\n    matchUpId: unplayedMatchUp.matchUpId,\n    drawId\n  });\n  \n  const actionTypes = validActions.map(a => a.type);\n  \n  expect(actionTypes).toContain('SCHEDULE');\n  expect(actionTypes).toContain('REFEREE');\n  expect(actionTypes).toContain('STATUS');\n});\n")),(0,i.yg)("h3",{id:"test-2-verify-scoring-availability"},"Test 2: Verify Scoring Availability"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"it('enables scoring for ready matchUps', () => {\n  const { drawIds, tournamentRecord } = mocksEngine.generateTournamentRecord({\n    drawProfiles: [{\n      drawSize: 16,\n      participantsCount: 16\n    }]\n  });\n  \n  tournamentEngine.setState(tournamentRecord);\n  const [drawId] = drawIds;\n  \n  const { matchUps } = tournamentEngine.allDrawMatchUps({ drawId });\n  const readyMatchUp = matchUps.find(m => \n    m.matchUpStatus === 'TO_BE_PLAYED' && \n    m.sides?.every(s => s.participantId)\n  );\n  \n  const { validActions } = tournamentEngine.matchUpActions({\n    matchUpId: readyMatchUp.matchUpId,\n    drawId\n  });\n  \n  const actionTypes = validActions.map(a => a.type);\n  \n  expect(actionTypes).toContain('SCORE');\n  expect(actionTypes).toContain('START');\n  expect(actionTypes).toContain('END');\n});\n")),(0,i.yg)("h3",{id:"test-3-verify-bye-matchup"},"Test 3: Verify BYE MatchUp"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"it('returns isByeMatchUp for BYE matchUps', () => {\n  const { drawIds, tournamentRecord } = mocksEngine.generateTournamentRecord({\n    drawProfiles: [{\n      drawSize: 16,\n      participantsCount: 14  // Creates BYEs\n    }]\n  });\n  \n  tournamentEngine.setState(tournamentRecord);\n  const [drawId] = drawIds;\n  \n  const { matchUps } = tournamentEngine.allDrawMatchUps({ drawId });\n  const byeMatchUp = matchUps.find(m => m.matchUpStatus === 'BYE');\n  \n  const { isByeMatchUp, validActions } = tournamentEngine.matchUpActions({\n    matchUpId: byeMatchUp.matchUpId,\n    drawId\n  });\n  \n  expect(isByeMatchUp).toEqual(true);\n  expect(validActions).toEqual([]);\n});\n")),(0,i.yg)("h3",{id:"test-4-verify-gender-enforcement"},"Test 4: Verify Gender Enforcement"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"import { POLICY_TYPE_MATCHUP_ACTIONS } from 'tods-competition-factory';\n\nit('enforces gender restrictions', () => {\n  // Create team event with gendered positions\n  const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n    participantsProfile: {\n      participantsCount: 20,\n      sex: 'MIXED'\n    }\n  });\n  \n  tournamentEngine.setState(tournamentRecord);\n  \n  const genderPolicy = {\n    [POLICY_TYPE_MATCHUP_ACTIONS]: {\n      participants: {\n        enforceGender: true\n      }\n    }\n  };\n  \n  tournamentEngine.attachPolicies({\n    policyDefinitions: genderPolicy\n  });\n  \n  // Attempt to assign FEMALE participant to MALE position should fail\n  // (Implementation depends on team event structure)\n});\n")),(0,i.yg)("h3",{id:"test-5-verify-custom-policy"},"Test 5: Verify Custom Policy"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"import { POLICY_TYPE_MATCHUP_ACTIONS } from 'tods-competition-factory';\n\nit('respects custom action restrictions', () => {\n  const { drawIds, tournamentRecord } = mocksEngine.generateTournamentRecord({\n    drawProfiles: [{\n      drawSize: 16,\n      participantsCount: 16\n    }]\n  });\n  \n  tournamentEngine.setState(tournamentRecord);\n  const [drawId] = drawIds;\n  \n  // Policy: only allow scheduling\n  const scheduleOnlyPolicy = {\n    [POLICY_TYPE_MATCHUP_ACTIONS]: {\n      enabledStructures: [{\n        stages: [],\n        stageSequences: [],\n        enabledActions: ['SCHEDULE']\n      }]\n    }\n  };\n  \n  const { matchUps } = tournamentEngine.allDrawMatchUps({ drawId });\n  const matchUp = matchUps[0];\n  \n  const { validActions } = tournamentEngine.matchUpActions({\n    policyDefinitions: scheduleOnlyPolicy,\n    matchUpId: matchUp.matchUpId,\n    drawId\n  });\n  \n  const actionTypes = validActions.map(a => a.type);\n  \n  expect(actionTypes).toEqual(['SCHEDULE']);\n  expect(actionTypes).not.toContain('SCORE');\n  expect(actionTypes).not.toContain('STATUS');\n});\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"common-scenarios"},"Common Scenarios"),(0,i.yg)("h3",{id:"scenario-1-unscheduled-matchup"},"Scenario 1: Unscheduled MatchUp"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// MatchUp not yet scheduled\nmatchUpActions({ matchUpId, drawId })\n// Returns: ['SCHEDULE', 'REFEREE', 'STATUS']\n// Cannot score until scheduled and participants assigned\n")),(0,i.yg)("h3",{id:"scenario-2-scheduled-ready-to-play"},"Scenario 2: Scheduled, Ready to Play"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Both participants assigned, scheduled\nmatchUpActions({ matchUpId, drawId })\n// Returns: ['SCHEDULE', 'REFEREE', 'STATUS', 'SCORE', 'START', 'END', 'PENALTY']\n// Can now score the matchUp\n")),(0,i.yg)("h3",{id:"scenario-3-completed-matchup"},"Scenario 3: Completed MatchUp"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// MatchUp already has score and winningSide\nmatchUpActions({ matchUpId, drawId })\n// Returns: ['SCHEDULE', 'REFEREE', 'SCORE', 'PENALTY']\n// Can modify score or add penalties\n// (SUBSTITUTION blocked if substituteAfterCompleted: false)\n")),(0,i.yg)("h3",{id:"scenario-4-team-collection-matchup"},"Scenario 4: Team Collection MatchUp"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// Team event with collection positions\nmatchUpActions({ \n  matchUpId, \n  sideNumber: 1,  // Query for side 1\n  drawId \n})\n// Returns actions including team position assignments:\n// - Assign team position\n// - Replace team position  \n// - Remove team position\n// - Plus standard matchUp actions\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"notes"},"Notes"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Default Behavior"),": All actions enabled with gender/category enforcement"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Empty Arrays"),": ",(0,i.yg)("inlineCode",{parentName:"li"},"stages: []"),' means "applies to all stages"'),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Empty enabledActions"),": ",(0,i.yg)("inlineCode",{parentName:"li"},"enabledActions: []"),' means "all actions enabled"'),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"BYE MatchUps"),": Always return empty validActions with ",(0,i.yg)("inlineCode",{parentName:"li"},"isByeMatchUp: true")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Gender Enforcement"),": Prevents cross-gender assignments in gendered events"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Category Enforcement"),": Prevents cross-category assignments"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Process Codes"),": Applied automatically to substitutions for tracking"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Substitution Rules"),": Controlled by ",(0,i.yg)("inlineCode",{parentName:"li"},"substituteAfterCompleted")," and ",(0,i.yg)("inlineCode",{parentName:"li"},"substituteWithoutScore")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Policy Precedence"),": Specified policyDefinitions override attached policies"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Team Events"),": Additional actions for collection matchUps and tie positions")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"related-methods"},"Related Methods"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"tournamentEngine.matchUpActions()")," - Query available actions"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"tournamentEngine.setMatchUpStatus()")," - Execute SCORE/SCHEDULE/STATUS actions"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"tournamentEngine.addPenalty()")," - Execute PENALTY action"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"tournamentEngine.substituteParticipant()")," - Execute SUBSTITUTION action"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"tournamentEngine.assignTieMatchUpParticipantId()")," - Assign team position"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"tournamentEngine.replaceTieMatchUpParticipantId()")," - Replace team position"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"tournamentEngine.removeTieMatchUpParticipantId()")," - Remove team position")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"related-concepts"},"Related Concepts"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"/docs/concepts/actions"},"Actions")," - Understanding the actions system"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"/docs/concepts/policies"},"Policies")," - Policy system overview"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"/docs/concepts/scheduling-overview"},"Scheduling Overview")," - MatchUp scheduling concepts")))}u.isMDXComponent=!0}}]);