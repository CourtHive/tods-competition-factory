"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[6636],{2824(e,n,i){i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"concepts/tieFormat","title":"tieFormats","description":"Overview","source":"@site/docs/concepts/tieFormat.mdx","sourceDirName":"concepts","slug":"/concepts/tieFormat","permalink":"/tods-competition-factory/docs/concepts/tieFormat","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"tieFormats"},"sidebar":"docs","previous":{"title":"lineUps","permalink":"/tods-competition-factory/docs/concepts/lineUp"},"next":{"title":"Overview","permalink":"/tods-competition-factory/docs/concepts/scheduling-overview"}}');var c=i(6070),o=i(8439);const s={title:"tieFormats"},a=void 0,r={},l=[{value:"Overview",id:"overview",level:2},{value:"Value Considerations",id:"value-considerations",level:2},{value:"tieFormat Use",id:"tieformat-use",level:2},{value:"Generating Draws",id:"generating-draws",level:3},{value:"Mapping lineUps",id:"mapping-lineups",level:3},{value:"tieFormat Example",id:"tieformat-example",level:2},{value:"tieFormat and lineUp propagation",id:"tieformat-and-lineup-propagation",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,c.jsxs)(n.p,{children:["A ",(0,c.jsx)(n.code,{children:"tieFormat"})," both describes collections of singles and doubles ",(0,c.jsx)(n.code,{children:"tieMatchUps"})," which are part of a ",(0,c.jsx)(n.code,{children:"{ matchUpType: TEAM }"})," ",(0,c.jsx)(n.code,{children:"matchUp"}),", and defines the target value which must be achieved in order to win the ",(0,c.jsx)(n.code,{children:"matchUp"}),"."]}),"\n",(0,c.jsxs)(n.p,{children:["There can be any number of ",(0,c.jsx)(n.code,{children:"collectionDefinitions"})," in a ",(0,c.jsx)(n.code,{children:"tieMatchUp"}),'.\nFor instance, there can be "Men\'s Singles", "Men\'s Doubles", "Womens\'s Singles", "Women\'s Doubles", and "Mixed Doubles".']}),"\n",(0,c.jsxs)(n.p,{children:["Each ",(0,c.jsx)(n.code,{children:"collectionDefinition"})," defines how many ",(0,c.jsx)(n.code,{children:"matchUps"})," are in the collection, the ",(0,c.jsx)(n.code,{children:"matchUpType"})," (SINGLES or DOUBLES), the ",(0,c.jsx)(n.code,{children:"matchUpFormat"})," to be used for scoring, and how value is assigned to each ",(0,c.jsx)(n.code,{children:"matchUp"}),".\n",(0,c.jsx)(n.code,{children:"collectionDefinitions"})," can optionally define ",(0,c.jsx)(n.code,{children:"category"})," and ",(0,c.jsx)(n.code,{children:"gender"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"value-considerations",children:"Value Considerations"}),"\n",(0,c.jsxs)(n.p,{children:["The score of a TEAM ",(0,c.jsx)(n.code,{children:"matchUp"})," is the summation of the value assigned for the wins on each side. Value can be assigned in numerous ways.\nWhen there is no ",(0,c.jsx)(n.code,{children:"winCriteria"})," specified, the ",(0,c.jsx)(n.code,{children:"valueGoal"})," defaults to one more than half of the potential value within scope (which can be the ",(0,c.jsx)(n.code,{children:"tieFormat"}),", a ",(0,c.jsx)(n.code,{children:"collectionDefinition"}),", or a ",(0,c.jsx)(n.code,{children:"collectionGroup"}),")."]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"matchUpValue"})," - specified value is awarded for each ",(0,c.jsx)(n.code,{children:"matchUp"})," win"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"setValue"})," - specified value is awarded for each set win"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"collectionValue"})," - specified value is awarded for winning a collection"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"collecitonValueProfile"})," - unique values are specified for each ",(0,c.jsx)(n.code,{children:"collectionPosition"})," within a collection"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"groupValue"})," - specified value is awarded for reaching a ",(0,c.jsx)(n.code,{children:"valueGoal"})," by accumulating value across collections in the group"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"scoreValue"})," - specified value is awarded for each sideScore (typically 1, typically used with ",(0,c.jsx)(n.code,{children:"aggregateValue"})," formats)"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["See ",(0,c.jsx)(n.a,{href:"../types/typedefs#tieformat",children:"tieFormat type definitions"})]}),"\n",(0,c.jsx)(n.h2,{id:"tieformat-use",children:"tieFormat Use"}),"\n",(0,c.jsx)(n.h3,{id:"generating-draws",children:"Generating Draws"}),"\n",(0,c.jsxs)(n.p,{children:["The generation of ",(0,c.jsx)(n.code,{children:"drawDefinitions"})," requires a ",(0,c.jsx)(n.code,{children:"tieFormat"})," to determine how many ",(0,c.jsx)(n.code,{children:"tieMatchUps"})," for each collection are contained in the ",(0,c.jsx)(n.code,{children:"matchUp"})," between two teams.\nWhen ",(0,c.jsx)(n.code,{children:"tieMatchUps"})," are generated they are assigned a ",(0,c.jsx)(n.code,{children:"collectionId"})," and a ",(0,c.jsx)(n.code,{children:"collectionPosition"}),".\nIf there are six ",(0,c.jsx)(n.code,{children:"tieMatchUps"})," in a collection, they will be assigned ",(0,c.jsx)(n.code,{children:"collectionPositions"})," ",(0,c.jsx)(n.strong,{children:"1-6"}),"."]}),"\n",(0,c.jsx)(n.h3,{id:"mapping-lineups",children:"Mapping lineUps"}),"\n",(0,c.jsxs)(n.p,{children:["A ",(0,c.jsx)(n.code,{children:"tieFormat"})," determines the relationship between a team's ",(0,c.jsx)(n.code,{children:"lineUp"})," and the ",(0,c.jsx)(n.code,{children:"tieMatchUps"})," within a ",(0,c.jsx)(n.code,{children:"matchUp"})," by defining the mapping between ",(0,c.jsx)(n.code,{children:"collectionIds"}),", ",(0,c.jsx)(n.code,{children:"collectionPositions"})," and participant ",(0,c.jsx)(n.code,{children:"collectionAssignments"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"tieformat-example",children:"tieFormat Example"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["each ",(0,c.jsx)(n.strong,{children:"SINGLES matchUp"})," has a value of ",(0,c.jsx)(n.strong,{children:"1"})]}),"\n",(0,c.jsxs)(n.li,{children:["the entire ",(0,c.jsx)(n.strong,{children:"DOUBLES Collection"})," has a value of ",(0,c.jsx)(n.strong,{children:"1"})]}),"\n",(0,c.jsxs)(n.li,{children:["the ",(0,c.jsx)(n.code,{children:"valueGoal"})," is ",(0,c.jsx)(n.strong,{children:"4"})]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"const tieFormat = {\n  winCriteria: {\n    valueGoal: 4, // the value that must be achieved to win the match\n  },\n  collectionDefinitions: [\n    {\n      collectionId: 'singlesCollectionId',\n      collectionGroupNumber: 1, // optional, if there are groups\n      collectionName: 'Singles',\n      matchUpFormat: 'SET3-S:6/TB7',\n      matchUpType: SINGLES,\n      matchUpCount: 6,\n      matchUpValue: 1, // value awarded for each matchUp win\n    },\n    {\n      collectionId: 'doublesCollectionId',\n      collectionGroupNumber: 1, // optional, if there are groups\n      collectionName: 'Doubles',\n      collectionValue: 1, // value awarded for winning one more than half of the matchUps in the collection\n      matchUpFormat: 'SET3-S:6/TB7-F:TB10',\n      matchUpType: DOUBLES,\n      matchUpCount: 3,\n    },\n  ],\n  // optional group details\n  collectionGroups: [\n    {\n      groupName: 'Day 1', // used to group collections, e.g. Laver Cup\n      groupNumber: 1,\n    },\n  ],\n};\n"})}),"\n",(0,c.jsx)(n.h2,{id:"tieformat-and-lineup-propagation",children:"tieFormat and lineUp propagation"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"tieFormats"})," can be attached to a tournament record at multiple levels wthin the hierarchy ",(0,c.jsx)(n.code,{children:"event"})," > ",(0,c.jsx)(n.code,{children:"drawDefinition"})," > ",(0,c.jsx)(n.code,{children:"structure"})," > ",(0,c.jsx)(n.code,{children:"matchUp"}),".\nThis means that when a ",(0,c.jsx)(n.code,{children:"tieFormat"})," is not present on a ",(0,c.jsx)(n.code,{children:"matchUp"})," the definition is resolved by walking the hierarchy.\nWhen a ",(0,c.jsx)(n.code,{children:"matchUp"})," is scored, the appropriate ",(0,c.jsx)(n.code,{children:"tieFormat"})," is attached to the ",(0,c.jsx)(n.code,{children:"matchUp"}),".\nThis is necessary because at any point in a ",(0,c.jsx)(n.code,{children:"structure"})," or ",(0,c.jsx)(n.code,{children:"drawDefinition"})," the scoped ",(0,c.jsx)(n.code,{children:"tieFormat"})," may be edite/changed;\nfor instance, if there is a rain delay, the format may be shortened for ",(0,c.jsx)(n.code,{children:"matchUps"})," which have not yet been played.\nThe mapping between ",(0,c.jsx)(n.code,{children:"participants"})," in a ",(0,c.jsx)(n.code,{children:"lineUp"})," must be preserved for ",(0,c.jsx)(n.code,{children:"matchUps"})," which are IN_PROGRESS or COMPLETED."]}),"\n",(0,c.jsxs)(n.p,{children:["As TEAM ",(0,c.jsx)(n.code,{children:"participants"})," progress through draw ",(0,c.jsx)(n.code,{children:"structures"})," the most recent ",(0,c.jsx)(n.code,{children:"lineUp"})," is saved (via an ",(0,c.jsx)(n.code,{children:"extension"})," on the ",(0,c.jsx)(n.code,{children:"drawDefinition"}),") such that it can be propagated to subsequent ",(0,c.jsx)(n.code,{children:"matchUps"}),".\nWhen a ",(0,c.jsx)(n.code,{children:"matchUp"})," is scored or the ",(0,c.jsx)(n.code,{children:"lineUp"})," changes, the ",(0,c.jsx)(n.code,{children:"lineUp"})," is saved directly to the target ",(0,c.jsx)(n.code,{children:"matchUp"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8439(e,n,i){i.d(n,{R:()=>s,x:()=>a});var t=i(758);const c={},o=t.createContext(c);function s(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);