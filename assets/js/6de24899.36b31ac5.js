"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[6898],{3805:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>u});var a=t(758);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(t),m=r,u=d["".concat(l,".").concat(m)]||d[m]||g[m]||i;return t?a.createElement(u,o(o({ref:n},c),{},{components:t})):a.createElement(u,o({ref:n},c))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6519:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var a=t(2232),r=(t(758),t(3805));const i={title:"Tournament Generation"},o="Tournament Generation",s={unversionedId:"testing/mocks-engine-tournament-generation",id:"testing/mocks-engine-tournament-generation",title:"Tournament Generation",description:"The generateTournamentRecord method is the primary tool for creating complete tournament structures for testing. It can generate everything from simple tournaments to complex multi-event, multi-venue competitions.",source:"@site/docs/testing/mocks-engine-tournament-generation.md",sourceDirName:"testing",slug:"/testing/mocks-engine-tournament-generation",permalink:"/tods-competition-factory/docs/testing/mocks-engine-tournament-generation",draft:!1,tags:[],version:"current",frontMatter:{title:"Tournament Generation"},sidebar:"docs",previous:{title:"Getting Started with mocksEngine",permalink:"/tods-competition-factory/docs/testing/mocks-engine-getting-started"},next:{title:"Participant Generation",permalink:"/tods-competition-factory/docs/testing/mocks-engine-participants"}},l={},p=[{value:"Basic Syntax",id:"basic-syntax",level:2},{value:"Complete Options Reference",id:"complete-options-reference",level:2},{value:"Tournament Properties",id:"tournament-properties",level:2},{value:"Basic Properties",id:"basic-properties",level:3},{value:"Custom Tournament ID",id:"custom-tournament-id",level:3},{value:"Auto-Loading with setState",id:"auto-loading-with-setstate",level:3},{value:"Tournament Extensions",id:"tournament-extensions",level:3},{value:"Using drawProfiles",id:"using-drawprofiles",level:2},{value:"Basic Draw",id:"basic-draw",level:3},{value:"Multiple Draws",id:"multiple-draws",level:3},{value:"Draw Types",id:"draw-types",level:3},{value:"Event Types",id:"event-types",level:3},{value:"Seeding",id:"seeding",level:3},{value:"BYEs",id:"byes",level:3},{value:"MatchUp Format",id:"matchup-format",level:3},{value:"Unique Participants",id:"unique-participants",level:3},{value:"Draw-Specific Participant Profiles",id:"draw-specific-participant-profiles",level:3},{value:"Preventing Draw Generation",id:"preventing-draw-generation",level:3},{value:"Using eventProfiles",id:"using-eventprofiles",level:2},{value:"Basic Event Profile",id:"basic-event-profile",level:3},{value:"Draw with Qualifying Structure",id:"draw-with-qualifying-structure",level:3},{value:"Multiple Draws in One Event",id:"multiple-draws-in-one-event",level:3},{value:"Event Properties",id:"event-properties",level:3},{value:"Event Extensions",id:"event-extensions",level:3},{value:"Event-Level Participant Profiles",id:"event-level-participant-profiles",level:3},{value:"Participant Profile Hierarchy",id:"participant-profile-hierarchy",level:3},{value:"Event with Playoff Structures",id:"event-with-playoff-structures",level:3},{value:"Completing MatchUps",id:"completing-matchups",level:2},{value:"Complete All Matches",id:"complete-all-matches",level:3},{value:"Complete Specific Matches",id:"complete-specific-matches",level:3},{value:"Complete by Draw Positions",id:"complete-by-draw-positions",level:3},{value:"Match Status Variations",id:"match-status-variations",level:3},{value:"Completion Goal",id:"completion-goal",level:3},{value:"Match Status Distribution",id:"match-status-distribution",level:3},{value:"ID Prefixes",id:"id-prefixes",level:2},{value:"Match ID Prefixes",id:"match-id-prefixes",level:3},{value:"Participant ID Prefixes",id:"participant-id-prefixes",level:3},{value:"Policy Definitions",id:"policy-definitions",level:2},{value:"Tournament-Level Policies",id:"tournament-level-policies",level:3},{value:"Event-Level Policies",id:"event-level-policies",level:3},{value:"Draw-Level Policies",id:"draw-level-policies",level:3},{value:"Complex Examples",id:"complex-examples",level:2},{value:"Multi-Event Tournament with Qualifying",id:"multi-event-tournament-with-qualifying",level:3},{value:"Round Robin with Playoffs",id:"round-robin-with-playoffs",level:3},{value:"Team Event with Tie Format",id:"team-event-with-tie-format",level:3},{value:"Tips and Best Practices",id:"tips-and-best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}],c={toc:p},d="wrapper";function g({components:e,...n}){return(0,r.yg)(d,(0,a.A)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"tournament-generation"},"Tournament Generation"),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"generateTournamentRecord")," method is the primary tool for creating complete tournament structures for testing. It can generate everything from simple tournaments to complex multi-event, multi-venue competitions."),(0,r.yg)("h2",{id:"basic-syntax"},"Basic Syntax"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const {\n  tournamentRecord, // The complete tournament object\n  eventIds, // Array of generated event IDs\n  drawIds, // Array of generated draw IDs\n  venueIds, // Array of generated venue IDs\n} = mocksEngine.generateTournamentRecord(options);\n")),(0,r.yg)("h2",{id:"complete-options-reference"},"Complete Options Reference"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript"},"interface GenerateTournamentRecordOptions {\n  // Tournament Properties\n  startDate?: string; // ISO date string (default: today)\n  endDate?: string; // ISO date string (default: startDate + 6 days)\n  tournamentAttributes?: object; // Additional tournament properties\n  tournamentExtensions?: array; // Extensions to attach to tournament\n  tournamentId?: string; // Override generated ID\n\n  // Convenience\n  setState?: boolean; // Auto-load into tournamentEngine (default: false)\n\n  // Participants\n  participantsProfile?: {\n    // See Participant Generation docs\n    participantsCount?: number; // Default: 32\n    participantType?: string; // 'INDIVIDUAL', 'PAIR', 'TEAM'\n    sex?: string; // 'MALE', 'FEMALE'\n    // ... see participantsProfile section\n  };\n\n  // Draws\n  drawProfiles?: array; // Array of draw configurations\n  eventProfiles?: array; // Array of event configurations\n\n  // Venues\n  venueProfiles?: array; // Array of venue configurations\n\n  // Scheduling\n  schedulingProfile?: array; // Scheduling directives\n  autoSchedule?: boolean; // Auto-schedule using profile\n\n  // Match Completion\n  completeAllMatchUps?: boolean; // Complete all generated matchUps\n  randomWinningSide?: boolean; // Random winners (default: false = side 1 wins)\n  matchUpStatusProfile?: object; // Control matchUp status distribution\n\n  // IDs\n  uuids?: array; // Pre-defined UUIDs for entities\n\n  // Policies\n  policyDefinitions?: object; // Attach policy definitions\n}\n")),(0,r.yg)("h2",{id:"tournament-properties"},"Tournament Properties"),(0,r.yg)("admonition",{title:"Sex vs Gender",type:"note"},(0,r.yg)("p",{parentName:"admonition"},"In the TODS data model:"),(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Persons have ",(0,r.yg)("inlineCode",{parentName:"strong"},"sex"))," - A biological attribute (MALE/FEMALE) stored in ",(0,r.yg)("inlineCode",{parentName:"li"},"person.sex")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Events have ",(0,r.yg)("inlineCode",{parentName:"strong"},"gender"))," - A competition category attribute (MALE/FEMALE/MIXED/ANY) stored in ",(0,r.yg)("inlineCode",{parentName:"li"},"event.gender"))),(0,r.yg)("p",{parentName:"admonition"},"Use ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile.sex")," to generate participants with specific person sex attributes. Use ",(0,r.yg)("inlineCode",{parentName:"p"},"event.gender")," or ",(0,r.yg)("inlineCode",{parentName:"p"},"drawProfile.gender")," to categorize the competition.")),(0,r.yg)("h3",{id:"basic-properties"},"Basic Properties"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  startDate: '2024-06-01',\n  endDate: '2024-06-07',\n  tournamentAttributes: {\n    tournamentName: 'Summer Championships',\n    tournamentRank: 'GOLD',\n    indoorOutdoor: 'OUTDOOR',\n  },\n});\n")),(0,r.yg)("h3",{id:"custom-tournament-id"},"Custom Tournament ID"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const tournamentId = 'my-custom-id';\nconst { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  tournamentId,\n  drawProfiles: [{ drawSize: 16 }],\n});\n\nconsole.log(tournamentRecord.tournamentId); // 'my-custom-id'\n")),(0,r.yg)("h3",{id:"auto-loading-with-setstate"},"Auto-Loading with setState"),(0,r.yg)("p",null,"For convenience, automatically load the generated tournament into the engine:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [{ drawSize: 16 }],\n  setState: true, // Automatically calls tournamentEngine.setState(tournamentRecord)\n});\n\n// Tournament is already loaded - no need to call setState manually\nconst { matchUps } = tournamentEngine.allTournamentMatchUps();\n")),(0,r.yg)("p",null,"This is especially useful in test setup where you want to immediately work with the tournament:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"beforeEach(() => {\n  mocksEngine.generateTournamentRecord({\n    drawProfiles: [{ drawSize: 32 }],\n    venueProfiles: [{ courtsCount: 8 }],\n    setState: true, // Ready to use tournamentEngine immediately\n  });\n});\n\ntest('can schedule matches', () => {\n  // tournamentEngine already has the tournament loaded\n  const { matchUps } = tournamentEngine.allTournamentMatchUps();\n  // ... test scheduling\n});\n")),(0,r.yg)("h3",{id:"tournament-extensions"},"Tournament Extensions"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  tournamentExtensions: [\n    {\n      name: 'customData',\n      value: { region: 'Southwest', tier: 1 },\n    },\n  ],\n});\n")),(0,r.yg)("h2",{id:"using-drawprofiles"},"Using drawProfiles"),(0,r.yg)("p",null,"Draw profiles define the structure of draws within events. Each profile creates a separate event with a single draw."),(0,r.yg)("admonition",{title:"Scoped Participant Generation",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"Each ",(0,r.yg)("inlineCode",{parentName:"p"},"drawProfile")," can include its own ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile")," to generate participants specifically for that draw, overriding or extending the tournament-level ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile"),". This is useful when you need different participant demographics for different events.")),(0,r.yg)("h3",{id:"basic-draw"},"Basic Draw"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    { drawSize: 32 }, // Creates 32-draw single elimination singles event\n  ],\n});\n")),(0,r.yg)("h3",{id:"multiple-draws"},"Multiple Draws"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord, drawIds, eventIds } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    { drawSize: 32, eventType: 'SINGLES' },\n    { drawSize: 16, eventType: 'DOUBLES' },\n    { drawSize: 8, eventType: 'SINGLES', drawType: 'ROUND_ROBIN' },\n  ],\n});\n\nconsole.log(eventIds.length); // 3 events\nconsole.log(drawIds.length); // 3 draws\n")),(0,r.yg)("h3",{id:"draw-types"},"Draw Types"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    { drawSize: 16, drawType: 'SINGLE_ELIMINATION' }, // Default\n    { drawSize: 16, drawType: 'ROUND_ROBIN' },\n    { drawSize: 16, drawType: 'COMPASS' },\n    { drawSize: 16, drawType: 'FEED_IN_CHAMPIONSHIP' },\n    { drawSize: 16, drawType: 'FIRST_MATCH_LOSER_CONSOLATION' },\n    { drawSize: 16, drawType: 'ROUND_ROBIN_WITH_PLAYOFF' },\n  ],\n});\n")),(0,r.yg)("h3",{id:"event-types"},"Event Types"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    { drawSize: 32, eventType: 'SINGLES' }, // Default\n    { drawSize: 16, eventType: 'DOUBLES' },\n    { drawSize: 4, eventType: 'TEAM' },\n  ],\n});\n")),(0,r.yg)("h3",{id:"seeding"},"Seeding"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 32,\n      seedsCount: 8, // Top 8 participants will be seeded\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"byes"},"BYEs"),(0,r.yg)("p",null,"Create draws with fewer participants than positions:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 32,\n      participantsCount: 28, // Creates 4 BYEs\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"matchup-format"},"MatchUp Format"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 16,\n      matchUpFormat: 'SET3-S:6/TB7',\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"unique-participants"},"Unique Participants"),(0,r.yg)("p",null,"Force generation of unique participants for each draw:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    { drawSize: 16, uniqueParticipants: true },\n    { drawSize: 16, uniqueParticipants: true },\n  ],\n});\n// Each draw will have completely different participants\n")),(0,r.yg)("h3",{id:"draw-specific-participant-profiles"},"Draw-Specific Participant Profiles"),(0,r.yg)("p",null,"Each ",(0,r.yg)("inlineCode",{parentName:"p"},"drawProfile")," can include its own ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile")," to generate participants with specific demographics:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 32,\n      eventType: 'SINGLES',\n      gender: 'FEMALE',             // Event gender category\n      participantsProfile: {\n        sex: 'FEMALE',              // Person sex - generates female participants\n        category: {\n          categoryName: 'U18',\n          ageCategoryCode: 'U18',\n        },\n        scaleAllParticipants: true, // All get ratings\n      },\n    },\n    {\n      drawSize: 16,\n      eventType: 'DOUBLES',\n      gender: 'MALE',               // Event gender category\n      participantsProfile: {\n        sex: 'MALE',                // Person sex - generates male participants\n        nationalityCodes: ['USA', 'CAN', 'MEX'], // North American players\n      },\n    },\n  ],\n});\n")),(0,r.yg)("p",null,"This creates two separate participant pools - one for each event. Draw-level ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile")," properties override tournament-level settings:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  // Tournament-level (applies to all draws by default)\n  participantsProfile: {\n    participantsCount: 100,\n    sex: 'FEMALE',\n  },\n  drawProfiles: [\n    {\n      drawSize: 32,\n      // Uses tournament-level participantsProfile (FEMALE)\n    },\n    {\n      drawSize: 16,\n      participantsProfile: {\n        sex: 'MALE', // Overrides tournament-level to create MALE participants\n      },\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"preventing-draw-generation"},"Preventing Draw Generation"),(0,r.yg)("p",null,"Create events without generating the draw structure:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 32,\n      generate: false, // Creates event with entries, but no draw\n    },\n  ],\n});\n")),(0,r.yg)("h2",{id:"using-eventprofiles"},"Using eventProfiles"),(0,r.yg)("p",null,"Event profiles allow more complex event configurations with multiple draws per event."),(0,r.yg)("admonition",{title:"Event-Level Participant Profiles",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"Like ",(0,r.yg)("inlineCode",{parentName:"p"},"drawProfile"),", each ",(0,r.yg)("inlineCode",{parentName:"p"},"eventProfile")," can include its own ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile")," to generate participants specifically for that event. This applies to all draws within the event unless a draw overrides it with its own ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile"),".")),(0,r.yg)("h3",{id:"basic-event-profile"},"Basic Event Profile"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  eventProfiles: [\n    {\n      eventName: 'U18 Singles',\n      eventType: 'SINGLES',\n      category: { ageCategoryCode: 'U18' },\n      drawProfiles: [{ drawSize: 32 }],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"draw-with-qualifying-structure"},"Draw with Qualifying Structure"),(0,r.yg)("admonition",{title:"Qualifying as a Stage",type:"important"},(0,r.yg)("p",{parentName:"admonition"},"In the Tennis Open Data Standards (TODS), ",(0,r.yg)("strong",{parentName:"p"},"qualifying is a stage within a draw"),", not a separate draw. A drawDefinition describes how participants move between structures (QUALIFYING \u2192 MAIN). Use ",(0,r.yg)("inlineCode",{parentName:"p"},"qualifyingProfiles")," to create qualifying structures within a single draw."),(0,r.yg)("p",{parentName:"admonition"},"Do ",(0,r.yg)("strong",{parentName:"p"},"NOT")," create separate draws with ",(0,r.yg)("inlineCode",{parentName:"p"},"stage: 'QUALIFYING'")," - this violates the TODS structure where draws describe participant progression between stages.")),(0,r.yg)("p",null,"Use ",(0,r.yg)("inlineCode",{parentName:"p"},"qualifyingProfiles")," to create qualifying structures within a single draw:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 32,\n      drawName: 'Singles Championship',\n      qualifiersCount: 8,  // 8 positions for qualifiers in main draw\n      qualifyingProfiles: [\n        {\n          roundTarget: 1,  // Which round of main draw qualifiers enter\n          structureProfiles: [\n            {\n              stageSequence: 1,\n              drawSize: 16,  // 16 players compete for 8 qualifying spots\n              seedsCount: 4,\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"multiple-draws-in-one-event"},"Multiple Draws in One Event"),(0,r.yg)("p",null,"For truly separate competitions (not qualifying):"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  eventProfiles: [\n    {\n      eventName: 'Championships',\n      eventType: 'SINGLES',\n      drawProfiles: [\n        { drawSize: 32, drawName: 'U18 Draw' },\n        { drawSize: 16, drawName: 'U16 Draw' },\n      ],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"event-properties"},"Event Properties"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  eventProfiles: [\n    {\n      eventName: \"Women's Doubles\",\n      eventType: 'DOUBLES',\n      gender: 'FEMALE',\n      category: {\n        ageCategoryCode: 'OPEN',\n        categoryName: 'Open',\n      },\n      matchUpFormat: 'SET3-S:6/TB7-F:TB10',\n      surfaceCategory: 'CLAY',\n      ballType: 'REGULAR_DUTY',\n      drawProfiles: [{ drawSize: 16 }],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"event-extensions"},"Event Extensions"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  eventProfiles: [\n    {\n      eventName: 'Singles',\n      eventExtensions: [\n        {\n          name: 'prizeMoney',\n          value: { currency: 'USD', total: 50000 },\n        },\n      ],\n      drawProfiles: [{ drawSize: 32 }],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"event-level-participant-profiles"},"Event-Level Participant Profiles"),(0,r.yg)("p",null,"Each ",(0,r.yg)("inlineCode",{parentName:"p"},"eventProfile")," can include a ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile")," that applies to all draws within that event:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  eventProfiles: [\n    {\n      eventName: 'Women\\'s Championship',\n      eventType: 'SINGLES',\n      gender: 'FEMALE',\n      // Event-level participantsProfile\n      participantsProfile: {\n        sex: 'FEMALE',\n        participantsCount: 128,\n        category: {\n          categoryName: 'Open',\n          ratingType: 'WTN',\n        },\n        scaleAllParticipants: true,\n      },\n      drawProfiles: [\n        {\n          drawSize: 64,\n          drawName: 'Singles Championship',\n          qualifiersCount: 16,  // 16 qualifying positions\n          qualifyingProfiles: [\n            {\n              roundTarget: 1,\n              structureProfiles: [\n                {\n                  stageSequence: 1,\n                  drawSize: 32,  // 32 players compete for 16 spots\n                  seedsCount: 8,\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"participant-profile-hierarchy"},"Participant Profile Hierarchy"),(0,r.yg)("p",null,"The participant generation follows this priority order:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Draw-level")," ",(0,r.yg)("inlineCode",{parentName:"li"},"participantsProfile")," (highest priority)"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Event-level")," ",(0,r.yg)("inlineCode",{parentName:"li"},"participantsProfile")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Tournament-level")," ",(0,r.yg)("inlineCode",{parentName:"li"},"participantsProfile")," (lowest priority)")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  // Tournament-level (default for all)\n  participantsProfile: {\n    participantsCount: 200,\n    nationalityCodes: ['USA', 'CAN'],\n  },\n  eventProfiles: [\n    {\n      eventName: 'International Singles',\n      // Event-level (overrides tournament-level for this event)\n      participantsProfile: {\n        nationalityCodes: ['GBR', 'FRA', 'ESP'],  // Overrides tournament-level\n        sex: 'FEMALE',                             // Adds to tournament-level\n      },\n      drawProfiles: [\n        {\n          drawSize: 32,\n          // Uses event-level participantsProfile\n        },\n        {\n          drawSize: 16,\n          // Draw-level (overrides both)\n          participantsProfile: {\n            nationalityCodes: ['JPN', 'CHN', 'KOR'],  // Asian players only\n          },\n        },\n      ],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"event-with-playoff-structures"},"Event with Playoff Structures"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 16,\n      drawType: 'SINGLE_ELIMINATION',\n      withPlayoffs: {\n        roundProfiles: [{ 3: 1 }, { 4: 1 }], // Create playoffs from rounds 3 and 4\n        playoffPositions: [3, 4], // For 3rd/4th place\n        playoffAttributes: {\n          '0-3': { name: 'Bronze', abbreviation: 'B' },\n          '0-4': { name: 'Gold', abbreviation: 'G' },\n        },\n      },\n    },\n  ],\n});\n")),(0,r.yg)("h2",{id:"completing-matchups"},"Completing MatchUps"),(0,r.yg)("h3",{id:"complete-all-matches"},"Complete All Matches"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [{ drawSize: 16 }],\n  completeAllMatchUps: true,\n  randomWinningSide: true, // Random winners, otherwise side 1 always wins\n});\n")),(0,r.yg)("h3",{id:"complete-specific-matches"},"Complete Specific Matches"),(0,r.yg)("p",null,"Using ",(0,r.yg)("inlineCode",{parentName:"p"},"outcomes")," in draw profiles:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 16,\n      outcomes: [\n        {\n          roundNumber: 1,\n          roundPosition: 1,\n          scoreString: '6-4 6-2',\n          winningSide: 1,\n        },\n        {\n          roundNumber: 1,\n          roundPosition: 2,\n          scoreString: '7-6(3) 3-6 6-3',\n          winningSide: 2,\n        },\n      ],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"complete-by-draw-positions"},"Complete by Draw Positions"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 16,\n      outcomes: [\n        {\n          drawPositions: [1, 2], // Match between positions 1 and 2\n          scoreString: '6-4 6-2',\n          winningSide: 1,\n        },\n      ],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"match-status-variations"},"Match Status Variations"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 16,\n      outcomes: [\n        { roundNumber: 1, roundPosition: 1, matchUpStatus: 'COMPLETED', winningSide: 1 },\n        { roundNumber: 1, roundPosition: 2, matchUpStatus: 'RETIRED', winningSide: 1 },\n        { roundNumber: 1, roundPosition: 3, matchUpStatus: 'WALKOVER', winningSide: 2 },\n        { roundNumber: 1, roundPosition: 4, matchUpStatus: 'DEFAULTED', winningSide: 1 },\n      ],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"completion-goal"},"Completion Goal"),(0,r.yg)("p",null,"Complete a specific number of matches:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 32,\n      completionGoal: 10, // Complete first 10 matchUps\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"match-status-distribution"},"Match Status Distribution"),(0,r.yg)("p",null,"Control the distribution of match statuses across completed matches:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [{ drawSize: 16 }],\n  completeAllMatchUps: true,\n  matchUpStatusProfile: {\n    COMPLETED: 80, // 80% completed normally\n    RETIRED: 10, // 10% retirements\n    WALKOVER: 5, // 5% walkovers\n    DEFAULTED: 5, // 5% defaults\n  },\n});\n")),(0,r.yg)("h2",{id:"id-prefixes"},"ID Prefixes"),(0,r.yg)("h3",{id:"match-id-prefixes"},"Match ID Prefixes"),(0,r.yg)("p",null,"Create readable matchUp IDs for easier debugging:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 8,\n      idPrefix: 'match',\n    },\n  ],\n});\n\n// MatchUp IDs will be: match-1-1, match-1-2, match-1-3, match-1-4\n//                      match-2-1, match-2-2\n//                      match-3-1\n")),(0,r.yg)("h3",{id:"participant-id-prefixes"},"Participant ID Prefixes"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  participantsProfile: {\n    participantsCount: 32,\n    idPrefix: 'player',\n  },\n  drawProfiles: [{ drawSize: 16 }],\n});\n\n// Participant IDs will be: player-I-0, player-I-1, etc. (I = Individual)\n")),(0,r.yg)("h2",{id:"policy-definitions"},"Policy Definitions"),(0,r.yg)("p",null,"Attach policies to tournaments, events, or specific draws. Like ",(0,r.yg)("inlineCode",{parentName:"p"},"participantsProfile"),", policies can be scoped at multiple levels."),(0,r.yg)("admonition",{title:"Policy Definition Hierarchy",type:"note"},(0,r.yg)("p",{parentName:"admonition"},(0,r.yg)("strong",{parentName:"p"},"policyDefinitions")," can be specified at three levels with the following priority:"),(0,r.yg)("ol",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Draw-level")," (within drawProfile) - highest priority, applies only to that draw"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Event-level")," (within eventProfile) - applies to all draws in that event"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Tournament-level")," (root level) - applies to all draws unless overridden")),(0,r.yg)("p",{parentName:"admonition"},"This allows you to specify different policies for different events or draws within the same tournament.")),(0,r.yg)("h3",{id:"tournament-level-policies"},"Tournament-Level Policies"),(0,r.yg)("p",null,"Policies applied at the tournament level affect all events and draws:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import POLICY_SCHEDULING_DEFAULT from '@Fixtures/policies/POLICY_SCHEDULING_DEFAULT';\n\nconst { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  policyDefinitions: POLICY_SCHEDULING_DEFAULT,\n  drawProfiles: [{ drawSize: 16 }],\n});\n")),(0,r.yg)("h3",{id:"event-level-policies"},"Event-Level Policies"),(0,r.yg)("p",null,"Policies applied to an event affect all draws within that event:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  eventProfiles: [\n    {\n      eventName: 'Singles',\n      policyDefinitions: {\n        scoring: {\n          /* scoring policy */\n        },\n        avoidance: {\n          /* avoidance policy */\n        },\n      },\n      drawProfiles: [{ drawSize: 32 }],\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"draw-level-policies"},"Draw-Level Policies"),(0,r.yg)("p",null,"Policies applied to a specific draw override event and tournament-level policies:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"import { POLICY_SEEDING_ITF, POLICY_SEEDING_USTA } from '@Fixtures/policies/seeding';\n\nconst { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  // Tournament-level default\n  policyDefinitions: POLICY_SEEDING_USTA,\n  \n  drawProfiles: [\n    {\n      drawSize: 32,\n      drawName: 'Professional Draw',\n      // Draw-level override\n      policyDefinitions: POLICY_SEEDING_ITF,  // This draw uses ITF seeding\n    },\n    {\n      drawSize: 16,\n      drawName: 'Amateur Draw',\n      // Uses tournament-level USTA seeding\n    },\n  ],\n});\n")),(0,r.yg)("h2",{id:"complex-examples"},"Complex Examples"),(0,r.yg)("h3",{id:"multi-event-tournament-with-qualifying"},"Multi-Event Tournament with Qualifying"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord, eventIds } = mocksEngine.generateTournamentRecord({\n  startDate: '2024-06-01',\n  endDate: '2024-06-14',\n  participantsProfile: {\n    participantsCount: 128,\n    sex: 'MALE',\n  },\n  eventProfiles: [\n    {\n      eventName: \"Men's Singles\",\n      eventType: 'SINGLES',\n      gender: 'MALE',\n      drawProfiles: [\n        {\n          drawSize: 64,\n          drawName: 'Singles Championship',\n          seedsCount: 16,\n          qualifiersCount: 8,  // 8 qualifier positions in main draw\n          qualifyingProfiles: [\n            {\n              roundTarget: 1,\n              structureProfiles: [\n                {\n                  stageSequence: 1,\n                  drawSize: 16,  // 16 players for 8 qualifying spots\n                  seedsCount: 4,\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n    {\n      eventName: \"Men's Doubles\",\n      eventType: 'DOUBLES',\n      gender: 'MALE',\n      drawProfiles: [\n        {\n          drawSize: 32,\n          seedsCount: 8,\n        },\n      ],\n    },\n  ],\n  venueProfiles: [\n    {\n      venueName: 'Championship Courts',\n      courtsCount: 12,\n    },\n  ],\n});\n")),(0,r.yg)("h3",{id:"round-robin-with-playoffs"},"Round Robin with Playoffs"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 16,\n      drawType: 'ROUND_ROBIN_WITH_PLAYOFF',\n      seedsCount: 4,\n    },\n  ],\n  completeAllMatchUps: true,\n});\n")),(0,r.yg)("h3",{id:"team-event-with-tie-format"},"Team Event with Tie Format"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"const { tournamentRecord } = mocksEngine.generateTournamentRecord({\n  drawProfiles: [\n    {\n      drawSize: 8,\n      eventType: 'TEAM',\n      tieFormat: {\n        collectionDefinitions: [\n          {\n            collectionName: 'Singles',\n            matchUpType: 'SINGLES',\n            matchUpCount: 3,\n            matchUpFormat: 'SET3-S:6/TB7',\n          },\n          {\n            collectionName: 'Doubles',\n            matchUpType: 'DOUBLES',\n            matchUpCount: 1,\n            matchUpFormat: 'SET3-S:6/TB7',\n          },\n        ],\n      },\n    },\n  ],\n});\n")),(0,r.yg)("h2",{id:"tips-and-best-practices"},"Tips and Best Practices"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Start with drawProfiles")," for simple scenarios, use ",(0,r.yg)("strong",{parentName:"li"},"eventProfiles")," for complex multi-draw events"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Use idPrefix")," during development for easier debugging"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Set completeAllMatchUps")," when testing post-match logic"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Use unique participants")," when testing cross-event conflicts"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Specify matchUpFormat")," when testing format-specific logic"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Leverage outcomes")," to set up specific match scenarios"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Use completionGoal")," to test partial tournament completion")),(0,r.yg)("h2",{id:"next-steps"},"Next Steps"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"/tods-competition-factory/docs/testing/mocks-engine-participants"},"Participant Generation"))," - Individual, pairs and teams"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"/tods-competition-factory/docs/testing/mocks-engine-outcomes"},"Outcome Generation"))," - Generating match results"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},(0,r.yg)("a",{parentName:"strong",href:"/tods-competition-factory/docs/testing/mocks-engine-patterns"},"Advanced Patterns"))," - Best practices and common patterns")))}g.isMDXComponent=!0}}]);