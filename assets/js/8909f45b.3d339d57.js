"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[4212],{1153(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"scoring-engine/scoring-engine-api","title":"Core API Reference","description":"Complete method reference for the ScoringEngine class.","source":"@site/docs/scoring-engine/scoring-engine-api.md","sourceDirName":"scoring-engine","slug":"/scoring-engine/scoring-engine-api","permalink":"/competition-factory/docs/scoring-engine/scoring-engine-api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Core API Reference"},"sidebar":"docs","previous":{"title":"Overview","permalink":"/competition-factory/docs/scoring-engine/scoring-engine-overview"},"next":{"title":"Event Handlers & Integration","permalink":"/competition-factory/docs/scoring-engine/event-handlers"}}');var i=t(6070),r=t(8322);const a={title:"Core API Reference"},d=void 0,o={},c=[{value:"Scoring Methods",id:"scoring-methods",level:2},{value:"addPoint",id:"addpoint",level:3},{value:"addGame",id:"addgame",level:3},{value:"addSet",id:"addset",level:3},{value:"endSegment",id:"endsegment",level:3},{value:"setInitialScore",id:"setinitialscore",level:3},{value:"State Management",id:"state-management",level:2},{value:"setState",id:"setstate",level:3},{value:"getState",id:"getstate",level:3},{value:"reset",id:"reset",level:3},{value:"Undo / Redo",id:"undo--redo",level:2},{value:"undo",id:"undo",level:3},{value:"redo",id:"redo",level:3},{value:"canUndo",id:"canundo",level:3},{value:"canRedo",id:"canredo",level:3},{value:"getUndoDepth",id:"getundodepth",level:3},{value:"getRedoDepth",id:"getredodepth",level:3},{value:"Score Queries",id:"score-queries",level:2},{value:"getScore",id:"getscore",level:3},{value:"getScoreboard",id:"getscoreboard",level:3},{value:"getWinner",id:"getwinner",level:3},{value:"isComplete",id:"iscomplete",level:3},{value:"getPointCount",id:"getpointcount",level:3},{value:"getFormat",id:"getformat",level:3},{value:"Format Introspection",id:"format-introspection",level:2},{value:"isNoAd",id:"isnoad",level:3},{value:"getSetsToWin",id:"getsetstowin",level:3},{value:"getTiebreakAt",id:"gettiebreakat",level:3},{value:"hasFinalSetTiebreak",id:"hasfinalsettiebreak",level:3},{value:"getFormatStructure",id:"getformatstructure",level:3},{value:"getInputMode",id:"getinputmode",level:3},{value:"Statistics &amp; Analysis",id:"statistics--analysis",level:2},{value:"getStatistics",id:"getstatistics",level:3},{value:"getEpisodes",id:"getepisodes",level:3},{value:"getNextServer",id:"getnextserver",level:3},{value:"Point Decoration &amp; Editing",id:"point-decoration--editing",level:2},{value:"decoratePoint",id:"decoratepoint",level:3},{value:"editPoint",id:"editpoint",level:3},{value:"markHardBoundary",id:"markhardboundary",level:3},{value:"Persistence",id:"persistence",level:2},{value:"getSupplementaryState",id:"getsupplementarystate",level:3},{value:"loadSupplementaryState",id:"loadsupplementarystate",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Complete method reference for the ",(0,i.jsx)(n.code,{children:"ScoringEngine"})," class."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The ScoringEngine uses ",(0,i.jsx)(n.strong,{children:"0-based side indexing"})," for ",(0,i.jsx)(n.code,{children:"winner"})," and ",(0,i.jsx)(n.code,{children:"server"})," parameters: ",(0,i.jsx)(n.code,{children:"0"})," = side 1, ",(0,i.jsx)(n.code,{children:"1"})," = side 2. This differs from TODS ",(0,i.jsx)(n.code,{children:"sideNumber"})," which is 1-based. Return values like ",(0,i.jsx)(n.code,{children:"getWinner()"})," use TODS convention (1 or 2)."]})}),"\n",(0,i.jsx)(n.h2,{id:"scoring-methods",children:"Scoring Methods"}),"\n",(0,i.jsx)(n.h3,{id:"addpoint",children:"addPoint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"addPoint(options: AddPointOptions): void\n"})}),"\n",(0,i.jsx)(n.p,{children:"Add a point to the match. This is the primary input method for point-by-point scoring."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.addPoint({ winner: 0 }); // Side 1 wins the point\nengine.addPoint({ winner: 1, server: 0 }); // Side 2 wins, side 1 served\nengine.addPoint({ winner: 0, result: 'Ace' }); // Side 1 wins with an ace\nengine.addPoint({ winner: 1, rallyLength: 12 }); // Side 2 wins after 12-shot rally\nengine.addPoint({ winner: 0, timestamp: new Date().toISOString() });\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"AddPointOptions"})," interface:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"interface AddPointOptions {\n  winner: 0 | 1; // Which side won the point\n  server?: 0 | 1; // Which side served (auto-derived if omitted)\n  timestamp?: string; // ISO timestamp\n  rallyLength?: number; // Number of shots in the rally\n  result?: string; // Point result label (e.g., 'Ace', 'Double Fault')\n  penaltyType?: string; // Penalty type if point was awarded via penalty\n  penaltyPoint?: boolean; // Whether this was a penalty point\n  wrongSide?: boolean; // Tracking flag for wrong-side serve\n  wrongServer?: boolean; // Tracking flag for wrong server\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"addgame",children:"addGame"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"addGame(options: AddGameOptions): void\n"})}),"\n",(0,i.jsx)(n.p,{children:"Add a complete game result. Used for game-by-game tracking without point detail."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.addGame({ winner: 0 }); // Side 1 wins a game\nengine.addGame({ winner: 1, tiebreakScore: [7, 5] }); // Side 2 wins tiebreak 7-5\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"addset",children:"addSet"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"addSet(options: AddSetOptions): void\n"})}),"\n",(0,i.jsx)(n.p,{children:"Add a complete set score. Used by scoring modals where users enter finished set scores directly."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.addSet({ side1Score: 6, side2Score: 4 }); // 6-4\nengine.addSet({ side1Score: 7, side2Score: 6, side1TiebreakScore: 7, side2TiebreakScore: 3 }); // 7-6(3)\nengine.addSet({ side1Score: 3, side2Score: 6, winningSide: 2 }); // Explicit winner\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"endsegment",children:"endSegment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"endSegment(options?: EndSegmentOptions): void\n"})}),"\n",(0,i.jsxs)(n.p,{children:["End a timed segment/period. For timed formats (",(0,i.jsx)(n.code,{children:"S:T10P"}),", etc.), this finalizes the current set's score and checks match completion."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.endSegment(); // End current segment\nengine.endSegment({ setNumber: 2 }); // End specific segment\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"setinitialscore",children:"setInitialScore"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"setInitialScore(options: InitialScoreOptions): void\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set the score before beginning point-by-point tracking. Used when a tracker arrives mid-match."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.setInitialScore({\n  sets: [\n    { side1Score: 6, side2Score: 3 },\n    { side1Score: 4, side2Score: 6 },\n  ],\n  currentSet: { side1Score: 2, side2Score: 1 },\n  currentGame: { side1Score: 30, side2Score: 15 },\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"state-management",children:"State Management"}),"\n",(0,i.jsx)(n.h3,{id:"setstate",children:"setState"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"setState(matchUp: MatchUp): void\n"})}),"\n",(0,i.jsx)(n.p,{children:"Load matchUp state from a TODS MatchUp JSON object. Replaces all internal state, clears redo stack."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const savedMatchUp = JSON.parse(localStorage.getItem('matchUp'));\nengine.setState(savedMatchUp);\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getstate",children:"getState"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getState(): MatchUp\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get current matchUp state as a TODS MatchUp object. Returns a direct reference (not a copy)."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const matchUp = engine.getState();\nlocalStorage.setItem('matchUp', JSON.stringify(matchUp));\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"reset",children:"reset"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"reset(): void\n"})}),"\n",(0,i.jsx)(n.p,{children:"Reset match to initial state. Clears all points, entries, undo/redo stacks, and lineups."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.reset();\nengine.getPointCount(); // 0\nengine.isComplete(); // false\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"undo--redo",children:"Undo / Redo"}),"\n",(0,i.jsx)(n.h3,{id:"undo",children:"undo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"undo(count?: number): boolean\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Undo the last N actions. Works across all input types (points, games, sets, segments). Returns ",(0,i.jsx)(n.code,{children:"true"})," if undo succeeded."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.undo(); // Undo last action\nengine.undo(3); // Undo last 3 actions\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"redo",children:"redo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"redo(count?: number): boolean\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Redo the last N undone actions. Returns ",(0,i.jsx)(n.code,{children:"true"})," if redo succeeded."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.redo(); // Redo last undone action\nengine.redo(2); // Redo last 2 undone actions\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"canundo",children:"canUndo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"canUndo(): boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check if there are actions available to undo."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"canredo",children:"canRedo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"canRedo(): boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check if there are actions available to redo."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getundodepth",children:"getUndoDepth"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getUndoDepth(): number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the number of actions that can be undone."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getredodepth",children:"getRedoDepth"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getRedoDepth(): number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the number of actions that can be redone."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"score-queries",children:"Score Queries"}),"\n",(0,i.jsx)(n.h3,{id:"getscore",children:"getScore"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getScore(): ScoreResult\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the current score as a structured object with sets, current game score, and set scores."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const score = engine.getScore();\n// { sets: [{ side1Score: 6, side2Score: 4, winningSide: 1 }, ...], ... }\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getscoreboard",children:"getScoreboard"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getScoreboard(options?: GetScoreboardOptions): string\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the score as a display string."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.getScoreboard(); // '6-4 3-6 2-1 30-15'\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getwinner",children:"getWinner"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getWinner(): number | undefined\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Get the match winner. Returns ",(0,i.jsx)(n.code,{children:"1"})," (side 1) or ",(0,i.jsx)(n.code,{children:"2"})," (side 2), or ",(0,i.jsx)(n.code,{children:"undefined"})," if not complete."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"iscomplete",children:"isComplete"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"isComplete(): boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check if the match is complete."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getpointcount",children:"getPointCount"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getPointCount(): number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the total number of points played."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getformat",children:"getFormat"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getFormat(): string\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the matchUpFormat code string."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.getFormat(); // 'SET3-S:6/TB7'\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"format-introspection",children:"Format Introspection"}),"\n",(0,i.jsx)(n.h3,{id:"isnoad",children:"isNoAd"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"isNoAd(): boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Whether the format uses No-Advantage scoring (deciding point at deuce)."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getsetstowin",children:"getSetsToWin"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getSetsToWin(): number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Number of sets needed to win the match."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const engine = new ScoringEngine({ matchUpFormat: 'SET5-S:6/TB7' });\nengine.getSetsToWin(); // 3\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"gettiebreakat",children:"getTiebreakAt"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getTiebreakAt(): number | null\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Game count at which a tiebreak is played, or ",(0,i.jsx)(n.code,{children:"null"})," if no tiebreak. Returns ",(0,i.jsx)(n.code,{children:"null"})," for tiebreak-only formats (pickleball, etc.) since the entire set IS the tiebreak."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"hasfinalsettiebreak",children:"hasFinalSetTiebreak"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"hasFinalSetTiebreak(): boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Whether a tiebreak is played in the final/deciding set."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getformatstructure",children:"getFormatStructure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getFormatStructure(): FormatStructure | undefined\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Get the parsed format structure for advanced consumers. Returns ",(0,i.jsx)(n.code,{children:"undefined"})," if the format string is invalid."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getinputmode",children:"getInputMode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getInputMode(): 'points' | 'games' | 'sets' | 'mixed' | 'none'\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the input mode based on what types of entries have been recorded."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.addPoint({ winner: 0 });\nengine.getInputMode(); // 'points'\n\nengine.addGame({ winner: 1 });\nengine.getInputMode(); // 'mixed'\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"statistics--analysis",children:"Statistics & Analysis"}),"\n",(0,i.jsx)(n.h3,{id:"getstatistics",children:"getStatistics"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getStatistics(options?: StatisticsOptions): MatchStatistics\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get match statistics calculated from point history. Returns counters, calculated stats, and summary."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const stats = engine.getStatistics();\nconst set1Stats = engine.getStatistics({ setFilter: 1 });\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getepisodes",children:"getEpisodes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getEpisodes(): Episode[]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the point history enriched with game/set/match context. Each episode contains point data plus game boundaries, set boundaries, and next server information. Suitable for timeline visualization and detailed analysis."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const episodes = engine.getEpisodes();\n// [{ point, gameScore, setScore, matchScore, gameNumber, setNumber, ... }, ...]\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getnextserver",children:"getNextServer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getNextServer(): 0 | 1\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Get who serves the next point. Uses format-driven server alternation by default, or ",(0,i.jsx)(n.code,{children:"WINNER_SERVES"})," if set in the competition format."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"point-decoration--editing",children:"Point Decoration & Editing"}),"\n",(0,i.jsx)(n.h3,{id:"decoratepoint",children:"decoratePoint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"decoratePoint(pointIndex: number, metadata: Record<string, any>): void\n"})}),"\n",(0,i.jsx)(n.p,{children:"Attach additional metadata to a point in history."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.decoratePoint(0, { courtPosition: 'deuce', shotType: 'forehand' });\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"editpoint",children:"editPoint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"editPoint(\n  pointIndex: number,\n  newData: Partial<AddPointOptions>,\n  options?: { recalculate?: boolean }\n): void\n"})}),"\n",(0,i.jsx)(n.p,{children:"Edit a point in history. By default, recalculates the score from the edited point forward."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// Fix a wrong winner call\nengine.editPoint(5, { winner: 1 });\n\n// Update metadata without recalculating\nengine.editPoint(5, { result: 'Ace' }, { recalculate: false });\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"markhardboundary",children:"markHardBoundary"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"markHardBoundary(options: { setIndex: number; gameIndex: number }): void\n"})}),"\n",(0,i.jsx)(n.p,{children:'Mark a game boundary as "hard". Edits before this boundary won\'t cascade past it during recalculation.'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"engine.markHardBoundary({ setIndex: 0, gameIndex: 4 });\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"persistence",children:"Persistence"}),"\n",(0,i.jsx)(n.h3,{id:"getsupplementarystate",children:"getSupplementaryState"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"getSupplementaryState(): ScoringEngineSupplementaryState\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Get engine-private state for persistence. Returns the redo stack and initial lineup snapshots \u2014 data that isn't part of ",(0,i.jsx)(n.code,{children:"getState()"})," but is needed to fully restore the engine."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const matchUp = engine.getState();\nconst supplementary = engine.getSupplementaryState();\n\n// Save both\nlocalStorage.setItem('matchUp', JSON.stringify(matchUp));\nlocalStorage.setItem('supplementary', JSON.stringify(supplementary));\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"loadsupplementarystate",children:"loadSupplementaryState"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"loadSupplementaryState(state: ScoringEngineSupplementaryState): void\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Restore engine-private state from persistence. Call after ",(0,i.jsx)(n.code,{children:"setState()"})," to fully restore engine state."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const matchUp = JSON.parse(localStorage.getItem('matchUp'));\nconst supplementary = JSON.parse(localStorage.getItem('supplementary'));\n\nengine.setState(matchUp);\nengine.loadSupplementaryState(supplementary);\n\n// Redo stack and lineups are now restored\nengine.canRedo(); // true (if there were undone actions)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"./scoring-engine-overview",children:"Overview"})})," \u2014 Introduction and architecture"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"./event-handlers",children:"Event Handlers & Integration"})})," \u2014 Event system and competitionFormat profiles"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"./format-support",children:"Multi-Sport Format Support"})})," \u2014 Format strings for different sports"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"./visualization-applications",children:"Visualization Applications"})})," \u2014 Building visualizations with ScoringEngine data"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8322(e,n,t){t.d(n,{R:()=>a,x:()=>d});var s=t(758);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);