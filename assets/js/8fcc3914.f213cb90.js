"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[8888],{6607(e,n,t){t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"engines/engine-logging","title":"Engine Logging","description":"Competition Factory engines provide facilities for logging function performance, parameters, and results.","source":"@site/docs/engines/engine-logging.md","sourceDirName":"engines","slug":"/engines/engine-logging","permalink":"/competition-factory/docs/engines/engine-logging","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Engine Logging"},"sidebar":"docs","previous":{"title":"Engine Methods","permalink":"/competition-factory/docs/engines/engine-methods"},"next":{"title":"Engine Middleware","permalink":"/competition-factory/docs/engines/engine-middleware"}}');var i=t(6070),s=t(8439);const r={title:"Engine Logging"},l=void 0,g={},a=[{value:"Custom Logging",id:"custom-logging",level:2},{value:"Logging Configuration",id:"logging-configuration",level:2},{value:"Logged Details",id:"logged-details",level:2}];function c(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Competition Factory ",(0,i.jsx)(n.strong,{children:"engines"})," provide facilities for logging function performance, parameters, and results.\nLogging can be configured and enabled in ",(0,i.jsx)(n.strong,{children:"globalState"})," directly or by calling ",(0,i.jsx)(n.code,{children:"engine.devContext(params)"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"custom-logging",children:"Custom Logging"}),"\n",(0,i.jsx)(n.p,{children:"By default factory engines will log to the console. It is possible to define a custom logging function:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { globalState: { setGlobalLog } } from 'tods-competition-factory'\n\nfunction customLoggingFunction({ log }) {\n  console.log('log:', log)\n}\n\nsetGlobalLog(customLoggingFunction)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"logging-configuration",children:"Logging Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { globalState: { setDevContext } } from 'tods-competition-factory'\nsetDevContext({ perf: true, params: true, results: true, errors: true });\n\n// - or -\naskEngine.devContext({ perf: true, params: true, results: true, errors: true });\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"logged-details",children:"Logged Details"}),"\n",(0,i.jsxs)(n.p,{children:["The values passed into ",(0,i.jsx)(n.code,{children:"devContext"})," for the following attributes can be either boolean or an array of function names."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"errors"}),": log method errors (e.g. invalid parameters)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"results"}),": log results returned by function(s)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"params"}),": log values passed into function(s)"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"askEngine.devContext({ errors: true }); // log all errors reported by all methods\naskEngine.devContext({ params: true }); // log param values for all functions\naskEngine.devContext({ results: true }); // log results for all functions\n\naskEngine.devContext({ params: ['getParticipants'], results: true }); // log paramaters and results only four the `getParticipants` function\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"perf"})," the value can be either boolean or a milliseconds threshold."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"perf"}),": log function execution time"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"askEngine.devContext({ perf: 200 }); // log function execution times greater than 200ms\n"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8439(e,n,t){t.d(n,{R:()=>r,x:()=>l});var o=t(758);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);