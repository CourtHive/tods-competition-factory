"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[8300],{5833(n,e,i){i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"concepts/actions","title":"Actions","description":"Overview","source":"@site/docs/concepts/actions.mdx","sourceDirName":"concepts","slug":"/concepts/actions","permalink":"/tods-competition-factory/docs/concepts/actions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Actions"},"sidebar":"docs","previous":{"title":"Draw Types","permalink":"/tods-competition-factory/docs/concepts/draw-types"},"next":{"title":"MatchUps Overview","permalink":"/tods-competition-factory/docs/concepts/matchup-overview"}}');var t=i(6070),c=i(8439);const o={title:"Actions"},r=void 0,a={},l=[{value:"Overview",id:"overview",level:2},{value:"Action Validation",id:"action-validation",level:3},{value:"positionActions",id:"positionactions",level:2},{value:"Supported Actions",id:"supported-actions",level:3},{value:"Usage",id:"usage",level:3},{value:"Policy Configuration",id:"policy-configuration",level:3},{value:"API Reference",id:"api-reference",level:3},{value:"matchUpActions",id:"matchupactions",level:2},{value:"Supported Actions",id:"supported-actions-1",level:3},{value:"Usage",id:"usage-1",level:3},{value:"Policy Configuration",id:"policy-configuration-1",level:3},{value:"Match Status Actions",id:"match-status-actions",level:3},{value:"API Reference",id:"api-reference-1",level:3}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(e.p,{children:["The engines of the Competition Factory preserve the integrity of tournament records,\nwhich means that errors are thrown when ",(0,t.jsx)(e.strong,{children:"invalid"})," actions are attempted, such as removing an outcome for a matchUp\nwhen participants have already progressed and completed subsequent matchUps in an elimination structure."]}),"\n",(0,t.jsxs)(e.p,{children:["In developing a User Interface for interaction with draw structures it is useful to know in advance which actions are ",(0,t.jsx)(e.strong,{children:"valid"}),".\nThe Competition Factory exports two methods which return not only ",(0,t.jsx)(e.code,{children:"validActions"})," but also the ",(0,t.jsx)(e.code,{children:"methods"})," to perform each action,\nalong with both pre-populated parameters and valid values for parameters which are yet to be defined."]}),"\n",(0,t.jsx)(e.h3,{id:"action-validation",children:"Action Validation"}),"\n",(0,t.jsx)(e.p,{children:"Actions are validated based on:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Draw structure integrity"}),": Can't remove participants if dependent matches have been played"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Tournament state"}),": Some actions only available before/after draw publication"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Participant status"}),": Can't withdraw already withdrawn participants"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Policy constraints"}),": Position Actions and MatchUp Actions policies can restrict available actions"]}),"\n"]}),"\n",(0,t.jsxs)(e.admonition,{title:"Policy Configuration",type:"tip",children:[(0,t.jsx)(e.p,{children:"Available actions can be customized using policies:"}),(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.a,{href:"/docs/policies/positionActions",children:"Position Actions Policy"})})," - Configure which position actions are allowed"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.a,{href:"/docs/policies/matchUpActions",children:"MatchUp Actions Policy"})})," - Configure which matchUp actions are allowed"]}),"\n"]})]}),"\n",(0,t.jsx)(e.h2,{id:"positionactions",children:"positionActions"}),"\n",(0,t.jsx)(e.p,{children:"Actions which are relevant to assigned positions within a draw structure. These actions manage participant placement, seeding, and draw position assignments."}),"\n",(0,t.jsx)(e.h3,{id:"supported-actions",children:"Supported Actions"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Participant Assignment:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Assign Participant"})," - Assign accepted/selected participants to specified draw position"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Assign Alternate"})," - Assign participant from the list of alternates to specified draw position"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Assign Qualifier"})," - Assign qualifier from Qualifying structure to specified draw position"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Assign Lucky Loser"})," - Assign loser from Qualifying structure to specified draw position"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Remove Assignment"})," - Clear specified draw position"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Withdraw Participant"})," - Clear specified draw position and withdraw participant from event"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Draw Position Management:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Assign Bye"})," - Assign a BYE to specified draw position"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Swap Participants"})," - Swap participant at specified draw position with any other positioned participant"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Modify Pair Assignment"})," - Modify individual participant within a positioned doubles pair participant"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Seeding:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Set Seed Value"})," - Assign custom seed value to participant at draw position"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Remove Seed Value"})," - Remove seed assignment from participant at draw position"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Display:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Set Nickname"})," - Set a nickname for assigned participant (useful when players have excessively long names or multiple players have the same name)"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Administrative:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Add Penalty"})," - Record a penalty for participant at specified draw position"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const { validActions, isByePosition } = tournamentEngine.positionActions({\n  drawId: 'draw-123',\n  structureId: 'structure-456',\n  drawPosition: 1\n});\n\n// validActions is an array of available action objects\nvalidActions.forEach(action => {\n  console.log(`${action.type}: ${action.method}`);\n  // Each action includes:\n  // - type: action name\n  // - method: engine method to call\n  // - payload: pre-populated parameters\n  // - availableOptions: valid values for user selection\n});\n"})}),"\n",(0,t.jsx)(e.h3,{id:"policy-configuration",children:"Policy Configuration"}),"\n",(0,t.jsx)(e.p,{children:"Position actions can be restricted using the Position Actions Policy:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"tournamentEngine.attachPolicies({\n  policyDefinitions: {\n    positionActions: {\n      policyName: 'Restricted',\n      // Disable specific actions\n      disableAssignQualifier: true,\n      disableAssignLuckyLoser: true,\n      // Only allow actions before draw publication\n      requireUnpublished: true\n    }\n  }\n});\n"})}),"\n",(0,t.jsx)(e.h3,{id:"api-reference",children:"API Reference"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"/docs/governors/query-governor#positionactions",children:"askEngine.positionActions()"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"See Also:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.a,{href:"/docs/policies/positionActions",children:"Position Actions Policy"})})," - Complete policy configuration guide"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.a,{href:"./draws-overview",children:"Draw Generation"})})," - Creating draws with participant assignments"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"matchupactions",children:"matchUpActions"}),"\n",(0,t.jsxs)(e.p,{children:["Actions which are relevant to a specific ",(0,t.jsx)(e.code,{children:"matchUp"})," within a draw structure. These actions manage match outcomes, scheduling, officials, and team lineups."]}),"\n",(0,t.jsx)(e.h3,{id:"supported-actions-1",children:"Supported Actions"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Match Outcomes:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Set Score"})," - Submit either complete or partial score for specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Set Status"})," - Submit ",(0,t.jsx)(e.code,{children:"matchUpStatus"})," for specified ",(0,t.jsx)(e.code,{children:"matchUp"})," (e.g., WALKOVER, DEFAULTED, RETIRED)"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Scheduling:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Set Schedule"})," - Submit scheduling details for specified ",(0,t.jsx)(e.code,{children:"matchUp"})," (date, time, court, venue)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Set Start Time"})," - Set start time for specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Set End Time"})," - Set end time for specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Officials:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Assign Referee"})," - Set Referee Participant for specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Add Officials"})," - Assign additional officials (line judges, supervisors)"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Administrative:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Add Penalty"})," - Record a penalty for participant within specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Team Events (TEAM matchUpType):"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Assign Lineup Position"})," - Assign participant to lineup position for specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Remove Lineup Position"})," - Remove participant from lineup position for specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Replace Lineup Position"})," - Replace participant assigned to lineup position for specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Substitute Position Participant"})," - Nominate substitute participant for lineup position for specified ",(0,t.jsx)(e.code,{children:"matchUp"})]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"usage-1",children:"Usage"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const { validActions, isByeMatchUp } = tournamentEngine.matchUpActions({\n  matchUpId: 'matchup-789',\n  drawId: 'draw-123'\n});\n\n// validActions is an array of available action objects\nvalidActions.forEach(action => {\n  console.log(`${action.type}: ${action.method}`);\n  // Each action includes:\n  // - type: action name\n  // - method: engine method to call\n  // - payload: pre-populated parameters\n  // - options: valid values for user selection\n});\n\n// Example: Set score action\nconst scoreAction = validActions.find(a => a.type === 'SCORE');\nif (scoreAction) {\n  // scoreAction.payload includes matchUpId, drawId\n  // scoreAction.options includes valid matchUpStatus values\n  tournamentEngine[scoreAction.method]({\n    ...scoreAction.payload,\n    score: { sets: [{ side1Score: 6, side2Score: 4 }] },\n    winningSide: 1\n  });\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"policy-configuration-1",children:"Policy Configuration"}),"\n",(0,t.jsx)(e.p,{children:"MatchUp actions can be restricted using the MatchUp Actions Policy:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"tournamentEngine.attachPolicies({\n  policyDefinitions: {\n    matchUpActions: {\n      policyName: 'TournamentDirector',\n      // Disable certain actions for published draws\n      disableScoreEntry: false,\n      requireRefereeAssignment: true,  // Require referee before scoring\n      // Control substitution rules\n      substitutionLimits: {\n        maxPerTeam: 2,\n        maxPerPosition: 1\n      },\n      // Restrict scheduling actions\n      enableScheduleModification: true,\n      requireScheduleApproval: false\n    }\n  }\n});\n"})}),"\n",(0,t.jsx)(e.h3,{id:"match-status-actions",children:"Match Status Actions"}),"\n",(0,t.jsx)(e.p,{children:"Different matchUpStatus values trigger different actions:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"TO_BE_PLAYED"})," \u2192 Can set schedule, assign officials, enter lineups"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"IN_PROGRESS"})," \u2192 Can set start time, update score"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"COMPLETED"})," \u2192 Can set end time, penalties; score modification restricted"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"WALKOVER/DEFAULTED"})," \u2192 Can modify status, add penalties"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"SUSPENDED"})," \u2192 Can add notes, set resume time"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"api-reference-1",children:"API Reference"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"/docs/governors/query-governor#matchupactions",children:"askEngine.matchUpActions()"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"See Also:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.a,{href:"/docs/policies/matchUpActions",children:"MatchUp Actions Policy"})})," - Complete policy configuration guide"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.a,{href:"./scheduling-overview",children:"Scheduling Overview"})})," - Understanding match scheduling"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.a,{href:"./tieFormat",children:"Team Events"})})," - Lineup and substitution management"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8439(n,e,i){i.d(e,{R:()=>o,x:()=>r});var s=i(758);const t={},c=s.createContext(t);function o(n){const e=s.useContext(c);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);