"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[450],{5058(e,o,i){i.r(o),i.d(o,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>d,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"governors/tie-format-governor","title":"tieFormat Governor","description":"addCollectionDefinition","source":"@site/docs/governors/tie-format-governor.md","sourceDirName":"governors","slug":"/governors/tie-format-governor","permalink":"/competition-factory/docs/governors/tie-format-governor","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"tieFormat Governor"}}');var t=i(6070),r=i(8322);const d={title:"tieFormat Governor"},a=void 0,l={},c=[{value:"addCollectionDefinition",id:"addcollectiondefinition",level:2},{value:"addCollectionGroup",id:"addcollectiongroup",level:2},{value:"compareTieFormats",id:"comparetieformats",level:2},{value:"modifyCollectionDefinition",id:"modifycollectiondefinition",level:2},{value:"modifyTieFormat",id:"modifytieformat",level:2},{value:"orderCollectionDefinitions",id:"ordercollectiondefinitions",level:2},{value:"removeCollectionDefinition",id:"removecollectiondefinition",level:2},{value:"removeCollectionGroup",id:"removecollectiongroup",level:2},{value:"validateCollectionDefinition",id:"validatecollectiondefinition",level:2}];function s(e){const o={code:"code",h2:"h2",hr:"hr",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"import { tieFormatGovernor } from 'tods-competition-factory';\n"})}),"\n",(0,t.jsx)(o.h2,{id:"addcollectiondefinition",children:"addCollectionDefinition"}),"\n",(0,t.jsxs)(o.p,{children:["Adds a ",(0,t.jsx)(o.code,{children:"collectionDefinition"})," to the specified target, either ",(0,t.jsx)(o.code,{children:"matchUp"}),", ",(0,t.jsx)(o.code,{children:"structure"}),", ",(0,t.jsx)(o.code,{children:"drawDefinition"})," or ",(0,t.jsx)(o.code,{children:"event"}),"."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"engine.addCollectionDefinition({\n  updateInProgressMatchUps, // defaults to true; in progress matchUps have matchUpStatus: IN_PROGRESS\n  collectionDefinition, // will be validated\n  tieFormatName, // if not provided, existing tieFormatName will be deleted\n  structureId, // optional - if provided only tieFormat on structure will be modified\n  matchUpId, // optional - if provided only tieFormat on matchUp will be modified\n  eventId, // optional - if provided only tieFormat on event will be modified\n  drawId, // required if structureId is specified; if provided without structureId only tieFormat on drawDefinition will be modified\n  uuids, // optional - array of UUIDs to use for newly created matchUps\n});\n"})}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"addcollectiongroup",children:"addCollectionGroup"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"engine.addCollectionGroup({\n  collectionIds: result.modifiedCollectionIds,\n  tieFormatName: 'Swelled',\n  groupDefinition,\n  structureId, // optional - if provided only tieFormat on structure will be modified\n  matchUpId, // optional - if provided only tieFormat on matchUp will be modified\n  eventId, // optional - if provided only tieFormat on event will be modified\n  drawId, // required if structureId is specified; if provided without structureId only tieFormat on drawDefinition will be modified\n});\n"})}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"comparetieformats",children:"compareTieFormats"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"engine.compareTieFormats({\n  considerations, // optional { collectionName?: boolean; collectionOrder?: boolean };\n  ancestor: tieFormat1,\n  descendant: tieFormat2,\n});\n"})}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"modifycollectiondefinition",children:"modifyCollectionDefinition"}),"\n",(0,t.jsxs)(o.p,{children:["Modifies the ",(0,t.jsx)(o.code,{children:"collectionName"})," and/or ",(0,t.jsx)(o.code,{children:"matchUpFormat"})," for targeted ",(0,t.jsx)(o.code,{children:"collectionId"})," within the ",(0,t.jsx)(o.code,{children:"tieFormat"})," specified by ",(0,t.jsx)(o.code,{children:"eventId"}),", ",(0,t.jsx)(o.code,{children:"drawId"}),", ",(0,t.jsx)(o.code,{children:"structureId"})," or ",(0,t.jsx)(o.code,{children:"matchUpId"}),"."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"engine.modifyCollectionDefinition({\n  collectionName, // optional\n  matchUpFormat, // optional\n  collectionId, // required\n  structureId, // required if modifying tieFormat for a structure\n  matchUpId, // required if modifying tieFormat for a matchUp\n  eventId, // required if modifying tieFormat for a event\n  drawId, // required if modifying tieFormat for a drawDefinition or a structure\n  gender, // optional\n\n  // value assignment, only one is allowed to have a value\n  collectionValueProfiles, // optional - [{ collectionPosition: 1, value: 2 }] - there must be a value provided for all matchUp positions\n  collectionValue, // optional - value awarded for winning more than half of the matchUps in the collection\n  matchUpValue, // optional - value awarded for each matchUp won\n  scoreValue, // optional - value awarded for each game or point won (points for tiebreak sets)\n  setValue, // optional - value awarded for each set won\n});\n"})}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"modifytieformat",children:"modifyTieFormat"}),"\n",(0,t.jsxs)(o.p,{children:["Both modifies the ",(0,t.jsx)(o.code,{children:"tieFormat"})," on the target ",(0,t.jsx)(o.code,{children:"event"}),", ",(0,t.jsx)(o.code,{children:"drawDefinition"}),", ",(0,t.jsx)(o.code,{children:"structure"})," or ",(0,t.jsx)(o.code,{children:"matchUp"})," and adds/deletes ",(0,t.jsx)(o.code,{children:"tieMatchUps"})," as necessary."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"engine.modifyTieFormat({\n  considerations, // optional { collectionName?: boolean; collectionOrder?: boolean };\n  modifiedTieFormat, // will be compared to existing tieFormat that is targeted and differences calculated\n  tournamentId, // required\n  structureId, // required if modifying tieFormat for a structure\n  matchUpId, // required if modifying tieFormat for a matchUp\n  eventId, // required if modifying tieFormat for a event\n  drawId, // required if modifying tieFormat for a drawDefinition or a structure\n});\n"})}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"ordercollectiondefinitions",children:"orderCollectionDefinitions"}),"\n",(0,t.jsxs)(o.p,{children:["Modify the array order of ",(0,t.jsx)(o.code,{children:"tieFormat.collectionDefinitions"})," for an ",(0,t.jsx)(o.code,{children:"event"}),", a ",(0,t.jsx)(o.code,{children:"drawDefinition"}),", ",(0,t.jsx)(o.code,{children:"structure"}),", or ",(0,t.jsx)(o.code,{children:"matchUp"}),"."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"engine.orderCollectionDefinitions({\n  orderMap: { collectionId1: 1, collectionId2: 2 },\n  tournamentId, // required\n  structureId, // required if modifying tieFormat for a structure\n  matchUpId, // required if modifying tieFormat for a matchUp\n  eventId, // required if modifying tieFormat for a event\n  drawId, // required if modifying tieFormat for a drawDefinition or a structure\n});\n"})}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"removecollectiondefinition",children:"removeCollectionDefinition"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"engine.removeCollectionDefinition({\n  updateInProgressMatchUps, // optional; defaults to true\n  tieFormatComparison, // optional; defaults to false; when true will not delete unique collections on unscored matchUps\n  tieFormatName, // any time a collectionDefinition is modified a new name must be provided\n  tournamentId, // required\n  collectionId, // required - id of collectionDefinition to be removed\n  structureId, // optional - if removing from tieFormat associated with a specific structure\n  matchUpId, // optional - if removing from tieFormat asscoiated with a specific matchUp\n  eventId, // optional - if removing from tieFormat asscoiated with an event\n  drawId, // required if structureId is specified or if tieFormat associated with drawDefinition is to be modified\n});\n"})}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"removecollectiongroup",children:"removeCollectionGroup"}),"\n",(0,t.jsxs)(o.p,{children:["Removes a ",(0,t.jsx)(o.code,{children:"collectionGroup"})," from the ",(0,t.jsx)(o.code,{children:"tieFormat"})," found for the ",(0,t.jsx)(o.code,{children:"event"}),", ",(0,t.jsx)(o.code,{children:"drawDefinition"}),", ",(0,t.jsx)(o.code,{children:"structure"})," or ",(0,t.jsx)(o.code,{children:"matchUp"}),"; recalculates"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"engine.removeCollectionGroup({\n  updateInProgressMatchUps, // optional - defaults to true\n  tieFormatName: 'New tieFormat', // if no name is provided then there will be no name\n  collectionGroupNumber: 1,\n  tournamentId, // required\n  structureId, // optional\n  matchUpId, // optional\n  eventId, // optional\n  drawId, // optional; required if structureId is targeted\n});\n"})}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"validatecollectiondefinition",children:"validateCollectionDefinition"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"const { valid } = engine.validateCollectionDefinition({\n  collectionDefinition, // required\n  checkCollectionIds, // optional boolean - check that collectionIds are present\n  referenceCategory, // optional - category for comparision if eventId is not provided\n  referenceGender, // optional - expected gender if eventId is not provided\n  checkCategory, // optional boolean - defaults to true\n  checkGender, // optional boolean - defaults to true\n  eventId, // required only for checking gender\n});\n"})}),"\n",(0,t.jsx)(o.hr,{})]})}function m(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}},8322(e,o,i){i.d(o,{R:()=>d,x:()=>a});var n=i(758);const t={},r=n.createContext(t);function d(e){const o=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(r.Provider,{value:o},e.children)}}}]);